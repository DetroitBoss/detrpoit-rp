{"id":"axF4","dependencies":[{"name":"D:\\DETROIT\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":33,"index":33},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react\\index.js"},{"name":"./../Provoda/assets/style.less","loc":{"line":2,"column":7,"index":50},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Provoda\\assets\\style.less"},{"name":"react-draggable","loc":{"line":3,"column":30,"index":115},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react-draggable\\build\\cjs\\cjs.js"},{"name":"./../Provoda/assets/mouse.svg","loc":{"line":4,"column":18,"index":153},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Provoda\\assets\\mouse.svg"},{"name":"./assets/drill.png","loc":{"line":5,"column":18,"index":205},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\assets\\drill.png"},{"name":"./assets/sverlo1.png","loc":{"line":6,"column":20,"index":248},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\assets\\sverlo1.png"},{"name":"./assets/sverlo2.png","loc":{"line":7,"column":20,"index":293},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\assets\\sverlo2.png"},{"name":"./assets/wood.png","loc":{"line":8,"column":17,"index":335},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\assets\\wood.png"},{"name":"./../Success/success","loc":{"line":9,"column":24,"index":381},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Success\\success.tsx"},{"name":"../../../modules/CEF","loc":{"line":10,"column":20,"index":426},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\CEF.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DrillGame=void 0;var e=f(require(\"react\"));require(\"./../Provoda/assets/style.less\");var t=require(\"react-draggable\"),n=c(require(\"./../Provoda/assets/mouse.svg\")),r=c(require(\"./assets/drill.png\")),o=c(require(\"./assets/sverlo1.png\")),i=c(require(\"./assets/sverlo2.png\")),a=c(require(\"./assets/wood.png\")),l=require(\"./../Success/success\"),u=require(\"../../../modules/CEF\");function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(\"default\"!==i&&{}.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function d(e){return(d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function g(e){var t=w(e,\"string\");return\"symbol\"==d(t)?t:t+\"\"}function w(e,t){if(\"object\"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!=d(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}function O(e,t,n){return t=_(t),E(e,P()?Reflect.construct(t,n||[],_(e).constructor):t.apply(e,n))}function E(e,t){if(t&&(\"object\"==d(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return j(e)}function j(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(P=function(){return!!e})()}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&x(e,t)}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var M={min:4,max:8},D=exports.DrillGame=function(c){function s(t){var n;return v(this,s),(n=O(this,s,[t])).successGame=function(){n.props.status(!0),console.log(\"end game\")},n.timerGame=function(){n.state.time<=1&&clearInterval(n.intervalID),n.setState(h(h({},n.state),{},{time:n.state.time-1}))},n.successPoint=function(){console.log(n.state.point.filter(function(e){return!0===e.attached}).length,n.state.point.length),n.state.point.filter(function(e){return!0===e.attached}).length>=n.state.point.length&&n.successGame()},n.componentDidMount=function(){for(var t=M.min+Math.floor(Math.random()*Math.floor(M.max-M.min)),r=[],o=0;o<t;o++)r.push({attached:!1,position:[0,10+8*o+4*Math.random()],width:[0,10],lottie:e.default.createRef()});n.setState(h(h({},n.state),{},{point:r}))},n.handleEvent=function(e){var t=n.state.drill,r=n.state.point,o=e.deltaX/document.documentElement.clientWidth*100,i=e.deltaY/document.documentElement.clientHeight*100,a=n.state.sound,l=[t.position[0]-o,t.position[1]+i];if(t.position[0]<0){var c=!1;if(n.state.point.map(function(e,n){Math.abs(e.position[1]-4.5-t.position[1])<1&&(e.width[0]<e.width[1]||l[0]>-10)&&(c=!0,l[1]=e.position[1]-4.5,e.width[0]+=o/5,null===a[0]&&(a[0]=u.CEF.playSound(\"drel\",.05)),l[0]=t.position[0]-o/5,!1===r[n].attached&&e.width[0]>=e.width[1]&&(r[n].attached=!0,r[n].lottie.current.play()))}),o<0)l[1]=t.position[1];else if(!1===c)return}else if(o<0&&null!==a[0]&&null===a[1]){a[1]=.05;var s=setInterval(function(){a[1]-=.005,a[1]<=.005?(a[0].pause(),a[0].unload(),a[0]=null,a[1]=null,clearInterval(s)):a[0].volume(a[1]),n.setState(h(h({},n.state),{},{sound:a}))},100)}t.position[0]=l[0],t.position[1]=l[1],n.setState(h(h({},n.state),{},{drill:t,point:r,sound:a}))},n.PrefInt=function(e,t){return e.length<t?\"0\"+e:e},n.state={time:20,drill:{position:[30,50]},point:[],sound:[null,null]},n.intervalID=setInterval(n.timerGame,1e3),n}return S(s,e.Component),b(s,[{key:\"render\",value:function(){var u=this;return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"provoda_browser\",style:{mixBlendMode:\"normal\",background:\"radial-gradient(50% 50% at 50% 50%, rgba(58, 71, 31, 0.64) 0%, rgba(25, 31, 18, 0.94) 100%)\"}},e.default.createElement(\"div\",{className:\"provoda_info\"},e.default.createElement(\"div\",null,e.default.createElement(\"h1\",null,\"Просверлите\"),e.default.createElement(\"h2\",null,\"Отверстия\"),e.default.createElement(\"h3\",null,\"Сверилте отверстия на метках\")),e.default.createElement(\"div\",{className:\"provoda_bottom\"},e.default.createElement(\"img\",{src:n.default}),e.default.createElement(\"h4\",null,\"Двигайте мышью, чтобы управлять дрелью\"))),e.default.createElement(\"img\",{src:a.default,style:{zIndex:9999,mixBlendMode:\"normal\",isolation:\"isolate\",position:\"absolute\",right:0,width:\"30vh\",height:\"100vh\"}}),this.state.point.map(function(t){return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{style:{zIndex:1e4,mixBlendMode:\"normal\",position:\"absolute\",right:\"20vh\",width:\"\".concat(t.width[1],\"vh\"),height:\"1.2vh\",top:\"\".concat(t.position[1],\"vh\"),opacity:.9,backgroundColor:t.attached?\"rgb(25, 31, 18)\":\"#FFFFFFFF\",borderRadius:\"0 1vh 1vh 0\"}}),e.default.createElement(\"div\",{style:{zIndex:!0===t.attached?99999:-1,display:\"flex\",right:\"10vh\",position:\"absolute\",justifyContent:\"center\",width:\"5vh\",height:\"5vh\",top:\"\".concat(t.position[1]-2.5,\"vh\")}},(0,l.Success)(t.lottie,u.successPoint)))}),e.default.createElement(t.DraggableCore,{key:\"dr_\".concat(1),grid:[.5,.5],onStart:function(e,t){return u.handleEvent(t)},onDrag:function(e,t){return u.handleEvent(t)},onStop:function(e,t){return u.handleEvent(t)}},e.default.createElement(\"div\",{style:{top:\"\".concat(this.state.drill.position[1],\"vh\"),zIndex:10001,display:\"flex\",right:\"calc( \".concat(this.state.drill.position[0],\"vh + 30vh )\"),position:\"absolute\"}},e.default.createElement(\"img\",{src:r.default,style:{minWidth:\"50vh\",minHeight:\"50vh\",width:\"50vh\",height:\"50vh\",zIndex:10002,pointerEvents:\"none\"}}),e.default.createElement(\"div\",{style:{marginBottom:\"40vh\",height:\"10vh\",width:\"30vh\",marginLeft:\"-10vh\",overflow:\"hidden\"}},e.default.createElement(\"img\",{className:\"drillgame_sverlo\",src:o.default,style:{width:\"100%\",height:\"100%\",pointerEvents:\"none\"}})),e.default.createElement(\"img\",{src:i.default,style:{marginBottom:\"40vh\",height:\"10vh\",width:\"1vh\",pointerEvents:\"none\"}})))))}}])}();"},"sourceMaps":null,"error":null,"hash":"7dcd2aa05228a77f7a4a904dc5969da4","cacheData":{"env":{}}}