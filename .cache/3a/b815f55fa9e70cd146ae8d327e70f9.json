{"id":"gbJr","dependencies":[{"name":"C:\\onyx_V2\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":33,"index":33},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\node_modules\\react\\index.js"},{"name":"./style.less","loc":{"line":2,"column":7,"index":50},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\style.less"},{"name":"react-draggable","loc":{"line":3,"column":22,"index":89},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\node_modules\\react-draggable\\build\\cjs\\cjs.js"},{"name":"./assets/closeIcon.svg","loc":{"line":4,"column":22,"index":131},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\closeIcon.svg"},{"name":"./assets/backgroundImage.png","loc":{"line":5,"column":28,"index":186},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\backgroundImage.png"},{"name":"./assets/cardBlackIcon.png","loc":{"line":6,"column":26,"index":245},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\cardBlackIcon.png"},{"name":"./assets/cardPlatinumIcon.png","loc":{"line":7,"column":29,"index":305},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\cardPlatinumIcon.png"},{"name":"./assets/cardGoldIcon.png","loc":{"line":8,"column":25,"index":364},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\cardGoldIcon.png"},{"name":"./assets/walletIcon.svg","loc":{"line":9,"column":23,"index":417},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\walletIcon.svg"},{"name":"./assets/walletIconActive.svg","loc":{"line":10,"column":29,"index":474},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\walletIconActive.svg"},{"name":"./assets/cardIcon.svg","loc":{"line":11,"column":21,"index":529},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\cardIcon.svg"},{"name":"./assets/cardIconAcitve.svg","loc":{"line":12,"column":27,"index":582},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\cardIconAcitve.svg"},{"name":"./assets/listIcon.svg","loc":{"line":13,"column":21,"index":635},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\listIcon.svg"},{"name":"./assets/listIconActive.svg","loc":{"line":14,"column":27,"index":688},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\listIconActive.svg"},{"name":"./assets/pinIcon.svg","loc":{"line":15,"column":20,"index":740},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\pinIcon.svg"},{"name":"./assets/pinIconActive.svg","loc":{"line":16,"column":26,"index":791},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\pinIconActive.svg"},{"name":"./assets/grayArrow.svg","loc":{"line":17,"column":22,"index":844},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\grayArrow.svg"},{"name":"./assets/orangeArrow.svg","loc":{"line":18,"column":24,"index":895},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\orangeArrow.svg"},{"name":"./assets/wallet.png","loc":{"line":19,"column":19,"index":943},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\wallet.png"},{"name":"./assets/attention.svg","loc":{"line":20,"column":22,"index":989},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\attention.svg"},{"name":"./assets/nfc.svg","loc":{"line":21,"column":16,"index":1032},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\nfc.svg"},{"name":"./assets/cardBlack.png","loc":{"line":22,"column":22,"index":1075},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\cardBlack.png"},{"name":"./assets/cardPlatinum.png","loc":{"line":23,"column":25,"index":1127},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\cardPlatinum.png"},{"name":"./assets/cardGold.png","loc":{"line":24,"column":21,"index":1178},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\assets\\cardGold.png"},{"name":"../../modules/custom.event","loc":{"line":25,"column":28,"index":1232},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\modules\\custom.event.ts"},{"name":"../../modules/CEF","loc":{"line":26,"column":20,"index":1283},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\modules\\CEF.ts"},{"name":"../../../shared/system","loc":{"line":27,"column":27,"index":1332},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\ATM\\ATM.tsx","resolved":"C:\\onyx_V2\\server\\src\\shared\\system.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ATM=void 0;var e=j(require(\"react\"));require(\"./style.less\");var t=O(require(\"react-draggable\")),n=O(require(\"./assets/closeIcon.svg\")),r=O(require(\"./assets/backgroundImage.png\")),a=O(require(\"./assets/cardBlackIcon.png\")),i=O(require(\"./assets/cardPlatinumIcon.png\")),o=O(require(\"./assets/cardGoldIcon.png\")),c=O(require(\"./assets/walletIcon.svg\")),s=O(require(\"./assets/walletIconActive.svg\")),u=O(require(\"./assets/cardIcon.svg\")),l=O(require(\"./assets/cardIconAcitve.svg\")),f=O(require(\"./assets/listIcon.svg\")),d=O(require(\"./assets/listIconActive.svg\")),m=O(require(\"./assets/pinIcon.svg\")),h=O(require(\"./assets/pinIconActive.svg\")),p=O(require(\"./assets/grayArrow.svg\")),v=O(require(\"./assets/orangeArrow.svg\")),y=O(require(\"./assets/wallet.png\")),g=O(require(\"./assets/attention.svg\")),b=O(require(\"./assets/nfc.svg\")),E=O(require(\"./assets/cardBlack.png\")),w=O(require(\"./assets/cardPlatinum.png\")),P=O(require(\"./assets/cardGold.png\")),N=require(\"../../modules/custom.event\"),_=require(\"../../modules/CEF\"),C=require(\"../../../shared/system\");function O(e){return e&&e.__esModule?e:{default:e}}function k(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(\"default\"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function x(e){return(x=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function A(){A=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i=\"function\"==typeof Symbol?Symbol:{},o=i.iterator||\"@@iterator\",c=i.asyncIterator||\"@@asyncIterator\",s=i.toStringTag||\"@@toStringTag\";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},\"\")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),c=new S(r||[]);return a(o,\"_invoke\",{value:O(e,n,c)}),o}function f(e,t,n){try{return{type:\"normal\",arg:e.call(t,n)}}catch(e){return{type:\"throw\",arg:e}}}t.wrap=l;var d=\"suspendedStart\",m=\"suspendedYield\",h=\"executing\",p=\"completed\",v={};function y(){}function g(){}function b(){}var E={};u(E,o,function(){return this});var w=Object.getPrototypeOf,P=w&&w(w(T([])));P&&P!==n&&r.call(P,o)&&(E=P);var N=b.prototype=y.prototype=Object.create(E);function _(e){[\"next\",\"throw\",\"return\"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){function n(a,i,o,c){var s=f(e[a],e,i);if(\"throw\"!==s.type){var u=s.arg,l=u.value;return l&&\"object\"==x(l)&&r.call(l,\"__await\")?t.resolve(l.__await).then(function(e){n(\"next\",e,o,c)},function(e){n(\"throw\",e,o,c)}):t.resolve(l).then(function(e){u.value=e,o(u)},function(e){return n(\"throw\",e,o,c)})}c(s.arg)}var i;a(this,\"_invoke\",{value:function(e,r){function a(){return new t(function(t,a){n(e,r,t,a)})}return i=i?i.then(a,a):a()}})}function O(t,n,r){var a=d;return function(i,o){if(a===h)throw new Error(\"Generator is already running\");if(a===p){if(\"throw\"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var c=r.delegate;if(c){var s=k(c,r);if(s){if(s===v)continue;return s}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(a===d)throw a=p,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);a=h;var u=f(t,n,r);if(\"normal\"===u.type){if(a=r.done?p:m,u.arg===v)continue;return{value:u.arg,done:r.done}}\"throw\"===u.type&&(a=p,r.method=\"throw\",r.arg=u.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,\"throw\"===r&&t.iterator.return&&(n.method=\"return\",n.arg=e,k(t,n),\"throw\"===n.method)||\"return\"!==r&&(n.method=\"throw\",n.arg=new TypeError(\"The iterator does not provide a '\"+r+\"' method\")),v;var i=f(a,t.iterator,n.arg);if(\"throw\"===i.type)return n.method=\"throw\",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,\"return\"!==n.method&&(n.method=\"next\",n.arg=e),n.delegate=null,v):o:(n.method=\"throw\",n.arg=new TypeError(\"iterator result is not an object\"),n.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(j,this),this.reset(!0)}function T(t){if(t||\"\"===t){var n=t[o];if(n)return n.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(x(t)+\" is not iterable\")}return g.prototype=b,a(N,\"constructor\",{value:b,configurable:!0}),a(b,\"constructor\",{value:g,configurable:!0}),g.displayName=u(b,s,\"GeneratorFunction\"),t.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===g||\"GeneratorFunction\"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,\"GeneratorFunction\")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},_(C.prototype),u(C.prototype,c,function(){return this}),t.AsyncIterator=C,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new C(l(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(N),u(N,s,\"Generator\"),u(N,o,function(){return this}),u(N,\"toString\",function(){return\"[object Generator]\"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)\"t\"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type=\"throw\",c.arg=t,n.next=r,a&&(n.method=\"next\",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if(\"root\"===o.tryLoc)return a(\"end\");if(o.tryLoc<=this.prev){var s=r.call(o,\"catchLoc\"),u=r.call(o,\"finallyLoc\");if(s&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,\"finallyLoc\")&&this.prev<a.finallyLoc){var i=a;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if(\"throw\"===r.type){var a=r.arg;I(n)}return a}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},\"next\"===this.method&&(this.arg=e),v}},t}function I(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){I(i,r,a,o,c,\"next\",e)}function c(e){I(i,r,a,o,c,\"throw\",e)}o(void 0)})}}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){q(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function q(e,t,n){return(t=W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function D(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function W(e){var t=$(e,\"string\");return\"symbol\"===x(t)?t:String(t)}function $(e,t){if(\"object\"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==x(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}function G(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=U();return function(){var n,r=Y(e);if(t){var a=Y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){if(t&&(\"object\"===x(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return H(e)}function H(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function U(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=exports.ATM=function(O){G(j,e.Component);var k=V(j);function j(t){var n;return R(this,j),(n=k.call(this,t)).state={isDragging:!1,cardOnNFC:!1,refCard:e.default.createRef(),cardType:\"gold\",component:\"NFC\",cardNumber:\"8790\",refPinCode:e.default.createRef(),history:[{isPlus:!0,description:\"Пополнение наличными\",sum:5e4},{isPlus:!1,description:\"Снятие наличных\",sum:12e3}],refInputCashAction:e.default.createRef(),refInputTransactionAccount:e.default.createRef(),refInputTransactionAmount:e.default.createRef(),refOldPin:e.default.createRef(),refNewPin:e.default.createRef(),refNewRepeatPin:e.default.createRef()},n.eventHandler=N.CustomEvent.register(\"atm:load\",function(e,t){var r=t.map(function(e){return{isPlus:\"add\"===e.type,description:e.text,sum:e.sum}});n.setState(L(L({},n.state),{},{history:r,cardNumber:e}))}),n}return D(j,[{key:\"componentWillUnmount\",value:function(){this.eventHandler&&this.eventHandler.destroy()}},{key:\"close\",value:function(){_.CEF.gui.setGui(null)}},{key:\"onClickCashAction\",value:function(){var e=this.state.refInputCashAction.current.value;\"\"!==e&&N.CustomEvent.triggerServer(\"atm:takeCash\",C.systemUtil.parseInt(e))}},{key:\"sendMoney\",value:function(){var e=this.state.refInputTransactionAccount.current.value,t=this.state.refInputTransactionAmount.current.value;\"\"!==t&&\"\"!==e&&N.CustomEvent.triggerServer(\"bank:transfer\",C.systemUtil.parseInt(t),e)}},{key:\"savePin\",value:function(){var e=S(A().mark(function e(){var t,n,r;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.refOldPin.current.value,n=this.state.refNewPin.current.value,r=this.state.refNewRepeatPin.current.value,!(t.length<4)){e.next=3;break}return e.abrupt(\"return\");case 3:if(!(n.length<4)){e.next=5;break}return e.abrupt(\"return\");case 5:if(!(r.length<4)){e.next=7;break}return e.abrupt(\"return\");case 7:N.CustomEvent.triggerServer(\"atm:changePin\",this.state.cardNumber,t,n);case 8:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"setComponent\",value:function(e){\"PIN\"!==this.state.component&&this.setState(L(L({},this.state),{},{component:e}))}},{key:\"moneySpace\",value:function(e){return\"\".concat(e).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g,\" \")}},{key:\"setCashActionValue\",value:function(e){this.state.refInputCashAction.current.value=e}},{key:\"setTransactionValue\",value:function(e){this.state.refInputTransactionAmount.current.value=e}},{key:\"onChangePinEnter\",value:function(){var e=S(A().mark(function e(){return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.refPinCode.current.value.length>4&&(this.state.refPinCode.current.value=this.state.refPinCode.current.value.substr(0,4)),/[^0-9.]/g.test(this.state.refPinCode.current.value)&&(this.state.refPinCode.current.value=this.state.refPinCode.current.value.replaceAll(/[^0-9.]/g,\"\")),!(this.state.refPinCode.current.value.length<4)){e.next=4;break}return e.abrupt(\"return\");case 4:return e.next=6,N.CustomEvent.callServer(\"pin:check\",this.state.cardNumber,this.state.refPinCode.current.value);case 6:e.sent&&this.setState(L(L({},this.state),{},{component:\"cashAction\"}));case 8:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"onChangePinInput\",value:function(e){switch(e){case 0:this.state.refOldPin.current.value.length>4&&(this.state.refOldPin.current.value=this.state.refOldPin.current.value.substr(0,4)),/[^0-9.]/g.test(this.state.refOldPin.current.value)&&(this.state.refOldPin.current.value=this.state.refOldPin.current.value.replaceAll(/[^0-9.]/g,\"\"));break;case 1:this.state.refNewPin.current.value.length>4&&(this.state.refNewPin.current.value=this.state.refNewPin.current.value.substr(0,4)),/[^0-9.]/g.test(this.state.refNewPin.current.value)&&(this.state.refNewPin.current.value=this.state.refNewPin.current.value.replaceAll(/[^0-9.]/g,\"\"));break;case 2:this.state.refNewRepeatPin.current.value.length>4&&(this.state.refNewRepeatPin.current.value=this.state.refNewRepeatPin.current.value.substr(0,4)),/[^0-9.]/g.test(this.state.refNewRepeatPin.current.value)&&(this.state.refNewRepeatPin.current.value=this.state.refNewRepeatPin.current.value.replaceAll(/[^0-9.]/g,\"\"));break;default:return}}},{key:\"startDrag\",value:function(){this.setState(L(L({},this.state),{},{isDragging:!0}))}},{key:\"stopDrag\",value:function(){if(this.state.cardOnNFC)return this.setState(L(L({},this.state),{},{isDragging:!1,component:\"PIN\"})),void this.state.refPinCode.current.focus();this.setState(L(L({},this.state),{},{isDragging:!1}))}},{key:\"mouseEventOnNFC\",value:function(e){console.log(JSON.stringify([e,this.state.isDragging])),this.state.isDragging&&this.setState(L(L({},this.state),{},{cardOnNFC:e}))}},{key:\"getPointerEvents\",value:function(){return this.state.isDragging?\"none\":\"auto\"}},{key:\"render\",value:function(){var N=this;return e.default.createElement(\"div\",{className:\"atm\"},e.default.createElement(\"img\",{src:r.default,className:\"atm__backgroundImage\",alt:\"\"}),e.default.createElement(\"div\",{className:\"exit\",onClick:function(){return N.close()}},e.default.createElement(\"div\",{className:\"exit__icon\"},e.default.createElement(\"img\",{src:n.default,alt:\"#\"})),e.default.createElement(\"div\",{className:\"exit__title\"},\"Закрыть\")),\"NFC\"===this.state.component&&e.default.createElement(\"div\",{className:\"atm-startWindow\"},e.default.createElement(\"div\",{className:\"atm-startWindow__title\"},\"Поднесите карту к\",e.default.createElement(\"br\",null),\"считывателю\"),e.default.createElement(\"img\",{src:y.default,className:\"atm-startWindow__wallet\",alt:\"\"}),e.default.createElement(\"div\",{className:\"atm-startWindow__filter\"}),e.default.createElement(\"img\",{src:g.default,alt:\"\",className:\"atm-startWindow__attention\"}),e.default.createElement(\"img\",{src:b.default,alt:\"\",className:\"atm-startWindow__nfc \".concat(this.state.cardOnNFC?\"atm-nfc-active\":null),onPointerEnter:function(){return N.mouseEventOnNFC(!0)},onPointerLeave:function(){return N.mouseEventOnNFC(!1)}}),e.default.createElement(t.default,{onStart:function(){return N.startDrag()},onStop:function(){return N.stopDrag()},position:{x:0,y:0}},e.default.createElement(\"div\",{className:\"atm-startWindow-card\\n                    \".concat(\"black\"===this.state.cardType?\"atm-startWindow-card__black\":\"\",\"\\n                    \").concat(\"platinum\"===this.state.cardType?\"atm-startWindow-card__platinum\":\"\",\"\\n                    \").concat(\"gold\"===this.state.cardType?\"atm-startWindow-card__gold\":\"\",\"\\n                \"),style:{pointerEvents:this.getPointerEvents()}},e.default.createElement(\"span\",null,_.CEF.user.name),e.default.createElement(\"img\",{src:E.default,alt:\"\"}),e.default.createElement(\"img\",{src:w.default,alt:\"\"}),e.default.createElement(\"img\",{src:P.default,alt:\"\"})))),\"NFC\"!==this.state.component&&e.default.createElement(\"div\",{className:\"atm-content\"},e.default.createElement(\"div\",{className:\"atm-content__title\"},\"ATM\"),e.default.createElement(\"div\",{className:\"atm-content-head\"},\"black\"===this.state.cardType&&e.default.createElement(\"img\",{src:a.default,alt:\"\"}),\"gold\"===this.state.cardType&&e.default.createElement(\"img\",{src:o.default,alt:\"\"}),\"platinum\"===this.state.cardType&&e.default.createElement(\"img\",{src:i.default,alt:\"\"}),e.default.createElement(\"span\",null,\"FLEECA BANK\"),e.default.createElement(\"p\",null,\"**** \",this.state.cardNumber),e.default.createElement(\"div\",null,\"$ \",this.moneySpace(_.CEF.user.bank))),e.default.createElement(\"div\",{className:\"atm-content-body\"},e.default.createElement(\"div\",{className:\"atm-content-body-left\"},e.default.createElement(\"div\",{className:\"atm-content-body-left-bottom \".concat(\"cashAction\"===this.state.component?\"atm-active\":\"\"),onClick:function(){return N.setComponent(\"cashAction\")}},e.default.createElement(\"img\",{src:c.default,alt:\"\"}),e.default.createElement(\"img\",{src:s.default,alt:\"\"}),e.default.createElement(\"span\",null,\"Снять наличные\")),e.default.createElement(\"div\",{className:\"atm-content-body-left-bottom \".concat(\"transaction\"===this.state.component?\"atm-active\":\"\"),onClick:function(){return N.setComponent(\"transaction\")}},e.default.createElement(\"img\",{src:u.default,alt:\"\"}),e.default.createElement(\"img\",{src:l.default,alt:\"\"}),e.default.createElement(\"span\",null,\"Перевод \",e.default.createElement(\"br\",null),\" на другой счет\")),e.default.createElement(\"div\",{className:\"atm-content-body-left-bottom \".concat(\"history\"===this.state.component?\"atm-active\":\"\"),onClick:function(){return N.setComponent(\"history\")}},e.default.createElement(\"img\",{src:f.default,alt:\"\"}),e.default.createElement(\"img\",{src:d.default,alt:\"\"}),e.default.createElement(\"span\",null,\"История операций\")),e.default.createElement(\"div\",{className:\"atm-content-body-left-bottom \".concat(\"settings\"===this.state.component?\"atm-active\":\"\"),onClick:function(){return N.setComponent(\"settings\")}},e.default.createElement(\"img\",{src:m.default,alt:\"\"}),e.default.createElement(\"img\",{src:h.default,alt:\"\"}),e.default.createElement(\"span\",null,\"Смена PIN-кода\"))),e.default.createElement(\"div\",{className:\"atm-content-body-right\"},\"PIN\"===this.state.component&&e.default.createElement(\"div\",{className:\"atm-content-body-right-screen\"},e.default.createElement(\"div\",{className:\"atm-content-body-right-screen-pin \"},e.default.createElement(\"span\",null,\"Введите пин-код\"),e.default.createElement(\"input\",{type:\"password\",onChange:function(){return N.onChangePinEnter()},placeholder:\"* * * *\",ref:this.state.refPinCode}))),\"cashAction\"===this.state.component&&e.default.createElement(\"div\",{className:\"atm-content-body-right-screen\"},e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__title\"},\"Денежные операции\",e.default.createElement(\"span\",null,\"Снять наличные\")),e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__input\"},e.default.createElement(\"input\",{ref:this.state.refInputCashAction,type:\"number\",min:\"0\"}),e.default.createElement(\"span\",null,\"Введите сумму снятия\"),e.default.createElement(\"p\",null,\"$\")),e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__blanks\"},e.default.createElement(\"div\",{onClick:function(){return N.setCashActionValue(25e3)}},\"$25 000\"),e.default.createElement(\"div\",{onClick:function(){return N.setCashActionValue(5e4)}},\"$50 000\"),e.default.createElement(\"div\",{onClick:function(){return N.setCashActionValue(1e5)}},\"$100 000\"),e.default.createElement(\"div\",{onClick:function(){return N.setCashActionValue(5e5)}},\"$500 000\")),e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__button\",onClick:function(){return N.onClickCashAction()}},\"Снять наличные\")),\"transaction\"===this.state.component&&e.default.createElement(\"div\",{className:\"atm-content-body-right-screen\"},e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__title\"},\"Денежные операции\",e.default.createElement(\"span\",null,\"Перевод на другой счет\")),e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__input  atm-input-padding\"},e.default.createElement(\"input\",{ref:this.state.refInputTransactionAccount,type:\"text\"}),e.default.createElement(\"span\",null,\"Номер счета получателя\")),e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__input\"},e.default.createElement(\"input\",{ref:this.state.refInputTransactionAmount,type:\"number\"}),e.default.createElement(\"span\",null,\"Введите сумму перевода\"),e.default.createElement(\"p\",null,\"$\")),e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__blanks\"},e.default.createElement(\"div\",{onClick:function(){return N.setTransactionValue(25e3)}},\"$25 000\"),e.default.createElement(\"div\",{onClick:function(){return N.setTransactionValue(5e4)}},\"$50 000\"),e.default.createElement(\"div\",{onClick:function(){return N.setTransactionValue(1e5)}},\"$100 000\"),e.default.createElement(\"div\",{onClick:function(){return N.setTransactionValue(5e5)}},\"$500 000\")),e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__button\",onClick:function(){return N.sendMoney()}},\"ПЕРЕВЕСТИ\")),\"history\"===this.state.component&&e.default.createElement(\"div\",{className:\"atm-content-body-right-screen\"},e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__title atm-list-title\"},\"Статистика\",e.default.createElement(\"span\",null,\"История операций\")),e.default.createElement(\"div\",{className:\"atm-content-body-right-screen-list\"},this.state.history.map(function(t,n){return e.default.createElement(\"div\",{className:\"\".concat(t.isPlus?\"atm-active\":\"\"),key:n},e.default.createElement(\"img\",{src:p.default,alt:\"\"}),e.default.createElement(\"img\",{src:v.default,alt:\"\"}),e.default.createElement(\"span\",null,t.description),e.default.createElement(\"p\",null,\"$ \",N.moneySpace(t.sum)))}))),\"settings\"===this.state.component&&e.default.createElement(\"div\",{className:\"atm-content-body-right-screen atm-settings\"},e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__title\"},\"Настройки\",e.default.createElement(\"span\",null,\"Смена PIN-кода\")),e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__input\"},e.default.createElement(\"input\",{type:\"password\",ref:this.state.refOldPin,onChange:function(){return N.onChangePinInput(0)}}),e.default.createElement(\"span\",null,\"Введите старый пин-код\")),e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__input\"},e.default.createElement(\"input\",{type:\"password\",ref:this.state.refNewPin,onChange:function(){return N.onChangePinInput(1)}}),e.default.createElement(\"span\",null,\"Введите новый пин-код\")),e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__input\"},e.default.createElement(\"input\",{type:\"password\",ref:this.state.refNewRepeatPin,onChange:function(){return N.onChangePinInput(2)}}),e.default.createElement(\"span\",null,\"Повторите новый пин-код\")),e.default.createElement(\"div\",{className:\"atm-content-body-right-screen__button\",onClick:function(){return N.savePin()}},\"Сохранить\"))))))}}]),j}();"},"sourceMaps":null,"error":null,"hash":"d7914b827b4085e788c9898dce8e0691","cacheData":{"env":{}}}