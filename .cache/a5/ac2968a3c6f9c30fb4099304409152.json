{"id":"HOfZ","dependencies":[{"name":"D:\\DETROIT\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":62,"index":62},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\CollectGarbage\\СollectGarbage.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react\\index.js"},{"name":"./style.less","loc":{"line":2,"column":7,"index":79},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\CollectGarbage\\СollectGarbage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\CollectGarbage\\style.less"},{"name":"./assets/*.png","loc":{"line":3,"column":16,"index":112},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\CollectGarbage\\СollectGarbage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\CollectGarbage\\assets\\*.png"},{"name":"./assets/*.svg","loc":{"line":4,"column":16,"index":147},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\CollectGarbage\\СollectGarbage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\CollectGarbage\\assets\\*.svg"},{"name":"react-draggable","loc":{"line":5,"column":22,"index":188},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\CollectGarbage\\СollectGarbage.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react-draggable\\build\\cjs\\cjs.js"},{"name":"../../modules/custom.event","loc":{"line":6,"column":28,"index":236},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\CollectGarbage\\СollectGarbage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\custom.event.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=u(require(\"react\"));require(\"./style.less\");var t=l(require(\"./assets/*.png\")),a=l(require(\"./assets/*.svg\")),r=l(require(\"react-draggable\")),n=require(\"../../modules/custom.event\");function l(e){return e&&e.__esModule?e:{default:e}}function i(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(\"default\"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=n?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(r,l,u):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}function o(e){return f(e)||g(e)||d(e)||c()}function c(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function g(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function f(e){if(Array.isArray(e))return b(e)}function s(e,t){return v(e)||p(e,t)||d(e,t)||m()}function m(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function d(e,t){if(e){if(\"string\"==typeof e)return b(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===a&&e.constructor&&(a=e.constructor.name),\"Map\"===a||\"Set\"===a?Array.from(e):\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function p(e,t){var a=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=a){var r,n,l,i,u=[],o=!0,c=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;o=!1}else for(;!(o=(r=l.call(a)).done)&&(u.push(r.value),u.length!==t);o=!0);}catch(e){c=!0,n=e}finally{try{if(!o&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw n}}return u}}function v(e){if(Array.isArray(e))return e}var y=function(){var l=s((0,e.useState)(-1),2),i=l[0],u=l[1],c=s((0,e.useState)(-1),2),g=c[0],f=c[1];(0,e.useLayoutEffect)(function(){var e=n.CustomEvent.register(\"sanitation:collectGarbage\",function(e,t){u(t),f(e)});return function(){return e.destroy()}},[]);var m=s((0,e.useState)([{image:\"banana\",isDragging:!1,inBag:!1},{image:\"apple\",isDragging:!1,inBag:!1},{image:\"bottle\",isDragging:!1,inBag:!1},{image:\"can0\",isDragging:!1,inBag:!1},{image:\"can1\",isDragging:!1,inBag:!1},{image:\"can2\",isDragging:!1,inBag:!1},{image:\"can3\",isDragging:!1,inBag:!1},{image:\"twix0\",isDragging:!1,inBag:!1},{image:\"twix1\",isDragging:!1,inBag:!1},{image:\"banana\",isDragging:!1,inBag:!1}]),2),d=m[0],b=m[1],p=(0,e.useCallback)(function(){var e=null;return d.forEach(function(t,a){t.isDragging&&(e=a)}),e},[]),v=(0,e.useCallback)(function(e){var t=o(d);t[e].isDragging=!0,b(t)},[]),y=(0,e.useCallback)(function(){0===d.filter(function(e){return!1===e.inBag}).length&&n.CustomEvent.triggerClient(\"sanitation:collectGarbage:finish\",g,i)},[g,i]),E=(0,e.useCallback)(function(e){var t=o(d);t[e].isDragging=!1,b(t),y()},[y]),_=(0,e.useCallback)(function(){var e=p();if(null!==e){var t=o(d);t[e].inBag=!0,b(t)}},[]),h=(0,e.useCallback)(function(){var e=p();if(null!==e){var t=o(d);t[e].inBag=!1,b(t)}},[]);return e.default.createElement(\"div\",{className:\"collectGarbage\"},e.default.createElement(\"img\",{src:t.default.backgroundImage,className:\"collectGarbage__backgroundImage\",alt:\"\"}),e.default.createElement(\"img\",{src:t.default.bagBack,className:\"collectGarbage__bagBack\",alt:\"\"}),e.default.createElement(\"img\",{src:t.default.bagFront,className:\"collectGarbage__bagFront\",alt:\"\"}),e.default.createElement(\"div\",{className:\"collectGarbage-titleTopLeft\"},e.default.createElement(\"span\",null,\"Собери \",e.default.createElement(\"br\",null),\" мусор\"),e.default.createElement(\"p\",null,\"Хватайте мусор и кладите в мешок\")),e.default.createElement(\"div\",{className:\"collectGarbage-slots\"},d.map(function(a,n){return e.default.createElement(r.default,{onStart:function(){return v(n)},onStop:function(){return E(n)},key:n},e.default.createElement(\"div\",{className:\"collectGarbage-slots__\".concat(n)},e.default.createElement(\"img\",{src:t.default[a.image],alt:\"\"})))})),e.default.createElement(\"div\",{className:\"collectGarbage__dropBlock\",onPointerEnter:function(){return _()},onPointerLeave:function(){return h()}}),e.default.createElement(\"div\",{className:\"collectGarbage__bottomLeft\"},e.default.createElement(\"img\",{src:a.default.mouse,alt:\"\"}),\"Удерживайте ЛКМ, \",e.default.createElement(\"br\",null),\"чтобы перетаскивать вещи\"))},E=exports.default=y;"},"sourceMaps":null,"error":null,"hash":"364884492e35e4ff29dcf689748cb900","cacheData":{"env":{}}}