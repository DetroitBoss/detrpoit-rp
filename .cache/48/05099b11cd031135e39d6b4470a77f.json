{"id":"sKir","dependencies":[{"name":"D:\\DETROIT\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":33,"index":33},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react\\index.js"},{"name":"./style.less","loc":{"line":2,"column":7,"index":50},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\style.less"},{"name":"../../modules/CEF","loc":{"line":3,"column":20,"index":87},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\CEF.ts"},{"name":"../../modules/custom.event","loc":{"line":4,"column":28,"index":137},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\custom.event.ts"},{"name":"./assets/*.svg","loc":{"line":5,"column":16,"index":184},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\assets\\*.svg"},{"name":"./assets/*.png","loc":{"line":6,"column":16,"index":219},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\assets\\*.png"},{"name":"react-color","loc":{"line":7,"column":29,"index":267},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react-color\\es\\index.js"},{"name":"./../ClothShop/assets/check.svg","loc":{"line":8,"column":18,"index":301},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\ClothShop\\assets\\check.svg"},{"name":"react-color/lib/components/common","loc":{"line":9,"column":32,"index":369},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react-color\\lib\\components\\common\\index.js"},{"name":"../../../shared/system","loc":{"line":10,"column":27,"index":434},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\system.ts"},{"name":"../PayBox/PayBox","loc":{"line":11,"column":23,"index":484},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\PayBox\\PayBox.tsx"},{"name":"../../../shared/lsc","loc":{"line":12,"column":106,"index":611},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\lsc.ts"},{"name":"../../../shared/economy","loc":{"line":13,"column":36,"index":671},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\economy.ts"},{"name":"@material-ui/core/Slider","loc":{"line":14,"column":19,"index":718},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\@material-ui\\core\\esm\\Slider\\index.js"},{"name":"@material-ui/styles","loc":{"line":15,"column":23,"index":770},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\LSCnew\\index.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\@material-ui\\styles\\esm\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.LSC=exports.ColorPicker=void 0;var e=E(require(\"react\"));require(\"./style.less\");var t=require(\"../../modules/CEF\"),n=require(\"../../modules/custom.event\"),l=g(require(\"./assets/*.svg\")),s=g(require(\"./assets/*.png\")),a=require(\"react-color\"),r=g(require(\"./../ClothShop/assets/check.svg\")),c=require(\"react-color/lib/components/common\"),u=require(\"../../../shared/system\"),i=require(\"../PayBox/PayBox\"),d=require(\"../../../shared/lsc\"),o=require(\"../../../shared/economy\"),m=g(require(\"@material-ui/core/Slider\")),f=require(\"@material-ui/styles\");function g(e){return e&&e.__esModule?e:{default:e}}function p(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var l={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(\"default\"!==a&&{}.hasOwnProperty.call(e,a)){var r=s?Object.getOwnPropertyDescriptor(e,a):null;r&&(r.get||r.set)?Object.defineProperty(l,a,r):l[a]=e[a]}return l.default=e,n&&n.set(e,l),l}function T(e){return(T=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function b(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,\"value\"in l&&(l.writable=!0),Object.defineProperty(e,S(l.key),l)}}function U(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function S(e){var t=I(e,\"string\");return\"symbol\"==T(t)?t:t+\"\"}function I(e,t){if(\"object\"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||\"default\");if(\"object\"!=T(l))return l;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}function N(e,t,n){return t=_(t),W(e,w()?Reflect.construct(t,n||[],_(e).constructor):t.apply(e,n))}function W(e,t){if(t&&(\"object\"==T(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return x(e)}function x(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(w=function(){return!!e})()}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var O,k,P=(0,f.styled)(m.default)(function(){return{color:\"rgb(240, 77, 38)\",height:30,\"& .MuiSlider-thumb\":{\"&:hover, &.Mui-focusVisible\":{boxShadow:\"0px 0px 0px 8px rgba(240, 77, 38, 0.2)\"},\"&.Mui-active\":{boxShadow:\"0px 0px 0px 8px rgba(240, 77, 38, 0.2)\"}}}});!function(e){e[e.Increase=0]=\"Increase\",e[e.Decrease=1]=\"Decrease\"}(O||(O={})),function(e){e[e.REPAIR=0]=\"REPAIR\",e[e.TUNING=1]=\"TUNING\",e[e.BUY=2]=\"BUY\",e[e.TUNING_CHIP=3]=\"TUNING_CHIP\"}(k||(k={}));var B=62,H=exports.LSC=function(a){function c(a){var m;return v(this,c),(m=N(this,c,[a])).isChipTuning=!1,m.chipTuningCost=0,m.componentDidMount=function(){document.addEventListener(\"keydown\",m.handleKeyDown)},m.componentWillUnmount=function(){document.removeEventListener(\"keydown\",m.handleKeyDown),m.ev&&m.ev.destroy()},m.wheelList=function(e){var t=m.state.selectWheels;if(e<0){var l=-1;d.LSC_WHEELS.find(function(e){return t[0]==e.type}).elements.forEach(function(e,n){e[1]<t[1]&&(l=n)}),t=[t[0],d.LSC_WHEELS.find(function(e){return t[0]==e.type}).elements[l>=0?l:d.LSC_WHEELS.find(function(e){return t[0]==e.type}).elements.length-1][1]]}else{var s;s=d.LSC_WHEELS.find(function(e){return t[0]==e.type}).elements.findIndex(function(e){return e[1]>t[1]}),t=[t[0],d.LSC_WHEELS.find(function(e){return t[0]==e.type}).elements[s>=0?s:0][1]]}m.setState({selectWheels:t}),n.CustomEvent.triggerClient(\"lsc:switchWheel\",t[0],t[1])},m.wheelListType=function(e){var t=m.state.selectWheels;if(e<0){var l=-1;d.LSC_WHEELS.forEach(function(e,n){e.type<t[0]&&(l=n)}),t=[l>=0?d.LSC_WHEELS[l].type:d.LSC_WHEELS[d.LSC_WHEELS.length-1].type,d.LSC_WHEELS[l>=0?l:d.LSC_WHEELS.length-1].elements[0][1]]}else{var s;s=d.LSC_WHEELS.findIndex(function(e,n){return e.type>t[0]}),t=[s>=0?d.LSC_WHEELS[s].type:d.LSC_WHEELS[0].type,d.LSC_WHEELS[s>=0?s:0].elements[0][1]]}m.setState({selectWheels:t}),n.CustomEvent.triggerClient(\"lsc:switchWheel\",t[0],t[1])},m.elementList=function(e,t){var l=m.state.lscUpgrade;t<0?(l[e].currentElement||(l[e].currentElement=0),l[e].currentElement--,l[e].currentElement<0&&(l[e].currentElement=l[e].elements.length-1)):(l[e].currentElement||(l[e].currentElement=0),l[e].currentElement++,l[e].elements.length<=l[e].currentElement&&(l[e].currentElement=0)),n.CustomEvent.triggerClient(\"lsc:switchTuning\",l[e].id,l[e].elements[l[e].currentElement].id),m.setState({lscUpgrade:l})},m.updateTuning=function(e,t){n.CustomEvent.triggerClient(\"lsc:switchTuningContain\",t,m.state.lscUpgrade[e].id,m.state.lscUpgrade[e].elements[0|m.state.lscUpgrade[e].currentElement].id,m.state.lscUpgrade[e].isColor&&m.state.lscUpgrade[e].selectColor?m.state.lscUpgrade[e].selectColor.r:null,m.state.lscUpgrade[e].isColor&&m.state.lscUpgrade[e].selectColor?m.state.lscUpgrade[e].selectColor.g:null,m.state.lscUpgrade[e].isColor&&m.state.lscUpgrade[e].selectColor?m.state.lscUpgrade[e].selectColor.b:null,m.state.lscUpgrade[e].isColorMod?m.state.lscUpgrade[e].selectColorMod:null)},m.updateWheel=function(e,t){n.CustomEvent.triggerClient(\"lsc:switchTuningContainWheel\",t,m.state.selectWheels[0],m.state.selectWheels[1])},m.handleKeyDown=function(e){if(m.state.page==k.TUNING||27==e.keyCode)switch(e.keyCode){case 37:return m.state.selectedTuning==B?m.wheelList(-1):m.elementList(m.state.selectedTuning?m.state.selectedTuning:0,-1);case 39:return m.state.selectedTuning==B?m.wheelList(1):m.elementList(m.state.selectedTuning?m.state.selectedTuning:0,1);case 83:case 40:var t=m.state.selectedTuning?m.state.selectedTuning:0,n=m.state.lscUpgrade,l=m.state.lscUpgrade.length-1;if(m.state.lscUpgrade.forEach(function(e,t){e.section_type==m.state.selectedType&&(l=t)}),m.state.selectedTuning!=B&&(n[m.state.selectedTuning].elements.find(function(e){return e.isBuy})?n[m.state.selectedTuning].currentElement!=n[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy})&&(n[m.state.selectedTuning].currentElement=n[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy})>=0?n[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy}):0):(n[m.state.selectedTuning].selectColor=n[m.state.selectedTuning].color,n[m.state.selectedTuning].selectColorMod=n[m.state.selectedTuning].colorMod,n[m.state.selectedTuning].currentElement=n[m.state.selectedTuning].elements.findIndex(function(e){return e.isUsed})>=0?n[m.state.selectedTuning].elements.findIndex(function(e){return e.isUsed}):0)),t!=B&&t>=l&&1==m.state.selectedType)m.setState({selectedTuning:B}),m.updateWheel(t,B);else if(t==B&&1==m.state.selectedType)m.setState({selectedTuning:m.state.lscUpgrade.findIndex(function(e){return e.section_type==m.state.selectedType}),selectWheels:m.state.buyWheels?m.state.buyWheels:[m.state.currentWheelsType,m.state.currentWheelsID]}),m.updateWheel(B,m.state.lscUpgrade[m.state.lscUpgrade.findIndex(function(e){return e.section_type==m.state.selectedType})].id);else{var s;m.state.lscUpgrade.forEach(function(e,n){!s&&n>t&&e.section_type==m.state.selectedType&&(s=n)}),m.updateTuning(t,m.state.lscUpgrade[null!=s?s:m.state.lscUpgrade.findIndex(function(e){return e.section_type==m.state.selectedType})].id),m.setState({lscUpgrade:n,selectedTuning:null!=s?s:m.state.lscUpgrade.findIndex(function(e){return e.section_type==m.state.selectedType})})}return;case 87:case 38:var a=m.state.selectedTuning?m.state.selectedTuning:0,r=m.state.lscUpgrade.findIndex(function(e){return e.section_type==m.state.selectedType}),c=m.state.lscUpgrade;if(m.state.selectedTuning!=B&&(c[m.state.selectedTuning].elements.find(function(e){return e.isBuy})?c[m.state.selectedTuning].currentElement!=c[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy})&&(c[m.state.selectedTuning].currentElement=c[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy})>=0?c[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy}):0):(c[m.state.selectedTuning].selectColor=c[m.state.selectedTuning].color,c[m.state.selectedTuning].selectColorMod=c[m.state.selectedTuning].colorMod,c[m.state.selectedTuning].currentElement=c[m.state.selectedTuning].elements.findIndex(function(e){return e.isUsed})>=0?c[m.state.selectedTuning].elements.findIndex(function(e){return e.isUsed}):0)),a!=B&&a<=r&&1==m.state.selectedType)m.setState({selectedTuning:B}),m.updateTuning(a,B);else if(a==B&&1==m.state.selectedType){var u=m.state.lscUpgrade.length-1;m.state.lscUpgrade.forEach(function(e,t){e.section_type==m.state.selectedType&&(u=t)}),m.setState({selectedTuning:u,selectWheels:m.state.buyWheels?m.state.buyWheels:[m.state.currentWheelsType,m.state.currentWheelsID]}),m.updateWheel(B,m.state.lscUpgrade[u].id)}else{var i,d=m.state.lscUpgrade.length-1;m.state.lscUpgrade.forEach(function(e,t){t<a&&e.section_type==m.state.selectedType?i=t:e.section_type==m.state.selectedType&&(d=t),console.log(t,a,i)}),m.updateTuning(a,m.state.lscUpgrade[i||d].id),m.setState({lscUpgrade:c,selectedTuning:null!=i?i:d})}return;case 13:if(m.state.selectedTuning==B){if(m.state.selectWheels[0]==m.state.currentWheelsType&&m.state.selectWheels[1]==m.state.currentWheelsID)return;null!=m.state.buyWheels&&m.state.selectWheels[0]==m.state.buyWheels[0]&&m.state.selectWheels[1]==m.state.buyWheels[1]?m.setState({buyWheels:void 0}):m.setState({buyWheels:m.state.selectWheels})}else if(m.state.selectedTuning>=0)if((!m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isUsed||null!=m.state.lscUpgrade[m.state.selectedTuning].isColorMod&&m.state.lscUpgrade[m.state.selectedTuning].selectColorMod&&m.state.lscUpgrade[m.state.selectedTuning].selectColorMod!=m.state.lscUpgrade[m.state.selectedTuning].colorMod||null!=m.state.lscUpgrade[m.state.selectedTuning].isColor&&m.state.lscUpgrade[m.state.selectedTuning].selectColor&&m.state.lscUpgrade[m.state.selectedTuning].selectColor!=m.state.lscUpgrade[m.state.selectedTuning].color)&&1!=m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isBuy){if(1!=m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isBuy){var o=m.state.lscUpgrade;return o[m.state.selectedTuning].elements.map(function(e,t){return o[m.state.selectedTuning].elements[t].isBuy=t==(0|m.state.lscUpgrade[m.state.selectedTuning].currentElement)}),void m.setState({lscUpgrade:o})}}else if(1==m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isBuy){var f=m.state.lscUpgrade;return f[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isBuy=!1,void m.setState({lscUpgrade:f})}return}},m.buyTuning=function(){var e=m._child.current.canPay(m.getAllPrice());if(e)if(m.setState({showPay:!1}),m.isChipTuning)n.CustomEvent.triggerServer(\"lsc:chip:buy\",m.state.shopId,m.state.vehicleId,m.state.chipTuningData,e.paytype,e.pin);else{var t=[];m.state.lscUpgrade.map(function(e){return e.elements.map(function(n){1==n.isBuy&&t.push({id:e.id,color:e.selectColor?[e.selectColor.r,e.selectColor.g,e.selectColor.b]:null,colorMod:e.selectColorMod?e.selectColorMod:null,selectedElementID:n.id})})}),n.CustomEvent.callServer(\"lsc:buyTuning\",m.state.shopId,m.state.vehicleId,e.paytype,e.pin,JSON.stringify(t),m.state.buyWheels?m.state.buyWheels[0]:-500,m.state.buyWheels?m.state.buyWheels[1]:-500).then(function(e){e?m.setState({showPay:!1}):m.closeBuying()})}},m.closeBuying=function(e){n.CustomEvent.triggerClient(\"lsc:stop\",e),t.CEF.gui.setGui(null)},m.getWheelPrice=function(e){var t=0;return d.LSC_WHEELS.find(function(t){return t.type==e})&&(t=(0,d.convertModCostFromCarCost)(d.LSC_WHEELS.find(function(t){return t.type==e}).percent,m.state.vehicleCost)),t},m.getAllPrice=function(){if(m.isChipTuning)return m.chipTuningCost;var e=0;return m.state.lscUpgrade.map(function(t){return t.elements.map(function(t){1==t.isBuy&&(e+=(0,d.convertModCostFromCarCost)(t.percent,m.state.vehicleCost))})}),null!=m.state.buyWheels&&(e+=m.getWheelPrice(m.state.buyWheels[0])),e},m.changeColor=function(e,t){var l=m.state.lscUpgrade,s=l[m.state.selectedTuning];l[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isBuy=!1,l[m.state.selectedTuning?m.state.selectedTuning:0].selectColor=e.rgb;var a=(new Date).getTime(),r=m.state.colorTime;a>r+200&&(n.CustomEvent.triggerClient(\"lsc:switchTuningColor\",s.id,e.rgb.r,e.rgb.g,e.rgb.b),r=a),t||m.setHexValue(e.rgb),m.setState({lscUpgrade:l,colorTime:r})},m.onChangeHexInput=function(){var e=m.hexToRgb(m.state.refHexInput.current.value);if(null!==e){var t={rgb:e};m.changeColor(t,!0)}},m.render=function(){switch(m.state.page){case k.REPAIR:return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"lsc-step-zero animated fadeIn\"},e.default.createElement(\"i\",{className:\"lsc-fly-smoke animated fadeInUp waiteone\"},e.default.createElement(\"img\",{src:s.default[\"smoke-bottom\"],alt:\"\"})),e.default.createElement(\"i\",{className:\"lsc-fly-key animated fadeInLeft waiteone\"},e.default.createElement(\"img\",{src:s.default[\"repair-key\"],alt:\"\"})),e.default.createElement(\"i\",{className:\"lsc-fly-turbo animated fadeIn waiteone\"},e.default.createElement(\"img\",{src:s.default[\"tuning-turbo\"],alt:\"\"})),m.state.repair<0?e.default.createElement(\"button\",{className:\"lsc-repair-car disabled animated fadeInLeft\"},e.default.createElement(\"h3\",null,\"Транспорт\",e.default.createElement(\"br\",null),\"починен\"),e.default.createElement(\"p\",null,\"Вам не требуется ремонт\")):e.default.createElement(\"button\",{className:\"lsc-repair-car animated fadeInLeft\",onClick:function(){n.CustomEvent.callServer(\"vehicle:lsc:repair\",m.state.shopId).then(function(e){e&&(n.CustomEvent.triggerClient(\"lsc:healthed\"),m.setState({repair:-1}))})}},e.default.createElement(\"h3\",null,\"Ремонт\",e.default.createElement(\"br\",null),\"транспорта\"),e.default.createElement(\"p\",null,\"Почините транспорт прежде чем делать тюнинг\"),e.default.createElement(\"div\",null,\"$\",m.state.repair)),e.default.createElement(\"button\",{className:\"lsc-repair-car lsc-tuning-car animated fadeInRight\".concat(m.state.repair>=0?\" disabled\":\"\"),onClick:function(){m.state.repair<0&&m.setState({page:k.TUNING})}},e.default.createElement(\"h3\",null,\"Тюнинг\"))));case k.TUNING_CHIP:return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"section\",{className:\"los-santos-customs animated fadeIn\"},e.default.createElement(\"div\",{className:\"lsc-left-flexer animated fadeInLeft\"},e.default.createElement(\"div\",{className:\"lsc-topline\"},e.default.createElement(\"div\",{className:\"lsc-logo\"},e.default.createElement(\"img\",{src:s.default[\"lsc-logo\"],alt:\"\"})),e.default.createElement(\"button\",{className:\"lsc-buy-button\",onClick:function(){return m.resetChipToStandard()}},e.default.createElement(\"p\",null,e.default.createElement(\"strong\",null,\"Сбросить\"),e.default.createElement(\"br\",null),\"к заводским\")),e.default.createElement(\"button\",{className:\"lsc-buy-button\",onClick:function(){m.setState({page:k.BUY})}},e.default.createElement(\"img\",{src:l.default.price,alt:\"\"}),e.default.createElement(\"p\",null,e.default.createElement(\"strong\",null,\"Перейти\"),e.default.createElement(\"br\",null),\"к оплате\")),e.default.createElement(\"div\",{className:\"lsc-count-size\"},e.default.createElement(\"p\",null,\"Итого\"),e.default.createElement(\"p\",null,e.default.createElement(\"strong\",null,\"$\",u.systemUtil.numberFormat(m.getAllPrice()))))),e.default.createElement(\"div\",{className:\"lsc-left-tabs-content active\"},e.default.createElement(\"div\",{className:\"lsc-left-tab-inner\"},m.state.chipTuningData.filter(function(e){return d.handlingConfigs.some(function(t){return t.id===e.handlingId})}).map(function(t){var n=d.handlingConfigs.find(function(e){return e.id===t.handlingId});return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"lsc-list-item\"},e.default.createElement(\"div\",null,e.default.createElement(\"p\",null,n.name)),e.default.createElement(\"div\",{className:\"lsc-slider\"},e.default.createElement(P,{min:n.minValue,max:n.maxValue,step:n.step,value:t.value,onChange:function(e,n){return m.handleInputChange(n,t.handlingId)}}))))})))),e.default.createElement(\"div\",{className:\"lsc-car-stats animated fadeIn waitetwo\"},e.default.createElement(\"p\",null,m.state.carName)),e.default.createElement(\"div\",{className:\"lsc-colorizer-wrapper animated fadeIn waitetwo\"},e.default.createElement(\"div\",{className:\"lsc-mouse-info\"},e.default.createElement(\"p\",null,e.default.createElement(\"span\",null,\"Удерживайте ЛКМ\"),e.default.createElement(\"br\",null),\"чтобы вращать камеру\"),e.default.createElement(\"img\",{src:l.default[\"mouse-LKM\"],alt:\"\"})),e.default.createElement(\"div\",{className:\"lsc-mouse-info\"},e.default.createElement(\"p\",null,e.default.createElement(\"span\",null,\"удерживайте ПКМ\"),e.default.createElement(\"br\",null),\"приблизить или отдалить\"),e.default.createElement(\"img\",{src:l.default[\"mouse-RKM\"],alt:\"\"})))));case k.TUNING:return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"section\",{className:\"los-santos-customs animated fadeIn\"},e.default.createElement(\"div\",{className:\"lsc-left-flexer animated fadeInLeft\"},e.default.createElement(\"div\",{className:\"lsc-topline\"},e.default.createElement(\"div\",{className:\"lsc-logo\"},e.default.createElement(\"img\",{src:s.default[\"lsc-logo\"],alt:\"\"})),e.default.createElement(\"button\",{className:\"lsc-buy-button\",onClick:function(){m.getAllPrice()<1||m.setState({page:k.BUY})}},e.default.createElement(\"img\",{src:l.default.price,alt:\"\"}),e.default.createElement(\"p\",null,e.default.createElement(\"strong\",null,\"Перейти\"),e.default.createElement(\"br\",null),\"к оплате\")),e.default.createElement(\"div\",{className:\"lsc-count-size\"},e.default.createElement(\"p\",null,\"Итого\"),e.default.createElement(\"p\",null,e.default.createElement(\"strong\",null,\"$\",u.systemUtil.numberFormat(m.getAllPrice()))))),e.default.createElement(\"ul\",{className:\"lsc-left-tabs\"},d.LSC_SECTION_TYPES.map(function(t,n){return e.default.createElement(\"li\",{key:n,className:t.id==m.state.selectedType?\"active\":\"\",\"aria-label\":t.name,\"data-microtip-position\":\"top\",role:\"tooltip\"},e.default.createElement(\"a\",{onClick:function(){if(m.state.selectedType!=t.id){if(m.state.selectedTuning==B)m.updateWheel(B,m.state.lscUpgrade.findIndex(function(e){return e.section_type==t.id})>=0?m.state.lscUpgrade[m.state.lscUpgrade.findIndex(function(e){return e.section_type==t.id})].id:null);else if(m.state.selectedTuning>=0){var e=m.state.lscUpgrade;e[m.state.selectedTuning].elements.find(function(e){return e.isBuy})?e[m.state.selectedTuning].currentElement!=e[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy})&&(e[m.state.selectedTuning].currentElement=e[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy})>=0?e[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy}):0):(e[m.state.selectedTuning].selectColor=e[m.state.selectedTuning].color,e[m.state.selectedTuning].selectColorMod=e[m.state.selectedTuning].colorMod,e[m.state.selectedTuning].currentElement=e[m.state.selectedTuning].elements.findIndex(function(e){return e.isUsed})>=0?e[m.state.selectedTuning].elements.findIndex(function(e){return e.isUsed}):0),m.updateTuning(m.state.selectedTuning,m.state.lscUpgrade.findIndex(function(e){return e.section_type==t.id})>=0?m.state.lscUpgrade[m.state.lscUpgrade.findIndex(function(e){return e.section_type==t.id})].id:null)}m.setState({selectedType:t.id,selectedTuning:m.state.lscUpgrade.findIndex(function(e){return e.section_type==t.id})})}}},e.default.createElement(\"img\",{src:l.default[t.imgName],alt:\"\"})))})),e.default.createElement(\"div\",{className:\"lsc-left-tabs-content active\"},e.default.createElement(\"div\",{className:\"lsc-left-tab-inner\"},m.state.lscUpgrade.map(function(t,n){if(t.section_type==m.state.selectedType)return e.default.createElement(\"div\",{className:\"lsc-list-item\".concat(n==m.state.selectedTuning?\" active\":\"\"),key:n,onClick:function(){if(m.state.selectedTuning!=n){var e=m.state.lscUpgrade;if(m.state.selectedTuning==B)return m.updateWheel(B,m.state.lscUpgrade[n].id),void m.setState({selectedTuning:n,lscUpgrade:e,selectWheels:m.state.buyWheels?m.state.buyWheels:[m.state.currentWheelsType,m.state.currentWheelsID]});e[m.state.selectedTuning].elements.find(function(e){return e.isBuy})?e[m.state.selectedTuning].currentElement!=e[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy})&&(e[m.state.selectedTuning].currentElement=e[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy})>=0?e[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy}):0):(e[m.state.selectedTuning].selectColor=e[m.state.selectedTuning].color,e[m.state.selectedTuning].selectColorMod=e[m.state.selectedTuning].colorMod,e[m.state.selectedTuning].currentElement=e[m.state.selectedTuning].elements.findIndex(function(e){return e.isUsed})>=0?e[m.state.selectedTuning].elements.findIndex(function(e){return e.isUsed}):0);var t=m.state.selectedTuning?m.state.selectedTuning:0;m.updateTuning(t,m.state.lscUpgrade[n].id),m.setState({selectedTuning:n,lscUpgrade:e})}}},e.default.createElement(\"div\",null,e.default.createElement(\"img\",{src:l.default[\"tuning-item-\".concat(t.id)],alt:\"\"}),e.default.createElement(\"p\",null,t.name)),t.elements&&!0!==t.isColor?e.default.createElement(\"div\",{className:\"lsc-slide-enter\"},t.elements.length>1?e.default.createElement(\"div\",{onClick:function(){return m.elementList(n,-1)}},e.default.createElement(\"img\",{src:l.default[\"left-arrow-short\"],alt:\"\"})):null,e.default.createElement(\"p\",null,t.elements[m.state.lscUpgrade[n].currentElement?m.state.lscUpgrade[n].currentElement:0].name,t.elements[m.state.lscUpgrade[n].currentElement?m.state.lscUpgrade[n].currentElement:0].isUsed?e.default.createElement(\"br\",null):\"\",t.elements[m.state.lscUpgrade[n].currentElement?m.state.lscUpgrade[n].currentElement:0].isUsed?\"Установлен\":\"\"),t.elements.length>1?e.default.createElement(\"div\",{onClick:function(){return m.elementList(n,1)}},e.default.createElement(\"img\",{src:l.default[\"right-arrow-short\"],alt:\"\"})):null):t.isColor?e.default.createElement(\"div\",{className:\"lsc-color-right\",style:{backgroundColor:t.selectColor?\"rgb(\".concat(t.selectColor.r,\",\").concat(t.selectColor.g,\",\").concat(t.selectColor.b,\")\"):t.color?\"rgb(\".concat(t.color.r,\",\").concat(t.color.g,\",\").concat(t.color.b,\")\"):\"rgb(0,0,0)\"}}):null)}),null==m.state.currentWheelsType||1!=m.state.selectedType?null:e.default.createElement(\"div\",{className:\"lsc-list-item\".concat(B==m.state.selectedTuning?\" active\":\"\"),key:B,onClick:function(){if(m.state.selectedTuning!=B){var e=m.state.lscUpgrade;e[m.state.selectedTuning].elements.find(function(e){return e.isBuy})?e[m.state.selectedTuning].currentElement!=e[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy})&&(e[m.state.selectedTuning].currentElement=e[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy})>=0?e[m.state.selectedTuning].elements.findIndex(function(e){return e.isBuy}):0):(e[m.state.selectedTuning].selectColor=e[m.state.selectedTuning].color,e[m.state.selectedTuning].selectColorMod=e[m.state.selectedTuning].colorMod,e[m.state.selectedTuning].currentElement=e[m.state.selectedTuning].elements.findIndex(function(e){return e.isUsed})>=0?e[m.state.selectedTuning].elements.findIndex(function(e){return e.isUsed}):0);var t=m.state.selectedTuning?m.state.selectedTuning:0;m.updateTuning(t,m.state.lscUpgrade[m.state.selectedTuning].id),m.setState({selectedTuning:B,lscUpgrade:e})}}},e.default.createElement(\"div\",null,e.default.createElement(\"img\",{src:l.default[\"tuning-item-\".concat(B)],alt:\"\"}),e.default.createElement(\"p\",null,\"Колёса\")),e.default.createElement(\"div\",null,e.default.createElement(\"div\",{className:\"lsc-slide-enter\",style:{marginBottom:\"0.5vw\"}},e.default.createElement(\"div\",{onClick:function(){return m.wheelListType(-1)}},e.default.createElement(\"img\",{src:l.default[\"left-arrow-short\"],alt:\"\"})),e.default.createElement(\"p\",null,d.LSC_WHEELS.find(function(e){return e.type==m.state.selectWheels[0]}).name),e.default.createElement(\"div\",{onClick:function(){return m.wheelListType(1)}},e.default.createElement(\"img\",{src:l.default[\"right-arrow-short\"],alt:\"\"}))),e.default.createElement(\"div\",{className:\"lsc-slide-enter\"},e.default.createElement(\"div\",{onClick:function(){return m.wheelList(-1)}},e.default.createElement(\"img\",{src:l.default[\"left-arrow-short\"],alt:\"\"})),e.default.createElement(\"p\",null,d.LSC_WHEELS.find(function(e){return e.type==m.state.selectWheels[0]}).elements.find(function(e){return e[1]==m.state.selectWheels[1]})[0]),e.default.createElement(\"div\",{onClick:function(){return m.wheelList(1)}},e.default.createElement(\"img\",{src:l.default[\"right-arrow-short\"],alt:\"\"})))))))),m.state.selectedTuning==B?e.default.createElement(\"div\",{className:\"lsc-buy-line-wrapper animated fadeIn waiteone\"},e.default.createElement(\"div\",{className:\"lsc-buy-line\"},m.state.selectWheels[0]==m.state.currentWheelsType&&m.state.selectWheels[1]==m.state.currentWheelsID?e.default.createElement(\"div\",{className:\"lsc-count-size\"},e.default.createElement(\"p\",null,e.default.createElement(\"strong\",null,\"Установлено\")),e.default.createElement(\"p\",null,\"Колёса\")):e.default.createElement(e.default.Fragment,null,null!=m.state.buyWheels&&m.state.selectWheels[0]==m.state.buyWheels[0]&&m.state.selectWheels[1]==m.state.buyWheels[1]?e.default.createElement(\"button\",{className:\"lsc-button-cube long\",onClick:function(){m.setState({buyWheels:void 0})}},e.default.createElement(\"img\",{src:l.default[\"card-delete\"],alt:\"\"}),e.default.createElement(\"p\",null,\"Удалить из корзины\")):e.default.createElement(\"button\",{className:\"lsc-button-orange\",onClick:function(){m.setState({buyWheels:m.state.selectWheels})}},e.default.createElement(\"img\",{src:l.default[\"card-add\"],alt:\"\"}),e.default.createElement(\"p\",null,\"В корзину\")),e.default.createElement(\"div\",{className:\"lsc-count-size\"},e.default.createElement(\"p\",null,e.default.createElement(\"strong\",null,\"$\",u.systemUtil.numberFormat(m.getWheelPrice(m.state.selectWheels[0])))),e.default.createElement(\"p\",null,\"Колёса\"))))):null,m.state.selectedTuning>=0&&m.state.selectedTuning!=B?e.default.createElement(\"div\",{className:\"lsc-buy-line-wrapper animated fadeIn waiteone\"},e.default.createElement(\"div\",{className:\"lsc-buy-line\"},(!m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isUsed||null!=m.state.lscUpgrade[m.state.selectedTuning].isColorMod&&m.state.lscUpgrade[m.state.selectedTuning].selectColorMod&&m.state.lscUpgrade[m.state.selectedTuning].selectColorMod!=m.state.lscUpgrade[m.state.selectedTuning].colorMod||null!=m.state.lscUpgrade[m.state.selectedTuning].isColor&&m.state.lscUpgrade[m.state.selectedTuning].selectColor&&m.state.lscUpgrade[m.state.selectedTuning].selectColor!=m.state.lscUpgrade[m.state.selectedTuning].color)&&1!=m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isBuy?m.state.lscUpgrade[m.state.selectedTuning].available?e.default.createElement(\"button\",{className:\"lsc-button-orange\",onClick:function(){if(1!=m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isBuy){var e=m.state.lscUpgrade;return e[m.state.selectedTuning].elements.map(function(t,n){return e[m.state.selectedTuning].elements[n].isBuy=n==(0|m.state.lscUpgrade[m.state.selectedTuning].currentElement)}),m.setState({lscUpgrade:e}),console.log(u.systemUtil.numberFormat((0,d.convertModCostFromCarCost)(m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].percent,m.state.vehicleCost))),console.log(m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].percent),void console.log(m.state.vehicleCost)}}},e.default.createElement(\"img\",{src:l.default[\"card-add\"],alt:\"\"}),e.default.createElement(\"p\",null,\"В корзину\")):e.default.createElement(\"button\",{className:\"lsc-button-gray\"},e.default.createElement(\"img\",{src:l.default[\"card-add\"],alt:\"\"}),e.default.createElement(\"p\",null,\"Товар закончился\")):1==m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isBuy?e.default.createElement(\"button\",{className:\"lsc-button-cube long\",onClick:function(){if(1==m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isBuy){var e=m.state.lscUpgrade;return e[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isBuy=!1,void m.setState({lscUpgrade:e})}n.CustomEvent.triggerClient(\"lsc:delete\",m.state.lscUpgrade[m.state.selectedTuning].id)}},e.default.createElement(\"img\",{src:l.default[\"card-delete\"],alt:\"\"}),e.default.createElement(\"p\",null,1==m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isBuy?\"Удалить из корзины\":\"Удалить\")):null,e.default.createElement(\"div\",{className:\"lsc-count-size\"},!m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isUsed||null!=m.state.lscUpgrade[m.state.selectedTuning].isColorMod&&m.state.lscUpgrade[m.state.selectedTuning].selectColorMod&&m.state.lscUpgrade[m.state.selectedTuning].selectColorMod!=m.state.lscUpgrade[m.state.selectedTuning].colorMod||null!=m.state.lscUpgrade[m.state.selectedTuning].isColor&&m.state.lscUpgrade[m.state.selectedTuning].selectColor&&m.state.lscUpgrade[m.state.selectedTuning].selectColor!=m.state.lscUpgrade[m.state.selectedTuning].color?e.default.createElement(\"p\",null,e.default.createElement(\"strong\",null,\"$\",u.systemUtil.numberFormat((0,d.convertModCostFromCarCost)(m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].percent,m.state.vehicleCost)))):e.default.createElement(\"p\",null,e.default.createElement(\"strong\",null,\"Установлено\")),e.default.createElement(\"p\",null,m.state.lscUpgrade[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].name)))):null,e.default.createElement(\"div\",{className:\"lsc-car-stats animated fadeIn waitetwo\"},e.default.createElement(\"p\",null,m.state.carName)),e.default.createElement(\"div\",{className:\"lsc-colorizer-wrapper animated fadeIn waitetwo\"},e.default.createElement(\"div\",{className:\"lsc-mouse-info\"},e.default.createElement(\"p\",null,e.default.createElement(\"span\",null,\"Удерживайте ЛКМ\"),e.default.createElement(\"br\",null),\"чтобы вращать камеру\"),e.default.createElement(\"img\",{src:l.default[\"mouse-LKM\"],alt:\"\"})),e.default.createElement(\"div\",{className:\"lsc-mouse-info\"},e.default.createElement(\"p\",null,e.default.createElement(\"span\",null,\"удерживайте ПКМ\"),e.default.createElement(\"br\",null),\"приблизить или отдалить\"),e.default.createElement(\"img\",{src:l.default[\"mouse-RKM\"],alt:\"\"})),m.state.selectedTuning>=0&&m.state.selectedTuning!=B&&m.state.lscUpgrade[m.state.selectedTuning].isColorMod?e.default.createElement(\"div\",{className:\"lsc-slide-enter\"},e.default.createElement(\"div\",{onClick:function(){var e=m.state.lscUpgrade,t=e[m.state.selectedTuning];void 0===e[m.state.selectedTuning].selectColorMod&&(e[m.state.selectedTuning].selectColorMod=e[m.state.selectedTuning].colorMod);var l,s=d.LSC_COLOR_MODS.findIndex(function(t){return t.index===e[m.state.selectedTuning].selectColorMod}),a=-1;d.LSC_COLOR_MODS.forEach(function(e,t){t<s&&(a=t)}),l=a<0?d.LSC_COLOR_MODS[d.LSC_COLOR_MODS.length-1]:d.LSC_COLOR_MODS[a],e[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isBuy=!1,e[m.state.selectedTuning].selectColorMod=l.index,console.log(s,e[m.state.selectedTuning].selectColorMod),m.setState({lscUpgrade:e}),n.CustomEvent.triggerClient(\"lsc:switchTuningColorMod\",t.id,e[m.state.selectedTuning].selectColorMod)}},e.default.createElement(\"img\",{src:l.default[\"left-arrow-short\"],alt:\"\"})),e.default.createElement(\"p\",null,d.LSC_COLOR_MODS.find(function(e){return e.index===(null!=m.state.lscUpgrade[m.state.selectedTuning].selectColorMod?m.state.lscUpgrade[m.state.selectedTuning].selectColorMod:m.state.lscUpgrade[m.state.selectedTuning].colorMod)}).name),e.default.createElement(\"div\",{onClick:function(){var e=m.state.lscUpgrade,t=e[m.state.selectedTuning];void 0===e[m.state.selectedTuning].selectColorMod&&(e[m.state.selectedTuning].selectColorMod=e[m.state.selectedTuning].colorMod);var l=d.LSC_COLOR_MODS.findIndex(function(t){return t.index===e[m.state.selectedTuning].selectColorMod}),s=d.LSC_COLOR_MODS.find(function(e,t){return t>l});e[m.state.selectedTuning].elements[0|m.state.lscUpgrade[m.state.selectedTuning].currentElement].isBuy=!1,e[m.state.selectedTuning].selectColorMod=s?s.index:d.LSC_COLOR_MODS[0].index,m.setState({lscUpgrade:e}),n.CustomEvent.triggerClient(\"lsc:switchTuningColorMod\",t.id,e[m.state.selectedTuning].selectColorMod)}},e.default.createElement(\"img\",{src:l.default[\"right-arrow-short\"],alt:\"\"}))):null,m.state.selectedTuning>=0&&m.state.selectedTuning!=B&&m.state.lscUpgrade[m.state.selectedTuning].isColor?e.default.createElement(\"div\",{className:\"lsc-rgb-wrap\"},e.default.createElement(j,{color:m.state.lscUpgrade[m.state.selectedTuning].selectColor?m.state.lscUpgrade[m.state.selectedTuning].selectColor:m.state.lscUpgrade[m.state.selectedTuning].color?m.state.lscUpgrade[m.state.selectedTuning].color:{r:0,g:0,b:0},onChange:function(e){return m.changeColor(e)},onChangeComplete:function(e){return m.changeColor(e)}}),e.default.createElement(\"div\",{className:\"inputForHex\"},e.default.createElement(\"span\",null,\"Впишите номер цвета\"),e.default.createElement(\"input\",{type:\"text\",ref:m.state.refHexInput,onChange:function(){return m.onChangeHexInput()}}))):null)));case k.BUY:return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"section\",{className:\"los-santos-customs price-list-background animated fadeIn\"},m.state.showPay&&!0===m.state.showPay?e.default.createElement(\"div\",{className:\"shop_paybox\"},e.default.createElement(\"div\",{className:\"shop_paybox_box\"},e.default.createElement(i.PayBox,{ref:m._child}),e.default.createElement(\"div\",{className:\"shop_buy\",onClick:m.buyTuning},e.default.createElement(\"img\",{src:r.default}),\"Оплатить\"))):null,e.default.createElement(\"div\",{className:\"lsc-left-flexer animated fadeInLeft waiteone\"},e.default.createElement(\"div\",{className:\"lsc-topline\"},e.default.createElement(\"div\",{className:\"lsc-logo\"},e.default.createElement(\"img\",{src:s.default[\"lsc-logo\"],alt:\"\"})))),!m.isChipTuning&&e.default.createElement(\"div\",{className:\"lsc-go-back animated fadeInLeft waiteone\"},e.default.createElement(\"button\",{className:\"lsc-button-cube long\",onClick:function(){m.setState({page:k.TUNING})}},e.default.createElement(\"img\",{src:l.default.fi_package,alt:\"\"}),e.default.createElement(\"p\",null,\"Вернуться к тюнингу\"))),e.default.createElement(\"div\",{className:\"lsc-check-list animated fadeInUp waiteone\"},e.default.createElement(\"img\",{src:l.default.price,alt:\"\"}),e.default.createElement(\"div\",{className:\"lsc-count-size\"},e.default.createElement(\"p\",null,\"Итого\"),e.default.createElement(\"p\",null,e.default.createElement(\"strong\",null,\"$\",u.systemUtil.numberFormat(m.getAllPrice())))),e.default.createElement(\"div\",{className:\"lsc-left-tab-inner-check\"},m.state.lscUpgrade.map(function(t,n){return t.elements.map(function(s,a){if(1==s.isBuy)return e.default.createElement(\"div\",{className:\"lsc-list-item\",key:n},e.default.createElement(\"div\",null,e.default.createElement(\"img\",{src:l.default[\"tuning-item-\".concat(t.id)],alt:\"\"}),e.default.createElement(\"p\",null,t.name,\" \",s.name)),e.default.createElement(\"div\",{className:\"price-info\"},e.default.createElement(\"p\",null,\"$\",u.systemUtil.numberFormat((0,d.convertModCostFromCarCost)(s.percent,m.state.vehicleCost))),e.default.createElement(\"button\",{className:\"lsc-button-cube\",onClick:function(){var e,t=m.state.lscUpgrade,l=0;(t[n].elements[a].isBuy=!1,t[n].isColor)?t[n].selectColor=t[n].color?t[n].color:{r:0,g:0,b:0}:(t[n].elements.map(function(l,s){1==l.isUsed&&(e=!0,t[n].currentElement=s)}),!0!==e&&(t[n].currentElement=0));t.map(function(e){return e.elements.map(function(e){1==e.isBuy&&l++})}),m.setState({lscUpgrade:t,page:(l||null!=m.state.buyWheels)>0?k.BUY:k.TUNING}),m.updateTuning(n,t[n].id)}},e.default.createElement(\"img\",{src:l.default[\"card-delete\"],alt:\"\"}))))})}),null!=m.state.buyWheels?e.default.createElement(\"div\",{className:\"lsc-list-item\",key:B},e.default.createElement(\"div\",null,e.default.createElement(\"img\",{src:l.default[\"tuning-item-\".concat(B)],alt:\"\"}),e.default.createElement(\"p\",null,\"Колёса \",d.LSC_WHEELS.find(function(e){return e.type==m.state.buyWheels[0]}).name,\" \",d.LSC_WHEELS.find(function(e){return e.type==m.state.buyWheels[0]}).elements.find(function(e){return e[1]==m.state.buyWheels[1]})[0])),e.default.createElement(\"div\",{className:\"price-info\"},e.default.createElement(\"p\",null,\"$\",u.systemUtil.numberFormat(m.getWheelPrice(m.state.buyWheels[0]))),e.default.createElement(\"button\",{className:\"lsc-button-cube\",onClick:function(){var e=m.state.lscUpgrade,t=0;e.map(function(e){return e.elements.map(function(e){1==e.isBuy&&t++})}),m.setState({lscUpgrade:e,page:t>0?k.BUY:k.TUNING,buyWheels:void 0,selectWheels:[m.state.currentWheelsType,m.state.currentWheelsID]}),m.updateWheel(B,B)}},e.default.createElement(\"img\",{src:l.default[\"card-delete\"],alt:\"\"})))):null)),e.default.createElement(\"div\",{className:\"lsc-price-end animated fadeInLeft waiteone\"},e.default.createElement(\"div\",{className:\"lsc-car-stats\"},e.default.createElement(\"p\",null,m.state.carName)),e.default.createElement(\"button\",{className:\"lsc-button-orange\",onClick:function(){return m.setState({showPay:!0})}},e.default.createElement(\"img\",{src:l.default[\"card-add\"],alt:\"\"}),e.default.createElement(\"p\",null,\"Оплатить покупку\")))))}},m.state={page:k.REPAIR,primaryColor:{r:0,g:0,b:0},secondaryColor:{r:255,g:255,b:255},selectedType:1,selectedTuning:0,showPay:!1,repair:o.VEHICLE_REPAIR_COST,carName:\"testcar\",lscUpgrade:[{id:1,name:\"Спойлер\",section_type:1,elements:[{id:0,name:\"Первый\",percent:1e3,isUsed:!0},{id:1,name:\"Второй\",percent:2e3}],color:{r:0,g:0,b:0}},{id:2,name:\"Бампер передний\",section_type:1,elements:[{id:0,name:\"Первый\",percent:1e3},{id:1,name:\"Второй\",percent:2e3}]},{id:3,name:\"Бампер задний\",section_type:1,elements:[{id:0,name:\"Первый\",percent:1e3},{id:1,name:\"Второй\",percent:2e3}],isColor:!1,isWheelType:!1,isWheelTypeValue:!1,isColorMod:!1},{id:4,name:\"Цвет\",section_type:1,elements:[{id:0,name:\"Цвет\",percent:1e3}],isColor:!0},{id:16,name:\"Усиление каркаса\",section_type:1,elements:[{id:0,name:\"Первый\",percent:1e3},{id:1,name:\"Второй\",percent:2e3}]},{id:50,name:\"Тонировка\",section_type:1,elements:[{id:0,name:\"Первый\",percent:1e3},{id:1,name:\"Второй\",percent:2e3}]}],buyUpgrades:null,colorTime:0,shopId:0,vehicleId:0,vehicleCost:0,selectWheels:[0,0],currentWheelsType:0,currentWheelsID:-1,wheelMultiplier:1,refHexInput:e.default.createRef(),chipTuningData:d.handlingConfigs.map(function(e){return{handlingId:e.id,value:e.minValue}})},m.handleKeyDown=m.handleKeyDown.bind(m),m._child=e.default.createRef(),n.CustomEvent.register(\"lsc:startChip\",function(e,t,n,l,s,a){m.setState({page:k.TUNING_CHIP,vehicleId:a,shopId:s,carName:e,chipTuningData:t}),m.chipTuningCost=l,m.isChipTuning=!0,m.chipConfigStandard=n}),m.ev=n.CustomEvent.register(\"lsc:start\",function(e,t,n,l,s,a,r,c,u){e.map(function(t,n){return t.elements.map(function(t,l){1==t.isUsed&&(e[n].currentElement=l)})});var i=[a,r],d=e.findIndex(function(e){return 1==e.section_type});m.setState({lscUpgrade:e,selectedTuning:d,carName:t,shopId:n,vehicleId:l,vehicleCost:s,currentWheelsType:a,currentWheelsID:r,selectWheels:i,repair:c?o.VEHICLE_REPAIR_COST:-1,wheelMultiplier:u})}),m}return L(c,e.Component),U(c,[{key:\"setHexValue\",value:function(e){var t=this.rgbToHex(e.r,e.g,e.b);this.state.refHexInput.current.value=t}},{key:\"hexToRgb\",value:function(e){var t=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}},{key:\"componentToHex\",value:function(e){var t=e.toString(16);return 1==t.length?\"0\"+t:t}},{key:\"rgbToHex\",value:function(e,t,n){return\"#\"+this.componentToHex(e)+this.componentToHex(t)+this.componentToHex(n)}},{key:\"getHexValue\",value:function(){var e=this.state.lscUpgrade[this.state.selectedTuning].selectColor?this.state.lscUpgrade[this.state.selectedTuning].selectColor:this.state.lscUpgrade[this.state.selectedTuning].color?this.state.lscUpgrade[this.state.selectedTuning].color:{r:0,g:0,b:0};return this.rgbToHex(e.r,e.g,e.b)}},{key:\"round\",value:function(e,t){return e(100*t)/100}},{key:\"handleInputChange\",value:function(e,t){var n=this.state.chipTuningData.find(function(e){return e.handlingId===t});e!==n.value&&(n.value=e,this.setState({chipTuningData:this.state.chipTuningData}))}},{key:\"resetChipToStandard\",value:function(){this.setState({chipTuningData:this.chipConfigStandard.map(function(e){return y({},e)})})}}])}(),D=exports.ColorPicker=function(t){function n(){return v(this,n),N(this,n,arguments)}return L(n,e.default.Component),U(n,[{key:\"render\",value:function(){return e.default.createElement(\"div\",{className:\"lsc_colorpick\"},e.default.createElement(\"div\",{className:\"lsc_colorbox\"},e.default.createElement(c.Saturation,Object.assign({},this.props,{onChange:this.props.onChange,pointer:function(){return R(0)},color:this.props.rgb}))),e.default.createElement(\"div\",{className:\"lsc_colorhui\"},e.default.createElement(c.Hue,Object.assign({},this.props,{color:this.props.rgb,onChange:this.props.onChange,pointer:function(){return R(1)},direction:\"vertical\"}))))}}])}(),j=(0,a.CustomPicker)(D),R=function(t){return e.default.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",width:\"0.8vw\",height:\"0.8vw\",borderRadius:\"0.8vw\",background:\"rgba(255,255,255,0.2)\",border:\"1px solid white\",boxShadow:\"0px 2px 4px rgba(0, 0, 0, 0.25)\",boxSizing:\"border-box\",marginTop:\"-0.4vw\",marginLeft:1!=t?\"-0.4vw\":0}})};"},"sourceMaps":null,"error":null,"hash":"c16230701530a69e9c1aa69a7750820e","cacheData":{"env":{}}}