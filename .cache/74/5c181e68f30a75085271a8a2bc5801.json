{"id":"wr6F","dependencies":[{"name":"C:\\onyx_V2\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":33,"index":33},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\index.tsx","resolved":"C:\\onyx_V2\\server\\node_modules\\react\\index.js"},{"name":"./buttons.less","loc":{"line":2,"column":7,"index":50},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\buttons.less"},{"name":"../../modules/CEF","loc":{"line":3,"column":20,"index":89},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\modules\\CEF.ts"},{"name":"./assets/img/*.png","loc":{"line":4,"column":16,"index":127},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\assets\\img\\*.png"},{"name":"./assets/img/*.svg","loc":{"line":5,"column":16,"index":166},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\assets\\img\\*.svg"},{"name":"../../modules/system","loc":{"line":6,"column":23,"index":212},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\modules\\system.ts"},{"name":"../../modules/custom.event","loc":{"line":7,"column":28,"index":265},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\modules\\custom.event.ts"},{"name":"../../../shared/system","loc":{"line":8,"column":27,"index":323},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\shared\\system.ts"},{"name":"../../../shared/casino/roulette","loc":{"line":9,"column":114,"index":464},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\shared\\casino\\roulette.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.CasinoRoulette=void 0;var e=u(require(\"react\"));require(\"./buttons.less\");var t=require(\"../../modules/CEF\"),a=o(require(\"./assets/img/*.png\")),n=o(require(\"./assets/img/*.svg\")),l=require(\"../../modules/system\"),r=require(\"../../modules/custom.event\"),s=require(\"../../../shared/system\"),i=require(\"../../../shared/casino/roulette\");function o(e){return e&&e.__esModule?e:{default:e}}function c(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(\"default\"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=l?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(n,r,s):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}function m(e){return(m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function f(e){return b(e)||E(e)||p(e)||d()}function d(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function p(e,t){if(e){if(\"string\"==typeof e)return y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===a&&e.constructor&&(a=e.constructor.name),\"Map\"===a||\"Set\"===a?Array.from(e):\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?y(e,t):void 0}}function E(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function b(e){if(Array.isArray(e))return y(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function h(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function g(e,t,a){return t&&v(e.prototype,t),a&&v(e,a),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function w(e){var t=N(e,\"string\");return\"symbol\"===m(t)?t:String(t)}function N(e,t){if(\"object\"!==m(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||\"default\");if(\"object\"!==m(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}function O(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=_();return function(){var a,n=P(e);if(t){var l=P(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return k(this,a)}}function k(e,t){if(t&&(\"object\"===m(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return T(e)}function T(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function _(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=exports.CasinoRoulette=function(o){O(u,e.Component);var c=j(u);function u(e){var a;return h(this,u),(a=c.call(this,e)).state={bet:0,allbet:0,allbetcount:0,show:t.CEF.test,showhelp:!1,showwin:0,seconds:t.CEF.test?120:0,tableId:0,lastResults:[0,1,2,3,4,17,18]},a.ev=r.CustomEvent.register(\"casino:roulette:data\",function(e,t,n,l,r){a.setState({bet:e,show:!0,lastResults:t,tableId:n,allbet:l,allbetcount:r})}),a.ev2=r.CustomEvent.register(\"casino:roulette:win\",function(e){a.notifyWin(e)}),a.ev3=r.CustomEvent.register(\"casino:roulette:timer\",function(e){a.setState({seconds:e})}),t.CEF.test&&setTimeout(function(){a.notifyWin(1e4)},1e3),a.int=setInterval(function(){if(a.state.seconds>0&&a.setState({seconds:a.state.seconds-1}),t.CEF.test){var e=f(a.state.lastResults);e.push(l.system.getRandomInt(0,63)),e.length>7&&e.splice(0,1),a.setState({lastResults:e})}},1e3),a}return g(u,[{key:\"notifyWin\",value:function(e){var t=this;this.int2&&clearTimeout(this.int2),this.setState({showwin:e}),this.int2=setTimeout(function(){t.setState({showwin:0})},5e3)}},{key:\"table\",get:function(){return i.ROULETTE_TABLE_POSITIONS[this.state.tableId]}},{key:\"componentWillUnmount\",value:function(){this.ev&&this.ev.destroy(),this.ev2&&this.ev2.destroy(),this.ev3&&this.ev3.destroy(),this.int&&clearInterval(this.int),this.int2&&clearTimeout(this.int2),document.removeEventListener(\"keyup\",this.handleKeyUp.bind(this))}},{key:\"componentDidMount\",value:function(){document.addEventListener(\"keyup\",this.handleKeyUp.bind(this))}},{key:\"handleKeyUp\",value:function(e){17===e.keyCode&&this.setState({showhelp:!this.state.showhelp})}},{key:\"render\",value:function(){var r,o;return this.state.show?e.default.createElement(\"section\",{className:\"roulette-section-wrapper animated fadeIn\"},e.default.createElement(\"div\",{className:\"cg1-buttons-grid-left animated fadeInLeft waiteone\"},e.default.createElement(\"div\",{className:\"casino-button-info-item\"},e.default.createElement(\"p\",{className:\"cg1-keyboard mr24\"},\"ESC\"),e.default.createElement(\"p\",null,\"Уйти\")),e.default.createElement(\"div\",{className:\"casino-button-info-item\"},e.default.createElement(\"p\",{className:\"cg1-keyboard\"},\"L CTRL\"),e.default.createElement(\"p\",null,\"Правила рулетки\")),e.default.createElement(\"div\",{className:\"casino-button-info-item\"},e.default.createElement(\"p\",{className:\"cg1-keyboard\"},\"ЛКМ\"),e.default.createElement(\"p\",null,\"Поставить ставку\")),e.default.createElement(\"div\",{className:\"casino-button-info-item\"},e.default.createElement(\"p\",{className:\"cg1-keyboard\"},\"ПКМ\"),e.default.createElement(\"p\",null,\"Отменить ставку\")),e.default.createElement(\"div\",{className:\"casino-button-info-item\"},e.default.createElement(\"p\",{className:\"cg1-keyboard cube mr8\"},e.default.createElement(\"img\",{src:n.default[\"cg1-up\"],alt:\"\"})),e.default.createElement(\"p\",{className:\"cg1-keyboard cube mr16\"},e.default.createElement(\"img\",{src:n.default[\"cg1-down\"],alt:\"\"})),e.default.createElement(\"p\",null,\"Размер ставки\"))),e.default.createElement(\"div\",{className:\"casino-balance\"},e.default.createElement(\"p\",{className:\"casino-mini-font mb24\"},\"Баланс\"),e.default.createElement(\"div\",{className:\"casino-chips large mb24\"},e.default.createElement(\"img\",{src:a.default.chip,alt:\"\"}),e.default.createElement(\"p\",null,s.systemUtil.numberFormat(t.CEF.user.chips))),e.default.createElement(\"p\",{className:\"cgc-count-buy\"},\"$\",s.systemUtil.numberFormat(t.CEF.user.money))),e.default.createElement(\"div\",{className:\"cg-bottom-middle\"},e.default.createElement(\"div\",null,e.default.createElement(\"p\",{className:\"casino-mini-font ml12 mb8\"},\"Сумма ставок\"),e.default.createElement(\"div\",{className:\"casino-chips\"},e.default.createElement(\"img\",{src:a.default.chip,alt:\"\"}),e.default.createElement(\"p\",null,l.system.numberFormat(this.state.allbet)))),e.default.createElement(\"div\",{className:\"mid-line-count\"},e.default.createElement(\"p\",{className:\"casino-mini-font op4 mb8\"},\" ставок \",e.default.createElement(\"br\",null),\" осталось \"),e.default.createElement(\"span\",null,Math.max(0,i.ROULETTE_MAX_BETS-this.state.allbetcount)),e.default.createElement(\"i\",null)),e.default.createElement(\"div\",null,e.default.createElement(\"p\",{className:\"casino-mini-font ml12 mb8\"},\"Текущая\"),e.default.createElement(\"div\",{className:\"casino-chips\"},e.default.createElement(\"img\",{src:a.default.chip,alt:\"\"}),e.default.createElement(\"p\",null,l.system.numberFormat(this.state.bet))))),e.default.createElement(\"div\",{className:\"cg-left-bottom\"},e.default.createElement(\"div\",{className:\"cg-maxandmin\"},e.default.createElement(\"div\",{className:\"casino-chips small\"},e.default.createElement(\"img\",{src:a.default.chip,alt:\"\"}),e.default.createElement(\"p\",null,l.system.numberFormat(Math.min.apply(Math,f((null===(r=this.table)||void 0===r?void 0:r.chipTypePrices)||[0]))))),e.default.createElement(\"p\",{className:\"casino-mini-font op4\"},\"Минимальная\",e.default.createElement(\"br\",null),\"ставка\")),e.default.createElement(\"div\",{className:\"cg-maxandmin\"},e.default.createElement(\"div\",{className:\"casino-chips small\"},e.default.createElement(\"img\",{src:a.default.chip,alt:\"\"}),e.default.createElement(\"p\",null,l.system.numberFormat(Math.max.apply(Math,f((null===(o=this.table)||void 0===o?void 0:o.chipTypePrices)||[0]))))),e.default.createElement(\"p\",{className:\"casino-mini-font op4\"},\"Максимальная\",e.default.createElement(\"br\",null),\"ставка\"))),this.state.seconds?e.default.createElement(\"div\",{className:\"animated zoomIn\"},e.default.createElement(\"div\",{className:\"cg-timer\"},e.default.createElement(\"p\",{className:\"casino-mini-font mb8\"},\"До начала игры\"),e.default.createElement(\"p\",{className:\"casino-timer-font\"},l.system.secondsToString(this.state.seconds)))):e.default.createElement(e.default.Fragment,null),e.default.createElement(\"div\",{className:\"cg-roulette-wintask \".concat(this.state.showwin<0?\"loss\":\"\",\" animated fadeInUp w\"),style:{display:this.state.showwin?\"flex\":\"none\"}},e.default.createElement(\"p\",{className:\"cg-r-win-title\"},e.default.createElement(\"span\",null,this.state.showwin<0?\"сожалеем\":\"поздравляем\"),e.default.createElement(\"br\",null),\"вы \",this.state.showwin<0?\"проиграли\":\"выиграли\",\":\"),e.default.createElement(\"div\",{className:\"casino-chips large\"},e.default.createElement(\"img\",{src:a.default.chip,alt:\"\"}),e.default.createElement(\"p\",null,l.system.numberFormat(Math.abs(this.state.showwin))))),this.state.showhelp?e.default.createElement(\"div\",{className:\"modal-rules-roulette-wrapper\"},e.default.createElement(\"div\",{className:\"casino-button-info-item\"},e.default.createElement(\"p\",null,\"Закрыть правила\"),e.default.createElement(\"p\",{className:\"cg1-keyboard m0 ml12\"},\"L CTRL\")),e.default.createElement(\"div\",{className:\"modal-rules-roulette\"},e.default.createElement(\"div\",null,e.default.createElement(\"p\",{className:\"font32 fontw600 mb24\"},\"Что представляет\",e.default.createElement(\"br\",null),\"из себя рулетка?\"),e.default.createElement(\"p\",{className:\"font24 ln-1-4 fontw400\"},'Рулетка - это стол на котором размещены цифры от 1 до 36 и ещё есть зеро (0) и (00). Есть также Even (четное), Odd (нечетное), красное и черное, и поля по 12 чисел (1st 12, 2nd 12, 3rd 12) и 3 линии и \"больше\" или \"меньше\" это ставка на попадание числа в диапазон от 1..18 или 18..36')),e.default.createElement(\"div\",null,e.default.createElement(\"p\",{className:\"font32 fontw600 mb24\"},\"Выигрыши\"),e.default.createElement(\"div\",{className:\"rules-roulette-table\"},e.default.createElement(\"div\",{className:\"rr-t-line-hr\"},e.default.createElement(\"div\",null,e.default.createElement(\"p\",{className:\"op4 font16 fontw400\"},\"Ставка\")),e.default.createElement(\"div\",null,e.default.createElement(\"p\",{className:\"op4 font16 fontw400\"},\"Форумла выигрыша\")),e.default.createElement(\"div\",null,e.default.createElement(\"p\",{className:\"op4 font16 fontw400\"},\"Пример\"))),Object.keys(i.mapWinName).map(function(t){var n=i.mapWinName[t],l=(i.mapWinDesc[t],i.mapWinIcon[t]);return e.default.createElement(\"div\",{className:\"rr-t-line\",key:\"roulette_help_win_\".concat(t)},e.default.createElement(\"div\",null,e.default.createElement(\"p\",{className:\"font24 fontw400 strong-in\"},e.default.createElement(\"strong\",null,n))),e.default.createElement(\"div\",null,e.default.createElement(\"p\",{className:\"font24 fontw600\"},i.mapWinMultiplier[t],\"*X+X\")),e.default.createElement(\"div\",null,e.default.createElement(\"img\",{src:a.default[l],alt:\"\"})))}))))):e.default.createElement(e.default.Fragment,null)):e.default.createElement(e.default.Fragment,null)}}]),u}();"},"sourceMaps":null,"error":null,"hash":"8bffde3bc3063ceea6de5b2ba2473e35","cacheData":{"env":{}}}