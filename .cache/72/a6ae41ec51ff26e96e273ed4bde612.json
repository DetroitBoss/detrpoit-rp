{"id":"ZCoL","dependencies":[{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\package.json","includedInParent":true,"mtime":1727618725406},{"name":"engine.io-client","loc":{"line":4,"column":20,"index":123},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\engine.io-client\\lib\\index.js"},{"name":"./socket","loc":{"line":5,"column":25,"index":169},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\build\\socket.js"},{"name":"component-emitter","loc":{"line":6,"column":24,"index":206},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\component-emitter\\index.js"},{"name":"socket.io-parser","loc":{"line":7,"column":23,"index":251},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\dist\\index.js"},{"name":"./on","loc":{"line":8,"column":21,"index":293},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\build\\on.js"},{"name":"backo2","loc":{"line":9,"column":24,"index":326},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\DETROIT\\server\\node_modules\\backo2\\index.js"},{"name":"debug","loc":{"line":10,"column":22,"index":359},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\build\\manager.js","resolved":"D:\\DETROIT\\server\\node_modules\\debug\\src\\browser.js"}],"generated":{"js":"\"use strict\";function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,i(o.key),o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function i(t){var n=r(t,\"string\");return\"symbol\"==e(n)?n:n+\"\"}function r(t,n){if(\"object\"!=e(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,n||\"default\");if(\"object\"!=e(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===n?String:Number)(t)}function c(e,t,n){return t=p(t),s(e,u()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function s(t,n){if(n&&(\"object\"==e(n)||\"function\"==typeof n))return n;if(void 0!==n)throw new TypeError(\"Derived constructors may only return object or undefined\");return a(t)}function a(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function f(e,t,n,o){var i=l(p(1&o?e.prototype:e),t,n);return 2&o&&\"function\"==typeof i?function(e){return i.apply(n,e)}:i}function l(){return(l=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=h(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(null,arguments)}function h(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Manager=void 0;var v=require(\"engine.io-client\"),m=require(\"./socket\"),b=require(\"component-emitter\"),k=require(\"socket.io-parser\"),_=require(\"./on\"),g=require(\"backo2\"),w=require(\"debug\")(\"socket.io-client:manager\"),O=function(n){function i(n,o){var r;t(this,i),(r=c(this,i)).nsps={},r.subs=[],n&&\"object\"===e(n)&&(o=n,n=void 0),(o=o||{}).path=o.path||\"/socket.io\",r.opts=o,r.reconnection(!1!==o.reconnection),r.reconnectionAttempts(o.reconnectionAttempts||1/0),r.reconnectionDelay(o.reconnectionDelay||1e3),r.reconnectionDelayMax(o.reconnectionDelayMax||5e3),r.randomizationFactor(o.randomizationFactor||.5),r.backoff=new g({min:r.reconnectionDelay(),max:r.reconnectionDelayMax(),jitter:r.randomizationFactor()}),r.timeout(null==o.timeout?2e4:o.timeout),r._readyState=\"closed\",r.uri=n;var s=o.parser||k;return r.encoder=new s.Encoder,r.decoder=new s.Decoder,r._autoConnect=!1!==o.autoConnect,r._autoConnect&&r.open(),r}return y(i,b),o(i,[{key:\"reconnection\",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:\"reconnectionAttempts\",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:\"reconnectionDelay\",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:\"randomizationFactor\",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:\"reconnectionDelayMax\",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:\"timeout\",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:\"maybeReconnectOnOpen\",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:\"open\",value:function(e){var t=this;if(w(\"readyState %s\",this._readyState),~this._readyState.indexOf(\"open\"))return this;w(\"opening %s\",this.uri),this.engine=v(this.uri,this.opts);var n=this.engine,o=this;this._readyState=\"opening\",this.skipReconnect=!1;var r=_.on(n,\"open\",function(){o.onopen(),e&&e()}),c=_.on(n,\"error\",function(n){w(\"error\"),o.cleanup(),o._readyState=\"closed\",f(i,\"emit\",t,3)([\"error\",n]),e?e(n):o.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;w(\"connect attempt will timeout after %d\",s),0===s&&r();var a=setTimeout(function(){w(\"connect attempt timed out after %d\",s),r(),n.close(),n.emit(\"error\",new Error(\"timeout\"))},s);this.subs.push(function(){clearTimeout(a)})}return this.subs.push(r),this.subs.push(c),this}},{key:\"connect\",value:function(e){return this.open(e)}},{key:\"onopen\",value:function(){w(\"open\"),this.cleanup(),this._readyState=\"open\",f(i,\"emit\",this,3)([\"open\"]);var e=this.engine;this.subs.push(_.on(e,\"ping\",this.onping.bind(this)),_.on(e,\"data\",this.ondata.bind(this)),_.on(e,\"error\",this.onerror.bind(this)),_.on(e,\"close\",this.onclose.bind(this)),_.on(this.decoder,\"decoded\",this.ondecoded.bind(this)))}},{key:\"onping\",value:function(){f(i,\"emit\",this,3)([\"ping\"])}},{key:\"ondata\",value:function(e){this.decoder.add(e)}},{key:\"ondecoded\",value:function(e){f(i,\"emit\",this,3)([\"packet\",e])}},{key:\"onerror\",value:function(e){w(\"error\",e),f(i,\"emit\",this,3)([\"error\",e])}},{key:\"socket\",value:function(e,t){var n=this.nsps[e];return n||(n=new m.Socket(this,e,t),this.nsps[e]=n),n}},{key:\"_destroy\",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var o=n[t];if(this.nsps[o].active)return void w(\"socket %s is still active, skipping close\",o)}this._close()}},{key:\"_packet\",value:function(e){w(\"writing packet %j\",e);for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:\"cleanup\",value:function(){w(\"cleanup\"),this.subs.forEach(function(e){return e()}),this.subs.length=0,this.decoder.destroy()}},{key:\"_close\",value:function(){w(\"disconnect\"),this.skipReconnect=!0,this._reconnecting=!1,\"opening\"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState=\"closed\",this.engine&&this.engine.close()}},{key:\"disconnect\",value:function(){return this._close()}},{key:\"onclose\",value:function(e){w(\"onclose\"),this.cleanup(),this.backoff.reset(),this._readyState=\"closed\",f(i,\"emit\",this,3)([\"close\",e]),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:\"reconnect\",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)w(\"reconnect failed\"),this.backoff.reset(),f(i,\"emit\",this,3)([\"reconnect_failed\"]),this._reconnecting=!1;else{var n=this.backoff.duration();w(\"will wait %dms before reconnect attempt\",n),this._reconnecting=!0;var o=setTimeout(function(){t.skipReconnect||(w(\"attempting reconnect\"),f(i,\"emit\",e,3)([\"reconnect_attempt\",t.backoff.attempts]),t.skipReconnect||t.open(function(n){n?(w(\"reconnect attempt error\"),t._reconnecting=!1,t.reconnect(),f(i,\"emit\",e,3)([\"reconnect_error\",n])):(w(\"reconnect success\"),t.onreconnect())}))},n);this.subs.push(function(){clearTimeout(o)})}}},{key:\"onreconnect\",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),f(i,\"emit\",this,3)([\"reconnect\",e])}}])}();exports.Manager=O;"},"sourceMaps":null,"error":null,"hash":"891a2a1d9a4a33d0963b347754e44a85","cacheData":{"env":{}}}