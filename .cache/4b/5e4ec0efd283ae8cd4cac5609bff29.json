{"id":"nLNk","dependencies":[{"name":"D:\\DETROIT\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":18,"index":18},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\components\\Citizens\\Citizens.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react\\index.js"},{"name":"../../../../assets/*.svg","loc":{"line":2,"column":16,"index":44},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\components\\Citizens\\Citizens.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\assets\\*.svg"},{"name":"../../../../../../../../modules/custom.event","loc":{"line":3,"column":28,"index":101},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\components\\Citizens\\Citizens.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\custom.event.ts"},{"name":"../../../../../../../../modules/CEF","loc":{"line":4,"column":20,"index":170},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\components\\Citizens\\Citizens.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\CEF.ts"},{"name":"../../../../../../../../../shared/licence","loc":{"line":5,"column":49,"index":259},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\components\\Citizens\\Citizens.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\licence.ts"},{"name":"../../../../../../../SocketSync","loc":{"line":6,"column":27,"index":332},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\components\\Citizens\\Citizens.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\SocketSync\\index.tsx"},{"name":"../../../../../../../../modules/fractions","loc":{"line":7,"column":28,"index":396},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\components\\Citizens\\Citizens.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\fractions.ts"},{"name":"../../../../../../../../../shared/jail","loc":{"line":8,"column":33,"index":475},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\components\\Citizens\\Citizens.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\jail.ts"},{"name":"../../../../../../images/svg/tablet/*.svg","loc":{"line":9,"column":17,"index":535},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\components\\Citizens\\Citizens.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\images\\svg\\tablet\\*.svg"},{"name":"../../../../../../../../modules/system","loc":{"line":10,"column":23,"index":604},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\components\\Citizens\\Citizens.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\system.ts"},{"name":"../../style.less","loc":{"line":11,"column":7,"index":654},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\components\\Citizens\\Citizens.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\style.less"},{"name":"./style.less","loc":{"line":12,"column":7,"index":682},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\components\\Citizens\\Citizens.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Tablet\\components\\Fraction\\pages\\Government\\components\\Citizens\\style.less"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Citizens=void 0;var e=u(require(\"react\")),t=u(require(\"../../../../assets/*.svg\")),a=require(\"../../../../../../../../modules/custom.event\"),r=require(\"../../../../../../../../modules/CEF\"),n=require(\"../../../../../../../../../shared/licence\"),l=require(\"../../../../../../../SocketSync\"),s=require(\"../../../../../../../../modules/fractions\"),c=require(\"../../../../../../../../../shared/jail\"),i=u(require(\"../../../../../../images/svg/tablet/*.svg\")),o=require(\"../../../../../../../../modules/system\");function u(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function f(e){return v(e)||h(e)||p(e)||d()}function d(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function p(e,t){if(e){if(\"string\"==typeof e)return g(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===a&&e.constructor&&(a=e.constructor.name),\"Map\"===a||\"Set\"===a?Array.from(e):\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?g(e,t):void 0}}function h(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function v(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function E(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function S(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function w(e,t,a){return t&&S(e.prototype,t),a&&S(e,a),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function y(e){var t=b(e,\"string\");return\"symbol\"===m(t)?t:String(t)}function b(e,t){if(\"object\"!==m(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||\"default\");if(\"object\"!==m(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}function _(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&I(e,t)}function I(e,t){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=R();return function(){var a,r=D(e);if(t){var n=D(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return C(this,a)}}function C(e,t){if(t&&(\"object\"===m(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return k(e)}function k(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function R(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}require(\"../../style.less\"),require(\"./style.less\");var O=exports.Citizens=function(u){_(d,e.default.Component);var m=N(d);function d(t){var a;return E(this,d),(a=m.call(this,t)).nameRef=e.default.createRef(),a.documentRef=e.default.createRef(),a.bankRef=e.default.createRef(),a.state={searchData:[]},a}return w(d,[{key:\"search\",value:function(){var e=this,t=parseInt(this.nameRef.current.value),n=String(t)==this.nameRef.current.value?null:this.nameRef.current.value,l=this.documentRef.current.value,s=this.bankRef.current.value;a.CustomEvent.callServer(\"faction:database:search\",t,n,l,s,null).then(function(t){if(t.status)return r.CEF.alert.setAlert(\"error\",t.status);e.setState({searchData:t.data})})}},{key:\"getGosSearch\",value:function(){var t=this;return e.default.createElement(e.default.Fragment,null,this.state.gosSearchItem?e.default.createElement(\"div\",{className:\"in-results-wrapper-2\"},e.default.createElement(l.SocketSync,{path:\"tablet_gosSearchItem_\".concat(this.state.gosSearchItem.id),data:function(e){var a=JSON.parse(e);t.setState({gosSearchItem:a})}},e.default.createElement(\"div\",{className:\"in-results-wrap-2\"},e.default.createElement(\"button\",{className:\"close-2\",onClick:function(e){e.preventDefault(),t.setState({gosSearchItem:null})}},e.default.createElement(\"span\",{className:\"icon-wrap-2\"},e.default.createElement(\"svg\",{width:\"30\",height:\"30\",viewBox:\"0 0 30 30\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},e.default.createElement(\"g\",{id:\"24 / basic / plus\"},e.default.createElement(\"path\",{id:\"icon\",fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M14.9996 13.5858L21.3635 7.22183L22.7777 8.63604L16.4138 15L22.7777 21.364L21.3635 22.7782L14.9996 16.4142L8.6356 22.7782L7.22138 21.364L13.5853 15L7.22138 8.63604L8.6356 7.22183L14.9996 13.5858Z\",fill:\"#fff\"}))))),e.default.createElement(\"p\",{className:\"title-big-2\"},this.state.gosSearchItem.name,\" #\",this.state.gosSearchItem.id),e.default.createElement(\"div\",{className:\"info-user-wrap-2\"},e.default.createElement(\"div\",{className:\"info-user-wanted-info-2\"},e.default.createElement(\"div\",null,e.default.createElement(\"span\",{className:\"title-2\"},\"Уровень розыска\"),e.default.createElement(\"button\",{className:\"clear-2\",onClick:function(e){e.preventDefault(),s.fractionCfg.getFraction(t.props.fractionData.id).police&&(t.state.gosSearchItem.wanted_level=null,t.state.gosSearchItem.wanted_reason=\"\",t.state.gosSearchItem.wanted_level_new=null,t.state.gosSearchItem.wanted_reason_new=\"\",t.setState({gosSearchItem:t.state.gosSearchItem}),a.CustomEvent.triggerServer(\"tablet:clearWanted\",t.state.gosSearchItem.id))}},\"Очистить\")),e.default.createElement(\"div\",{className:\"stars-2\"},f(Array(c.MAX_WANTED_LEVEL)).map(function(a,r){var n=r+1,l=t.state.gosSearchItem.wanted_level;return\"number\"==typeof t.state.gosSearchItem.wanted_level_new&&(l=t.state.gosSearchItem.wanted_level_new),e.default.createElement(\"img\",{src:i.default[l>=n?\"star_on\":\"star_off\"],onClick:function(e){e.preventDefault(),s.fractionCfg.getFraction(t.props.fractionData.id).police&&(t.state.gosSearchItem.wanted_level_new=n,t.state.gosSearchItem.wanted_level_new===t.state.gosSearchItem.wanted_level&&(t.state.gosSearchItem.wanted_level_new=null),t.setState({gosSearchItem:t.state.gosSearchItem}))}})}))),\"number\"==typeof this.state.gosSearchItem.wanted_level_new?e.default.createElement(\"div\",{className:\"info-user-wanted-info input-2\"},e.default.createElement(\"div\",null,e.default.createElement(\"input\",{maxLength:100,placeholder:\"Причина розыска\",value:this.state.gosSearchItem.wanted_reason_new||\"\",onChange:function(e){e.preventDefault(),s.fractionCfg.getFraction(t.props.fractionData.id).police&&(t.state.gosSearchItem.wanted_reason_new=e.currentTarget.value,t.setState({gosSearchItem:t.state.gosSearchItem}))}}),e.default.createElement(\"button\",{onClick:function(e){e.preventDefault(),s.fractionCfg.getFraction(t.props.fractionData.id).police&&(a.CustomEvent.triggerServer(\"tablet:setWanted\",t.state.gosSearchItem.id,t.state.gosSearchItem.wanted_level_new,t.state.gosSearchItem.wanted_reason_new),t.state.gosSearchItem.wanted_level=t.state.gosSearchItem.wanted_level_new,t.state.gosSearchItem.wanted_reason=t.state.gosSearchItem.wanted_reason_new,t.state.gosSearchItem.wanted_level_new=null,t.state.gosSearchItem.wanted_reason_new=\"\",t.setState({gosSearchItem:t.state.gosSearchItem}))}},e.default.createElement(\"img\",{src:i.default.ok_button})))):e.default.createElement(e.default.Fragment,null)),e.default.createElement(\"div\",{className:\"info-user-wrap-2\"},this.state.gosSearchItem.wanted_reason&&this.state.gosSearchItem.wanted_level?e.default.createElement(\"div\",{className:\"info-user-item-2\"},e.default.createElement(\"p\",{className:\"mini-title-2\"},\"Причина текущего розыска\"),e.default.createElement(\"p\",{className:\"name-2\"},this.state.gosSearchItem.wanted_reason)):e.default.createElement(e.default.Fragment,null),e.default.createElement(\"div\",{className:\"info-user-item-2\"},e.default.createElement(\"p\",{className:\"mini-title-2\"},\"Номер банковского счета\"),e.default.createElement(\"p\",{className:\"name-2\"},this.state.gosSearchItem.bank||\"Нет банковского счёта\")),e.default.createElement(\"div\",{className:\"info-user-item-2\"},e.default.createElement(\"p\",{className:\"mini-title-2\"},\"Номер регистрации\"),e.default.createElement(\"p\",{className:\"name-2\"},this.state.gosSearchItem.social||\"Нет регистрации\")),e.default.createElement(\"div\",{className:\"info-user-item-2\"},e.default.createElement(\"p\",{className:\"mini-title-2\"},\"Дом\"),e.default.createElement(\"p\",{className:\"nam-2e\"},this.state.gosSearchItem.house||\"Нет недвижимости\"))),e.default.createElement(\"div\",{className:\"info-transport-wrapper-2\"},e.default.createElement(\"div\",{className:\"info-transport-wrap-2\"},e.default.createElement(\"p\",{className:\"mini-title-2\"},\"Транспорт\"),this.state.gosSearchItem.vehs.map(function(t){return e.default.createElement(\"div\",{className:\"info-transport-item-2\"},e.default.createElement(\"div\",{className:\"text-wrap-2\"},e.default.createElement(\"p\",{className:\"title-big-2\"},t.name)),e.default.createElement(\"div\",{className:\"bage-gps-2\"},e.default.createElement(\"p\",null,t.number||\"Нет номера\")))}))),this.state.gosSearchItem.licenses?e.default.createElement(\"div\",{className:\"info-transport-wrapper-2\"},e.default.createElement(\"div\",{className:\"info-transport-wrap-2\"},e.default.createElement(\"p\",{className:\"mini-title-2\"},\"Лицензии\"),this.state.gosSearchItem.licenses.map(function(l,s){return e.default.createElement(\"div\",{className:\"info-transport-item-2\"},e.default.createElement(\"div\",{className:\"text-wrap-2\"},e.default.createElement(\"p\",null,n.LicenseName[l[0]],\" до \",o.system.timeStampString(l[1]))),e.default.createElement(\"div\",{className:\"bage-gps-2 bage-white-2\",onClick:function(e){if(e.preventDefault(),r.CEF.user.rank<n.REMOVE_LICENSE_RANK)return r.CEF.alert.setAlert(\"error\",\"У вас нет доступа чтобы изымать лицензию\");a.CustomEvent.triggerServer(\"faction:removeLicense\",t.state.gosSearchItem.id,l[0])}},e.default.createElement(\"p\",null,\"Изъять лицензию\")))}))):e.default.createElement(e.default.Fragment,null),this.state.gosSearchItem.history?e.default.createElement(\"div\",{className:\"info-transport-wrapper\"},e.default.createElement(\"div\",{className:\"info-transport-wrap-2\"},e.default.createElement(\"p\",{className:\"mini-title-2\"},\"История персонажа\"),this.state.gosSearchItem.history.map(function(t,a){return e.default.createElement(\"div\",{className:\"info-transport-item-2\"},e.default.createElement(\"div\",{className:\"text-wrap-2\"},e.default.createElement(\"p\",null,t.text)),e.default.createElement(\"div\",{className:\"bage-gps-2 \"},e.default.createElement(\"p\",null,o.system.timeStampString(t.time))))}))):e.default.createElement(e.default.Fragment,null)))):e.default.createElement(e.default.Fragment,null))}},{key:\"render\",value:function(){var r=this;return this.state.gosSearchItem?this.getGosSearch():e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"government__title\"},e.default.createElement(\"img\",{src:t.default.user,alt:\"\"}),\"База граждан\"),e.default.createElement(\"div\",{className:\"government-citizens\"},e.default.createElement(\"div\",{className:\"government-citizens-find\"},e.default.createElement(\"input\",{ref:this.nameRef,type:\"text\",placeholder:\"Введите имя или ID\",onKeyDown:function(e){13===e.keyCode&&r.search()}}),e.default.createElement(\"img\",{src:t.default.search,alt:\"\",onClick:function(){return r.search()}})),e.default.createElement(\"div\",{className:\"government-citizens-find\"},e.default.createElement(\"input\",{ref:this.documentRef,type:\"text\",placeholder:\"Введите номер документа\",onKeyDown:function(e){13===e.keyCode&&r.search()}}),e.default.createElement(\"img\",{src:t.default.search,alt:\"\",onClick:function(){return r.search()}})),e.default.createElement(\"div\",{className:\"government-citizens-find\"},e.default.createElement(\"input\",{ref:this.bankRef,type:\"text\",placeholder:\"Введите номер банковского счёта\",onKeyDown:function(e){13===e.keyCode&&r.search()}}),e.default.createElement(\"img\",{src:t.default.search,alt:\"\",onClick:function(){return r.search()}})),0!==this.state.searchData.length&&e.default.createElement(\"div\",{className:\"government-citizens-columns\"},e.default.createElement(\"div\",null,\"ID\"),e.default.createElement(\"div\",null,\"Имя\")),e.default.createElement(\"div\",{className:\"government-citizens-list\"},this.state.searchData.map(function(t,n){return e.default.createElement(\"div\",{className:\"government-citizens-list-block\",key:n,onClick:function(){a.CustomEvent.callServer(\"faction:database:data\",t.id).then(function(e){e&&r.setState({gosSearchItem:e})})}},e.default.createElement(\"div\",{className:\"government-citizens-list-block__id\"},\"#\",t.id),e.default.createElement(\"div\",{className:\"government-citizens-list-block__name\"},t.name))}))))}}]),d}();"},"sourceMaps":null,"error":null,"hash":"478a019c8d3b7d0604d0cd0092d9ee01","cacheData":{"env":{}}}