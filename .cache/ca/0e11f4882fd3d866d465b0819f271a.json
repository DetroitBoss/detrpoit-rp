{"id":"nL01","dependencies":[{"name":"D:\\DETROIT\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":18,"index":18},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react\\index.js"},{"name":"./assets/pers.less","loc":{"line":2,"column":7,"index":35},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\assets\\pers.less"},{"name":"./assets/pers_pay.svg","loc":{"line":3,"column":19,"index":77},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\assets\\pers_pay.svg"},{"name":"./assets/pers_new.svg","loc":{"line":4,"column":19,"index":122},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\assets\\pers_new.svg"},{"name":"./assets/pers_info.webp","loc":{"line":5,"column":21,"index":169},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\assets\\pers_info.webp"},{"name":"./assets/line_bg1.png","loc":{"line":6,"column":21,"index":218},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\assets\\line_bg1.png"},{"name":"./assets/line_bg2.png","loc":{"line":7,"column":21,"index":265},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\assets\\line_bg2.png"},{"name":"./assets/line_bg3.png","loc":{"line":8,"column":21,"index":312},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\assets\\line_bg3.png"},{"name":"./assets/line_1.png","loc":{"line":9,"column":19,"index":357},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\assets\\line_1.png"},{"name":"./assets/line_2.png","loc":{"line":10,"column":19,"index":400},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\assets\\line_2.png"},{"name":"./assets/line_3.webp","loc":{"line":11,"column":19,"index":443},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\assets\\line_3.webp"},{"name":"../../modules/custom.event","loc":{"line":12,"column":28,"index":496},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\custom.event.ts"},{"name":"../../modules/CEF","loc":{"line":13,"column":20,"index":547},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\CEF.ts"},{"name":"../../../shared/system","loc":{"line":14,"column":27,"index":596},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\system.ts"},{"name":"../../../shared/economy","loc":{"line":15,"column":43,"index":666},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\economy.ts"},{"name":"./../IdCard/assets/exit.svg","loc":{"line":16,"column":20,"index":714},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\IdCard\\assets\\exit.svg"},{"name":"./../ClothShop/assets/check.svg","loc":{"line":17,"column":18,"index":764},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\ClothShop\\assets\\check.svg"},{"name":"../../modules/fractions","loc":{"line":18,"column":28,"index":828},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\NewAuth\\NewPersonage.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\fractions.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=g(require(\"react\"));require(\"./assets/pers.less\");var t=g(require(\"./assets/pers_pay.svg\")),n=g(require(\"./assets/pers_new.svg\")),a=g(require(\"./assets/pers_info.webp\")),r=g(require(\"./assets/line_bg1.png\")),l=g(require(\"./assets/line_bg2.png\")),c=g(require(\"./assets/line_bg3.png\")),s=g(require(\"./assets/line_1.png\")),u=g(require(\"./assets/line_2.png\")),i=g(require(\"./assets/line_3.webp\")),o=require(\"../../modules/custom.event\"),d=require(\"../../modules/CEF\"),f=require(\"../../../shared/system\"),m=require(\"../../../shared/economy\"),p=g(require(\"./../IdCard/assets/exit.svg\")),_=g(require(\"./../ClothShop/assets/check.svg\")),E=require(\"../../modules/fractions\");function g(e){return e&&e.__esModule?e:{default:e}}function b(e){return(b=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,S(a.key),a)}}function N(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function S(e){var t=P(e,\"string\");return\"symbol\"==b(t)?t:t+\"\"}function P(e,t){if(\"object\"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||\"default\");if(\"object\"!=b(a))return a;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}function k(e,t,n){return t=x(t),j(e,T()?Reflect.construct(t,n||[],x(e).constructor):t.apply(e,n))}function j(e,t){if(t&&(\"object\"==b(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return C(e)}function C(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(T=function(){return!!e})()}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&D(e,t)}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var L=[{name:\"Скользкая дорожка\",text:\"Честная жизнь по законам других людей подходит не всем.                                     Зачем жить так, если можно создать свои законы?                                     Если тебе близки эти слова, то данный путь для тебя.                                     Играй за выходца из бедных районов, для которого закон - это улицы.                                     Заведи знакомства с криминальными шишками, начинай с самых низов и заберись на вершину преступного мира,                                      управляя своей бандой, и держа территории под своим контролем\",bg:r.default,img:s.default},{name:\"Американская мечта\",text:\"Уважаешь честный труд и всего хочешь достигнуть сам?                                     Тогда американская мечта для тебя.                                     Добейся своими усилиями хорошей работы и управляй своей жизнью сам.                                     Труд сделал из обезьяны человека, не забывай про это.                                     Поэтому если ты готов преодолевать жизненные сложности и идти к своей мечте,                                      соблюдая закон, тогда ты сможешь забраться на самую вершину в правительстве или других государственных структурах\",bg:l.default,img:u.default},{name:\"Красиво жить не запретишь\",text:\"В жизни так бывает, что хочется чего-то попробовать.                                             А так как она у нас одна - то оттягивать не стоит.                                             Именно поэтому клубы, развлечения и быстрая скорость созданы для тебя.                                             Но у всего есть своя цена и в ходе очередного трипа ты потерял всё.                                             Если ты считаешь, что успех у тебя был не случаен и ты хочешь вернуть себе прошлую жизнь с дорогими авто, самыми лучшими бизнесами,                                             брендированной одеждой и всем прилагающимся, то пройти путь с самых низов на вершину Олимпа.\",bg:c.default,img:i.default}],A=-1,R=0,F=1,G=2,M=3,$=exports.default=function(t){function n(e){var t;return h(this,n),(t=k(this,n,[e])).selectPers=function(e){t.state.selected||t.setState({selected:t.state.selected+1},function(){t.state.selected&&setTimeout(function(){t.setState({selected:t.state.selected-1})},2e3),o.CustomEvent.callServer(\"cef:user:select\",e).then(function(n){n?t.setState(v(v({},t.state),{},{error:{id:e,text:n},selected:t.state.selected-1})):(t.setState(v(v({},t.state),{},{page_loading:0,selected:t.state.selected-1})),setTimeout(function(){return t.setState(v(v({},t.state),{},{show:!1}))},1e3))})})},t.createPers=function(){t.setState(v(v({},t.state),{},{page_loading:-1})),setTimeout(function(){t.setState(v(v({},t.state),{},{page:G,page_loading:G}))},1e3)},t.editPers=function(e){},t.delPers=function(e){},t.buyPers=function(){},t.acceptLine=function(e){t.setState(v(v({},t.state),{},{accept_line:e}))},t.selectLine=function(e){o.CustomEvent.callServer(\"cef:user:create\",!1,e).then(function(e){e&&(t.setState(v(v({},t.state),{},{page_loading:0})),setTimeout(function(){t.setState(v(v({},t.state),{},{show:!1}))},1e3))})},t.prev_selectLine=function(){t.setState(v(v({},t.state),{},{page_loading:-1})),setTimeout(function(){d.CEF.playSound(\"questonyx\"),t.setState(v(v({},t.state),{},{page:M,page_loading:M}))},1e3)},t.componentDidMount=function(){t.setState(v(v({},t.state),{},{page_loading:F}))},t.state={page:F,show:!0,page_loading:0,accept_line:-1,data:t.props.data?t.props.data:[],error:{id:0,text:\"Ошибка при авторизации\"},selected:0},t}return q(n,e.default.Component),N(n,[{key:\"render\",value:function(){return!1===this.state.show?null:e.default.createElement(\"div\",{className:\"newpers_main \".concat(this.state.page_loading<0?\"newpers_black\":\"\")},B(this.state,this.state.data,this.acceptLine,this.selectPers,this.buyPers,this.editPers,this.delPers,this.createPers,this.prev_selectLine,this.selectLine,this.props.donate))}}])}(),B=function(t,n,r,l,c,s,u,i,o,d,f){switch(0==n.length?n.push({id:R},{id:R},{id:A}):1==n.length?n.push({id:R},{id:A}):2==n.length&&n.push({id:A}),t.page){case F:return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"newpers_blur_test\"}),e.default.createElement(\"div\",{className:\"newpers_grid\"}),e.default.createElement(\"div\",{className:\"newpers_block \".concat(t.page_loading>0?\"show\":\"\")},e.default.createElement(\"div\",{className:\"newpers_sinfo\"},e.default.createElement(\"h3\",null,\"Выберите\"),e.default.createElement(\"h3\",null,\"Персонажа\")),n.map(function(n,a){return e.default.createElement(\"div\",{key:a,className:0!=n.id?\"newpers_box\":\"newpers_box newpers_new\"},I(n,l,c,s,u,i,f,t.error))})));case G:return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"newpers_blur_test\"}),e.default.createElement(\"div\",{className:\"newpers_grid\"}),e.default.createElement(\"div\",{className:\"newpers_create_info newpers_block \".concat(t.page_loading>0?\"show\":\"\")},e.default.createElement(\"img\",{src:a.default}),e.default.createElement(\"div\",{className:\"newpers_info\"},e.default.createElement(\"h1\",null,\"Самое\"),e.default.createElement(\"br\",null),e.default.createElement(\"h1\",null,\"ответственное...\"),e.default.createElement(\"h2\",null,\"Выбор сюжетной линии\"),e.default.createElement(\"p\",null,\"Сейчас вам потребуется выбрать одну из трех сюжетных линий.\"),e.default.createElement(\"p\",null,\"Вы определяетесь со своей ролью, ваш сюжет будет пересекаться с вашими характерными чертами личности.\"),e.default.createElement(\"div\",null,e.default.createElement(\"p\",null,\"Удачи в игре!\"),e.default.createElement(\"div\",{onClick:o},\"Спасибо, понятно\")))));case M:return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"newpers_black \".concat(t.page_loading>0?\"show\":\"\")}),e.default.createElement(\"div\",{className:\"newpers_grid\",style:{opacity:\"0.2\"}}),e.default.createElement(\"div\",{className:\"newpers_line \".concat(t.page_loading>0?\"show\":\"\")},L.map(function(t,n){return e.default.createElement(\"div\",{key:n,className:\"line_box\",style:{backgroundImage:\"url(\".concat(t.bg,\")\")}},e.default.createElement(\"div\",{className:\"line_img\"},e.default.createElement(\"img\",{src:t.img})),e.default.createElement(\"h1\",null,t.name),e.default.createElement(\"p\",null,t.text),2===n?e.default.createElement(\"div\",{className:\"newpers_free\"},e.default.createElement(\"p\",null,\"Внимание! Только для опытных пользователей\"),e.default.createElement(\"p\",{style:{fontWeight:\"normal\"}},\"В данном выборе у вас не будет сюжетных заданий\")):null,e.default.createElement(\"div\",{className:\"line_key\",onClick:function(){return r(n)}},\"Выбрать\"))})),t.accept_line>=0?e.default.createElement(\"div\",{className:\"newpers_modal_select\"},e.default.createElement(\"div\",{className:\"newpers_modal_box\"},e.default.createElement(\"h1\",null,\"Вы выбрали сюжетную линию\"),e.default.createElement(\"h1\",null,'\"',L[t.accept_line].name,'\"'),e.default.createElement(\"p\",null,\"Вы уверены?\"),e.default.createElement(\"div\",{className:\"newpers_modal_keys\"},e.default.createElement(\"div\",{className:\"newpers_modal_key\",onClick:function(){return d(t.accept_line)}},e.default.createElement(\"img\",{src:_.default,alt:\"\"}),\"Выбрать\"),e.default.createElement(\"div\",{className:\"newpers_modal_key np_k_cncl\",onClick:function(){return r(-1)}},e.default.createElement(\"img\",{src:p.default,alt:\"\"}),\"Отмена\")))):null);default:return null}},I=function(a,r,l,c,s,u,i,o){switch(a.id){case A:return e.default.createElement(\"div\",{className:\"newpers_paybox\"},e.default.createElement(\"img\",{src:t.default}),e.default.createElement(\"h1\",null,\"Разблокируйте\"),e.default.createElement(\"p\",null,\"чтобы создать третьего персонажа\"),e.default.createElement(\"div\",{className:\"newpers_paykey\",onClick:function(e){e.preventDefault(),i<m.DONATE_SLOT_PERSONAGE_COST||u()}},e.default.createElement(\"p\",{style:{opacity:i>=m.DONATE_SLOT_PERSONAGE_COST?1:.5}},i>=m.DONATE_SLOT_PERSONAGE_COST?\"разблокировать\":\"недостаточно коинов\")),e.default.createElement(\"h2\",null,f.systemUtil.numberFormat(m.DONATE_SLOT_PERSONAGE_COST),\" РУБ.\"));case R:return e.default.createElement(\"div\",{className:\"newpers_newbox\",onClick:function(){return u()}},e.default.createElement(\"img\",{src:n.default}),e.default.createElement(\"p\",null,\"Создать\"),e.default.createElement(\"p\",null,\"нового персонажа\"));default:return e.default.createElement(\"div\",{className:\"newpers_usebox\"},e.default.createElement(\"div\",{className:\"newpers_name\"},e.default.createElement(\"h1\",null,a.name.replace(\" \",\"\\n\")),e.default.createElement(\"div\",null,e.default.createElement(\"h1\",null,a.level),e.default.createElement(\"p\",null,\"уровень\"))),e.default.createElement(\"div\",{className:\"newpers_org\"},e.default.createElement(\"h1\",null,a.fraction&&a.rank?\"\".concat(E.fractionCfg.getFractionName(a.fraction),\" \").concat(E.fractionCfg.getRankName(a.fraction,a.rank)):\"\")),e.default.createElement(\"div\",{className:\"newpers_money\"},\"$\",a.money.toString().replace(/(\\d)(?=(\\d{3})+(\\D|$))/g,\"$1 \")),e.default.createElement(\"div\",{className:\"newpers_keys\"},e.default.createElement(\"div\",{className:\"newpers_select\",onClick:function(){return r(a.id)}},\"Выбрать\")),o.id===a.id?e.default.createElement(\"div\",{className:\"newpers_err\"},e.default.createElement(\"p\",null,o.text)):null)}};"},"sourceMaps":null,"error":null,"hash":"dfa4abb7f38e1048b7221e504e2e2a67","cacheData":{"env":{}}}