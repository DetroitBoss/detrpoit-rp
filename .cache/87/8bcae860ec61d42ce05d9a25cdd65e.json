{"id":"hjpc","dependencies":[{"name":"D:\\DETROIT\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":18,"index":18},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react\\index.js"},{"name":"./assets/style.less","loc":{"line":2,"column":7,"index":35},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\assets\\style.less"},{"name":"./../Personage/assets/pers.less","loc":{"line":3,"column":7,"index":66},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Personage\\assets\\pers.less"},{"name":"../../modules/CEF","loc":{"line":4,"column":20,"index":122},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\CEF.ts"},{"name":"../../modules/custom.event","loc":{"line":5,"column":28,"index":172},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\custom.event.ts"},{"name":"./../IdCard/assets/exit.svg","loc":{"line":6,"column":20,"index":223},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\IdCard\\assets\\exit.svg"},{"name":"./../ClothShop/assets/check.svg","loc":{"line":7,"column":18,"index":273},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\ClothShop\\assets\\check.svg"},{"name":"./../Personage/assets/*.svg","loc":{"line":8,"column":16,"index":325},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Personage\\assets\\*.svg"},{"name":"./../Personage/config","loc":{"line":9,"column":42,"index":399},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Personage\\config.ts"},{"name":"../Personage/Slider","loc":{"line":10,"column":35,"index":460},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Personage\\Slider.tsx"},{"name":"./../Personage/assets/hairs/female/*.jpg","loc":{"line":11,"column":19,"index":503},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Personage\\assets\\hairs\\female\\*.jpg"},{"name":"./../Personage/assets/hairs/male/*.jpg","loc":{"line":12,"column":19,"index":567},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Personage\\assets\\hairs\\male\\*.jpg"},{"name":"../../../shared/barbershop","loc":{"line":13,"column":46,"index":656},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\barbershop.ts"},{"name":"./assets/nails/*.png","loc":{"line":14,"column":26,"index":713},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\BarberShop.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\BarberShop\\assets\\nails\\*.png"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.defaultParam=exports.BarberShop=void 0;var e=m(require(\"react\"));require(\"./assets/style.less\"),require(\"./../Personage/assets/pers.less\");var t=require(\"../../modules/CEF\"),r=require(\"../../modules/custom.event\"),a=m(require(\"./../IdCard/assets/exit.svg\")),n=m(require(\"./../ClothShop/assets/check.svg\")),o=m(require(\"./../Personage/assets/*.svg\")),s=d(require(\"./../Personage/config\")),l=require(\"../Personage/Slider\"),u=m(require(\"./../Personage/assets/hairs/female/*.jpg\")),c=m(require(\"./../Personage/assets/hairs/male/*.jpg\")),i=require(\"../../../shared/barbershop\"),p=m(require(\"./assets/nails/*.png\"));function f(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}function m(e){return e&&e.__esModule?e:{default:e}}function b(e){return(b=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function O(e,t){return P(e)||_(e,t)||A(e,t)||y()}function y(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function _(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var a,n,o,s,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw n}}return l}}function P(e){if(Array.isArray(e))return e}function h(e){return S(e)||g(e)||A(e)||C()}function C(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function A(e,t){if(e){if(\"string\"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function g(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function S(e){if(Array.isArray(e))return v(e)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){I(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function I(e,t,r){return(t=B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function w(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,B(a.key),a)}}function k(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function B(e){var t=D(e,\"string\");return\"symbol\"===b(t)?t:String(t)}function D(e,t){if(\"object\"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||\"default\");if(\"object\"!==b(a))return a;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}function j(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&N(e,t)}function N(e,t){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=T();return function(){var r,a=U(e);if(t){var n=U(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return H(this,r)}}function H(e,t){if(t&&(\"object\"===b(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return M(e)}function M(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function T(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y,W,q=[c.default,u.default];!function(e){e[e.BROW=0]=\"BROW\",e[e.BROWOPACITY=1]=\"BROWOPACITY\",e[e.COLOR_BROWS=2]=\"COLOR_BROWS\",e[e.BEARD=3]=\"BEARD\",e[e.BEARDOPACITY=4]=\"BEARDOPACITY\",e[e.COLOR_BEARD=5]=\"COLOR_BEARD\",e[e.HAIR=6]=\"HAIR\",e[e.COLOR_HAIR1=7]=\"COLOR_HAIR1\",e[e.COLOR_HAIR2=8]=\"COLOR_HAIR2\",e[e.EYE_COLOR=9]=\"EYE_COLOR\",e[e.LIPS=10]=\"LIPS\",e[e.LIPS_OPACITY=11]=\"LIPS_OPACITY\",e[e.LIPS_COLOR=12]=\"LIPS_COLOR\",e[e.MAKEUP=13]=\"MAKEUP\",e[e.MAKEUP_OPACITY=14]=\"MAKEUP_OPACITY\",e[e.MAKEUP_COLOR=15]=\"MAKEUP_COLOR\",e[e.BLUSH=16]=\"BLUSH\",e[e.BLUSH_OPACITY=17]=\"BLUSH_OPACITY\",e[e.BLUSH_COLOR=18]=\"BLUSH_COLOR\",e[e.NAILS=19]=\"NAILS\"}(Y||(Y={})),function(e){e[e.HAIR=0]=\"HAIR\",e[e.BROWS=1]=\"BROWS\",e[e.BEARD=2]=\"BEARD\",e[e.LIPS=3]=\"LIPS\",e[e.NAILS=4]=\"NAILS\"}(W||(W={}));var K=exports.defaultParam={lips:0,lipsOpacity:0,lipsColor:0,makeup:0,makeupOpacity:0,makeupColor:0,subpage:0,hair:0,hairColor:0,hairColor2:0,eyebrows:0,eyecolor:0,eyebrowsColor:0,eyebrowOpacity:.5,beard:0,beardColor:0,beardOpacity:.5,blush:0,blushOpacity:0,blushColor:0,nails:-1},F=exports.BarberShop=function(u){j(f,e.default.Component);var c=x(f);function f(a){var n;return L(this,f),(n=c.call(this,a)).clickBuy=function(){var e=n.changedData;r.CustomEvent.triggerServer(\"barbershop:buy\",e,n.state.id)},n.componentWillUnmount=function(){n.ev&&n.ev.destroy()},n.componentDidMount=function(){},n.closeMenu=function(){n.setState(R(R({},n.state),{},{show:!1}))},n.setAppearance=function(e,t){mp.trigger(\"client:user:personage:eventManager\",e,t)},n.getName=function(e){switch(e){case W.HAIR:return\"Новая прическа\";case W.BROWS:return\"Новые брови\";case W.BEARD:return\"Новая борода\"}},n.setParam=function(e,t){switch(e){case Y.EYE_COLOR:return n.setOldParam(e,n.state.old_params.eyecolor),n.setState(function(e){return R(R({},e),{},{eyecolor:t})}),n.setAppearance(\"eyeColor\",t);case Y.HAIR:return n.setOldParam(e,n.state.old_params.hair),n.setState(function(e){return R(R({},e),{},{hair:t})}),n.setAppearance(\"hair\",t),n.setAppearance(\"hairColor\",n.state.hairColor),void n.setAppearance(\"hairColor2\",n.state.hairColor2);case Y.COLOR_HAIR1:return n.setOldParam(e,n.state.old_params.hairColor),n.setState(function(e){return R(R({},e),{},{hairColor:t})}),n.setAppearance(\"hairColor\",t);case Y.COLOR_HAIR2:return n.setOldParam(e,n.state.old_params.hairColor2),n.setState(function(e){return R(R({},e),{},{hairColor2:t})}),n.setAppearance(\"hairColor2\",t);case Y.BROWOPACITY:return n.setOldParam(e,n.state.old_params.eyebrowOpacity),n.setState(function(e){return R(R({},e),{},{eyebrowOpacity:t})}),n.setAppearance(\"eyebrowsOpacity\",t);case Y.BROW:return n.setOldParam(e,n.state.old_params.eyebrows),n.setState(function(e){return R(R({},e),{},{eyebrows:t})}),n.setAppearance(\"eyebrows\",t);case Y.COLOR_BROWS:return n.setOldParam(e,n.state.old_params.eyebrowsColor),n.setState(function(e){return R(R({},e),{},{eyebrowsColor:t})}),n.setAppearance(\"eyebrowsColor\",t);case Y.BEARD:return n.setOldParam(e,n.state.old_params.beard),n.setState(function(e){return R(R({},e),{},{beard:t})}),n.setAppearance(\"beard\",t);case Y.BEARDOPACITY:return n.setOldParam(e,n.state.old_params.beardOpacity),n.setState(function(e){return R(R({},e),{},{beardOpacity:t})}),n.setAppearance(\"beardOpacity\",t);case Y.COLOR_BEARD:return n.setOldParam(e,n.state.old_params.beardColor),n.setState(function(e){return R(R({},e),{},{beardColor:t})}),n.setAppearance(\"beardColor\",t);case Y.LIPS:return n.setOldParam(e,n.state.old_params.lips),n.setState(function(e){return R(R({},e),{},{lips:t})}),n.setAppearance(\"lips\",t);case Y.LIPS_OPACITY:return n.setOldParam(e,n.state.old_params.lipsOpacity),n.setState(function(e){return R(R({},e),{},{lipsOpacity:t})}),n.setAppearance(\"lipsOpacity\",t);case Y.LIPS_COLOR:return n.setOldParam(e,n.state.old_params.lipsColor),n.setState(function(e){return R(R({},e),{},{lipsColor:t})}),n.setAppearance(\"lipsColor\",t);case Y.MAKEUP:return n.setOldParam(e,n.state.old_params.makeup),n.setState(function(e){return R(R({},e),{},{makeup:t})}),n.setAppearance(\"makeup\",t);case Y.MAKEUP_OPACITY:return n.setOldParam(e,n.state.old_params.makeupOpacity),n.setState(function(e){return R(R({},e),{},{makeupOpacity:t})}),n.setAppearance(\"makeupOpacity\",t);case Y.MAKEUP_COLOR:return n.setOldParam(e,n.state.old_params.makeupColor),n.setState(function(e){return R(R({},e),{},{makeupColor:t})}),n.setAppearance(\"makeupColor\",t);case Y.BLUSH:return n.setOldParam(e,n.state.old_params.blush),n.setState(function(e){return R(R({},e),{},{blush:t})}),n.setAppearance(\"blush\",t);case Y.BLUSH_OPACITY:return n.setOldParam(e,n.state.old_params.blushOpacity),n.setState(function(e){return R(R({},e),{},{blushOpacity:t})}),n.setAppearance(\"blushOpacity\",t);case Y.BLUSH_COLOR:return n.setOldParam(e,n.state.old_params.blushColor),n.setState(function(e){return R(R({},e),{},{blushColor:t})}),n.setAppearance(\"blushColor\",t);case Y.NAILS:return n.setOldParam(e,n.state.old_params.nails),n.setState(function(e){return R(R({},e),{},{nails:t})}),n.setAppearance(\"nails\",t)}},n.setSubPage=function(e){n.setState(R(R({},n.state),{},{subpage:e})),mp.trigger(\"barbershop::subPageChanged\",e)},n.PageDataHair=function(){return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"pers_box_face\"},e.default.createElement(\"div\",{className:\"pers_face_type\"},n.hairPage.map(function(t,r){return e.default.createElement(\"div\",{onClick:function(){return n.setSubPage(r)},key:r,className:\"pers_face_div \".concat(n.state.subpage===r?\"pers_face_select\":\"\")},e.default.createElement(\"img\",{src:t}))})),n.PageDataSubHair()),n.state.subpage===W.HAIR?n.PageDataColor([Y.COLOR_HAIR1,Y.COLOR_HAIR2],[n.state.hairColor,n.state.hairColor2]):null)},n.PageDataSubHair=function(){switch(n.state.subpage){case W.HAIR:return e.default.createElement(\"div\",{className:\"pers_hair_subtype\"},s.default.hair[n.state.sex].map(function(t,r){return e.default.createElement(\"img\",{onClick:function(){return n.setParam(Y.HAIR,t)},key:r,className:\"\".concat(n.state.hair===t?\"pers_parent_select\":\"\"),src:\"\".concat(q[n.state.sex][\"\".concat(0===n.state.sex?\"m\":\"f\").concat(s.default.hair[n.state.sex][r])])})}));case W.BROWS:return e.default.createElement(\"div\",{className:\"pers_face_subtype\"},n.AddButton(\"Вид бровей\",n.state.eyebrows,1,0,s.default.eyebrows,function(e){return n.setParam(Y.BROW,e)}),n.AddButton(\"Глаза\",n.state.eyecolor,1,0,s.default.eyeColor,function(e){return n.setParam(Y.EYE_COLOR,e)}),e.default.createElement(\"div\",null,(0,l.AddSlider)(l.sliders.SLIDER_PARAM,n.state.eyebrowOpacity,.01,s.Ranges.opacity[0],s.Ranges.opacity[1],function(e){return n.setParam(Y.BROWOPACITY,e)}),e.default.createElement(\"p\",{className:\"pers_p_with_border\"},\"Интенсивность бровей\")),n.PageDataColor([Y.COLOR_BROWS],[n.state.eyebrowsColor]));case W.BEARD:return e.default.createElement(\"div\",{className:\"pers_face_subtype\"},n.female?e.default.createElement(e.default.Fragment,null,n.AddButton(\"Макияж\",n.state.makeup,1,0,s.default.makeup,function(e){return n.setParam(Y.MAKEUP,e)}),e.default.createElement(\"div\",null,(0,l.AddSlider)(l.sliders.SLIDER_PARAM,n.state.makeupOpacity,.01,s.Ranges.opacity[0],s.Ranges.opacity[1],function(e){return n.setParam(Y.MAKEUP_OPACITY,e)}),e.default.createElement(\"p\",{className:\"pers_p_with_border\"},\"Интенсивность макияжа\")),n.PageDataColor([Y.MAKEUP_COLOR],[n.state.makeupColor])):e.default.createElement(e.default.Fragment,null,n.AddButton(\"Вид бороды\",n.state.beard,1,0,s.default.beard,function(e){return n.setParam(Y.BEARD,e)}),e.default.createElement(\"div\",null,(0,l.AddSlider)(l.sliders.SLIDER_PARAM,n.state.beardOpacity,.01,s.Ranges.opacity[0],s.Ranges.opacity[1],function(e){return n.setParam(Y.BEARDOPACITY,e)}),e.default.createElement(\"p\",{className:\"pers_p_with_border\"},\"Интенсивность бороды\")),n.PageDataColor([Y.COLOR_BEARD],[n.state.beardColor])));case W.LIPS:return e.default.createElement(\"div\",{className:\"pers_face_subtype\"},n.AddButton(\"Губы\",n.state.lips,1,0,s.default.lips,function(e){return n.setParam(Y.LIPS,e)}),e.default.createElement(\"div\",null,(0,l.AddSlider)(l.sliders.SLIDER_PARAM,n.state.lipsOpacity,.01,s.Ranges.opacity[0],s.Ranges.opacity[1],function(e){return n.setParam(Y.LIPS_OPACITY,e)}),e.default.createElement(\"p\",{className:\"pers_p_with_border\"},\"Интенсивность губ\")),n.PageDataColor([Y.LIPS_COLOR],[n.state.lipsColor]));case W.NAILS:return e.default.createElement(\"div\",{className:\"pers_hair_subtype\"},i.nailsConfig.map(function(t,r){return e.default.createElement(\"img\",{onClick:function(){return n.setParam(Y.NAILS,t.Id)},key:r,className:\"\".concat(n.state.nails===t.Id?\"pers_parent_select\":\"\"),src:\"\".concat(p.default[t.Id])})}))}},n.AddButton=function(t,r,a,n,s,l){return e.default.createElement(\"div\",{className:\"pers_button_box\"},e.default.createElement(\"p\",null,t),e.default.createElement(\"div\",{onClick:function(){r>n&&l(r-=a)},className:\"pers_button_key \".concat(r===n?\"\":\"pbk_active\")},e.default.createElement(\"img\",{src:o.default.btnkey})),e.default.createElement(\"div\",{onClick:function(){r<s&&l(r+=a)},className:\"pers_button_key \".concat(r===s?\"\":\"pbk_active\")},e.default.createElement(\"img\",{src:o.default.btnkey,style:{transform:\"rotate(180deg)\"}})))},n.PageDataColor=function(t,r){return e.default.createElement(\"div\",{className:\"pers_box_color \".concat(r.length>1?\"pers_box_color_ex\":\"\")},e.default.createElement(\"div\",{className:\"pers_box_color_box \".concat(r.length>1?\"pers_box_color_ex\":\"\")},e.default.createElement(\"p\",null,\"Основной цвет\"),s.colors.map(function(a,o){return e.default.createElement(\"div\",{onClick:function(){return n.setParam(t[0],o)},key:o,className:\"pers_box_color_item \".concat(r[0]===o?\"color_item_select\":\"\"),style:{backgroundColor:a}})})),r.length>1?e.default.createElement(\"div\",{className:\"pers_box_color_box \".concat(r.length>1?\"pers_box_color_ex\":\"\")},e.default.createElement(\"p\",null,\"Дополнительный цвет\"),s.colors.map(function(a,o){return e.default.createElement(\"div\",{onClick:function(){return n.setParam(t[1],o)},key:o,className:\"pers_box_color_item \".concat(r[1]===o?\"color_item_select\":\"\"),style:{backgroundColor:a}})})):null)},n.state=R(R({data:[],id:0,show:!0,sex:0},K),{},{old_params:{},old_data:[]}),n.ev=r.CustomEvent.register(\"barbershop:load\",function(e,t,r){n.setState(R(R(R({},n.state),e),{},{old_params:e,id:r,data:t}))}),t.CEF.test&&setTimeout(function(){n.setState({old_params:{hair:0,hairColor:0,hairColor2:0,eyebrows:0,eyecolor:0,eyebrowsColor:0,eyebrowOpacity:.5,beard:0,beardColor:0,beardOpacity:.5}})},500),n}return k(f,[{key:\"male\",get:function(){return 0===this.state.sex}},{key:\"female\",get:function(){return!this.male}},{key:\"getOldParamValue\",value:function(e){return this.state.old_params[e]}},{key:\"changedData\",get:function(){var e={};for(var t in K){var r=t;this.state[r]!=this.getOldParamValue(r)&&(e[r]=this.state[r])}return e}},{key:\"finalySum\",get:function(){var e=this.changedData,t=0;for(var r in e)\"subpage\"!=r&&(t+=(0,i.getComponentCost)(r,this.state.data));return t}},{key:\"setOldParam\",value:function(e,t){this.state.old_data.find(function(t){return t[0]===e})||this.setState({old_data:[].concat(h(this.state.old_data),[[e,t]])})}},{key:\"render\",value:function(){var t=this,r=!!this.finalySum;return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"barbershop_main\"},e.default.createElement(\"div\",{className:\"barbershop_box\"},e.default.createElement(\"div\",{className:\"pers_box_left\"},this.PageDataHair()),e.default.createElement(\"div\",{className:\"barbershop_info\"},e.default.createElement(\"div\",null,e.default.createElement(\"h1\",null,\"$\",this.finalySum),e.default.createElement(\"h2\",null,\"Финальная сумма\")),r?e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"barbershop_key reset\",onClick:function(e){e.preventDefault(),h(t.state.old_data).map(function(e){var r=O(e,2),a=r[0],n=r[1];t.setParam(a,n)}),t.setState({old_data:[]})}},e.default.createElement(\"img\",{src:a.default}),\"Сброс\"),e.default.createElement(\"div\",{className:\"barbershop_key\",onClick:this.clickBuy},e.default.createElement(\"img\",{src:n.default}),\"Купить\")):e.default.createElement(e.default.Fragment,null)))))}},{key:\"hairPage\",get:function(){var e=[o.default.hair,o.default.brow,o.default[this.male?\"beard\":\"make-up\"],o.default.lips];return this.female&&e.push(o.default.nails),e}}]),f}();"},"sourceMaps":null,"error":null,"hash":"6011a6ec1bedad631cf90934ef540d35","cacheData":{"env":{}}}