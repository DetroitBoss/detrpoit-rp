{"id":"jI3E","dependencies":[{"name":"D:\\DETROIT\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":33,"index":33},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react\\index.js"},{"name":"./../Provoda/assets/style.less","loc":{"line":2,"column":7,"index":50},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Provoda\\assets\\style.less"},{"name":"react-draggable","loc":{"line":3,"column":30,"index":115},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react-draggable\\build\\cjs\\cjs.js"},{"name":"./../Provoda/assets/mouse.svg","loc":{"line":4,"column":18,"index":153},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Provoda\\assets\\mouse.svg"},{"name":"./assets/Box.png","loc":{"line":5,"column":16,"index":203},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\assets\\Box.png"},{"name":"./assets/Box2.png","loc":{"line":6,"column":17,"index":241},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\assets\\Box2.png"},{"name":"./assets/Scotch.png","loc":{"line":7,"column":19,"index":282},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\assets\\Scotch.png"},{"name":"./../Success/success","loc":{"line":8,"column":24,"index":330},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Success\\success.tsx"},{"name":"./assets/Grass.png","loc":{"line":9,"column":18,"index":373},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\assets\\Grass.png"},{"name":"../../../modules/CEF","loc":{"line":10,"column":20,"index":416},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\CEF.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.BoxGame=void 0;var t=s(require(\"react\"));require(\"./../Provoda/assets/style.less\");var e=require(\"react-draggable\"),n=i(require(\"./../Provoda/assets/mouse.svg\")),o=i(require(\"./assets/Box.png\")),a=i(require(\"./assets/Box2.png\")),r=i(require(\"./assets/Scotch.png\")),c=require(\"./../Success/success\"),l=i(require(\"./assets/Grass.png\")),u=require(\"../../../modules/CEF\");function i(t){return t&&t.__esModule?t:{default:t}}function d(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(d=function(t){return t?n:e})(t)}function s(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||\"object\"!=typeof t&&\"function\"!=typeof t)return{default:t};var n=d(e);if(n&&n.has(t))return n.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(\"default\"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var c=a?Object.getOwnPropertyDescriptor(t,r):null;c&&(c.get||c.set)?Object.defineProperty(o,r,c):o[r]=t[r]}return o.default=t,n&&n.set(t,o),o}function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach(function(e){p(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(t,e,n){return(e=v(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,v(o.key),o)}}function y(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function v(t){var e=E(t,\"string\");return\"symbol\"===f(e)?e:String(e)}function E(t,e){if(\"object\"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||\"default\");if(\"object\"!==f(o))return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}function w(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&O(t,e)}function O(t,e){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=x();return function(){var n,o=Y(t);if(e){var a=Y(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return S(this,n)}}function S(t,e){if(e&&(\"object\"===f(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return P(t)}function P(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function x(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=exports.BoxGame=function(i){w(s,t.Component);var d=j(s);function s(e){var n;return g(this,s),(n=d.call(this,e)).successGame=function(){n.props.status(!0),console.log(\"end game\")},n.componentDidMount=function(){for(var t=[],e=[],o=0;o<2;o++)t.push({attached:!1,position:[65+25*Math.random(),10+80*Math.random()],rotate:[0,0,0,360*Math.random()],default:{}});if(1===n.props.type)for(var a=0;a<50+10*Math.random();a++)e.push({position:[30*Math.random(),30*Math.random()],rotate:360*Math.random()});n.setState(h(h({},n.state),{},{scotch:t,grass:e}))},n.handleEvent=function(t,e){var o=n.state.boxes;if(!0!==o[e].attached){switch(e){case 0:if(o[e].rotate[0]<=0-t.deltaY)return;o[e].rotate[0]+=t.deltaY/document.documentElement.clientHeight*720,o[e].default.top+=t.deltaY/document.documentElement.clientHeight*78,o[e].rotate[0]<=90?(o[e].default.left=(o[e].default.left?o[e].default.left:0)-t.deltaY/document.documentElement.clientHeight*16,o[e].scew+=t.deltaY/document.documentElement.clientHeight*80):(o[e].default.left=(o[e].default.left?o[e].default.left:0)+t.deltaY/document.documentElement.clientHeight*16,o[e].scew-=t.deltaY/document.documentElement.clientHeight*80),o[e].rotate[0]>=180&&(o[e].rotate[0]=180,o[e].attached=!0,o[e].scew=0,u.CEF.playSound(\"box3\",.05)),o[e].rotate[0]>=0&&o[e].rotate[0]<=45?o[e].default.top-=t.deltaY/document.documentElement.clientHeight*38:o[e].rotate[0]>45&&o[e].rotate[0]<=90?o[e].default.top+=t.deltaY/document.documentElement.clientHeight*38:o[e].rotate[0]>=90&&o[e].rotate[0]<=135?o[e].default.top+=t.deltaY/document.documentElement.clientHeight*38:o[e].rotate[0]>135&&o[e].rotate[0]<180&&(o[e].default.top-=t.deltaY/document.documentElement.clientHeight*38),o[e].default.top>0&&(o[e].default.top=.01);break;case 2:if(o[e].rotate[0]<=0+t.deltaY)return;o[e].rotate[0]-=t.deltaY/document.documentElement.clientHeight*720,o[e].default.bottom-=t.deltaY/document.documentElement.clientHeight*78,o[e].rotate[0]<=90?(o[e].default.right=(o[e].default.right?o[e].default.right:0)+t.deltaY/document.documentElement.clientHeight*16,o[e].scew-=t.deltaY/document.documentElement.clientHeight*80):(o[e].default.right=(o[e].default.right?o[e].default.right:0)-t.deltaY/document.documentElement.clientHeight*16,o[e].scew+=t.deltaY/document.documentElement.clientHeight*80),o[e].rotate[0]>=0&&o[e].rotate[0]<=45?o[e].default.bottom+=t.deltaY/document.documentElement.clientHeight*38:o[e].rotate[0]>45&&o[e].rotate[0]<=90?o[e].default.bottom-=t.deltaY/document.documentElement.clientHeight*38:o[e].rotate[0]>=90&&o[e].rotate[0]<=135?o[e].default.bottom-=t.deltaY/document.documentElement.clientHeight*38:o[e].rotate[0]>135&&o[e].rotate[0]<=180&&(o[e].default.bottom+=t.deltaY/document.documentElement.clientHeight*38),o[e].rotate[0]>=180&&(o[e].rotate[0]=180,o[e].attached=!0,o[e].scew=0,u.CEF.playSound(\"box3\",.05)),o[e].default.bottom>0&&(o[e].default.bottom=.01);break;case 1:if(o[e].rotate[1]<=0+t.deltaX)return;o[e].rotate[1]-=t.deltaX/document.documentElement.clientWidth*720,o[e].default.right-=t.deltaX/document.documentElement.clientWidth*78,o[e].rotate[1]<=90?o[e].scew+=t.deltaX/document.documentElement.clientWidth*80:o[e].scew-=t.deltaX/document.documentElement.clientWidth*80,o[e].rotate[1]>=0&&o[e].rotate[1]<=45?o[e].default.right+=t.deltaX/document.documentElement.clientWidth*38:o[e].rotate[1]>45&&o[e].rotate[1]<=90?o[e].default.right-=t.deltaX/document.documentElement.clientWidth*38:o[e].rotate[1]>=90&&o[e].rotate[1]<=135?o[e].default.right-=t.deltaX/document.documentElement.clientWidth*38:o[e].rotate[1]>135&&o[e].rotate[1]<=180&&(o[e].default.right+=t.deltaX/document.documentElement.clientWidth*38),o[e].rotate[1]>=180&&(o[e].rotate[1]=180,o[e].attached=!0,o[e].scew=0,u.CEF.playSound(\"box3\",.05)),o[e].default.right>-10&&(o[e].default.right=-10);break;case 3:if(o[e].rotate[1]<=0-t.deltaX)return;o[e].rotate[1]+=t.deltaX/document.documentElement.clientWidth*720,o[e].default.left+=t.deltaX/document.documentElement.clientWidth*78,o[e].rotate[1]<=90?o[e].scew-=t.deltaX/document.documentElement.clientWidth*80:o[e].scew+=t.deltaX/document.documentElement.clientWidth*80,o[e].rotate[1]>=0&&o[e].rotate[1]<=45?o[e].default.left-=t.deltaX/document.documentElement.clientWidth*38:o[e].rotate[1]>45&&o[e].rotate[1]<=90?o[e].default.left+=t.deltaX/document.documentElement.clientWidth*38:o[e].rotate[1]>=90&&o[e].rotate[1]<=135?o[e].default.left+=t.deltaX/document.documentElement.clientWidth*38:o[e].rotate[1]>135&&o[e].rotate[1]<=180&&(o[e].default.left-=t.deltaX/document.documentElement.clientWidth*38),o[e].rotate[1]>=180&&(o[e].rotate[1]=180,o[e].attached=!0,o[e].scew=0,u.CEF.playSound(\"box3\",.05)),o[e].default.left>-10&&(o[e].default.left=-10)}n.setState(h(h({},n.state),{},{boxes:o}))}},n.scotchEvent=function(t,e){var o=n.state.scotch;if(!0!==o[e].attached){if(o[e].position[0]+=t.deltaX/document.documentElement.clientWidth*100,o[e].position[1]+=t.deltaY/document.documentElement.clientHeight*100,n.state.boxes.filter(function(t){return!0===t.attached}).length<n.state.boxes.length)return n.setState(h(h({},n.state),{},{scotch:o}));Math.abs(Math.abs(o[e].position[0])-40)<6&&Math.abs(Math.abs(o[e].position[1])-40)<6&&(o[e].attached=!0),n.setState(h(h({},n.state),{},{scotch:o})),n.state.scotch.filter(function(t){return!0===t.attached}).length>=n.state.scotch.length&&(n.lottieRef.current.setSpeed(.5),n.lottieRef.current.play(),u.CEF.playSound(\"succ\",.05))}},n.addGrass=function(){if(n.state.grass){for(var e=[],o=0;o<n.state.grass.length;o++)e.push(t.default.createElement(\"img\",{key:o,src:l.default,style:{height:\"10vh\",position:\"absolute\",zIndex:998,left:\"\".concat(n.state.grass[o].position[0],\"vh\"),top:\"\".concat(n.state.grass[o].position[1],\"vh\"),transform:\"rotate(\".concat(n.state.grass[o].rotate,\"deg)\")}}));return e}},n.state={boxes:[{attached:!1,position:[0,-60],default:{top:-19.5},rotate:[0,0,0,360],scew:0},{attached:!1,position:[60,0],default:{right:-29.5},rotate:[0,0,1,90],scew:0},{attached:!1,position:[0,60],default:{bottom:-19.5},rotate:[0,0,0,180],scew:0},{attached:!1,position:[-60,0],default:{left:-29.5},rotate:[0,0,1,270],scew:0}],scotch:[]},n.lottieRef=t.default.createRef(),n}return y(s,[{key:\"render\",value:function(){var l=this;return t.default.createElement(t.default.Fragment,null,t.default.createElement(\"div\",{className:\"provoda_browser\",style:{userSelect:\"none\",background:\"radial-gradient(50% 50% at 50% 50%, rgba(71, 48, 31, 0.64) 0%, rgba(31, 24, 18, 0.94) 100%)\"}},t.default.createElement(\"div\",{className:\"provoda_info\"},t.default.createElement(\"div\",null,t.default.createElement(\"h1\",null,\"Упакуйте\"),t.default.createElement(\"h2\",null,\"Коробку\"),t.default.createElement(\"h3\",null,\"Запакуйте коробку, сложите края и заклейте скотчем\")),t.default.createElement(\"div\",{className:\"provoda_bottom\"},t.default.createElement(\"img\",{src:n.default}),t.default.createElement(\"h4\",null,\"Двигайте мышью, чтобы закрыть и заклеить коробку\"))),t.default.createElement(\"div\",{style:{zIndex:this.state.scotch.filter(function(t){return!0===t.attached}).length>=this.state.scotch.length?99999:-1,display:\"flex\",position:\"absolute\",justifyContent:\"center\",width:\"20vh\",height:\"20vh\"}},(0,c.Success)(this.lottieRef,this.successGame)),this.state.scotch.map(function(n,o){return t.default.createElement(e.DraggableCore,{key:\"dr_\".concat(o),grid:[1,1],onStart:function(t,e){return l.scotchEvent(e,o)},onDrag:function(t,e){return l.scotchEvent(e,o)},onStop:function(t,e){return l.scotchEvent(e,o)},disabled:n.attached},t.default.createElement(\"div\",{key:o,style:{left:\"\".concat(n.position[0],\"vw\"),top:\"\".concat(n.position[1],\"vh\"),zIndex:10005+(!0===n.attached?0:1),position:\"absolute\"}},t.default.createElement(\"img\",{src:r.default,style:{width:\"20vh\",transform:\"rotateX(\".concat(n.rotate[0],\"deg) rotateY(\").concat(n.rotate[1],\"deg) rotateZ(\").concat(n.rotate[3],\"deg)\"),pointerEvents:\"none\"}})))}),t.default.createElement(\"div\",{style:{position:\"absolute\",width:\"40vh\",height:\"40vh\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}},t.default.createElement(\"img\",{src:o.default,style:{zIndex:997,position:\"absolute\",width:\"40vh\",height:\"40vh\"}}),1===this.props.type?this.addGrass():null,this.state.boxes.map(function(n,o){return t.default.createElement(e.DraggableCore,{key:\"dr_\".concat(o),grid:[1,1],onStart:function(t,e){return l.handleEvent(e,o)},onDrag:function(t,e){return l.handleEvent(e,o)},onStop:function(t,e){return l.handleEvent(e,o)},disabled:n.attached},t.default.createElement(\"div\",{key:o,style:{top:n.default.top?\"\".concat(n.default.top,\"vh\"):\"auto\",bottom:n.default.bottom?\"\".concat(n.default.bottom,\"vh\"):\"auto\",left:n.default.left?\"\".concat(n.default.left,\"vh\"):\"auto\",right:n.default.right?\"\".concat(n.default.right,\"vh\"):\"auto\",zIndex:9999+o-(!0===n.attached?10:0),position:\"absolute\"}},t.default.createElement(\"img\",{src:a.default,style:{width:\"40vh\",height:\"19.5vh\",transformStyle:\"preserve-3d\",transform:\"rotateX(\".concat(n.rotate[0],\"deg) rotateY(\").concat(n.rotate[1],\"deg) rotateZ(\").concat(n.rotate[3],\"deg) skew(\").concat(n.scew,\"deg)\"),pointerEvents:\"none\"}})))}))))}}]),s}();"},"sourceMaps":null,"error":null,"hash":"9e7a83cfc6295bfda78b730064c481b2","cacheData":{"env":{}}}