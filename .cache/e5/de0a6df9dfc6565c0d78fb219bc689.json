{"id":"jI3E","dependencies":[{"name":"D:\\DETROIT\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":33,"index":33},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react\\index.js"},{"name":"./../Provoda/assets/style.less","loc":{"line":2,"column":7,"index":50},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Provoda\\assets\\style.less"},{"name":"react-draggable","loc":{"line":3,"column":30,"index":115},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react-draggable\\build\\cjs\\cjs.js"},{"name":"./../Provoda/assets/mouse.svg","loc":{"line":4,"column":18,"index":153},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Provoda\\assets\\mouse.svg"},{"name":"./assets/Box.png","loc":{"line":5,"column":16,"index":203},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\assets\\Box.png"},{"name":"./assets/Box2.png","loc":{"line":6,"column":17,"index":241},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\assets\\Box2.png"},{"name":"./assets/Scotch.png","loc":{"line":7,"column":19,"index":282},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\assets\\Scotch.png"},{"name":"./../Success/success","loc":{"line":8,"column":24,"index":330},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Success\\success.tsx"},{"name":"./assets/Grass.png","loc":{"line":9,"column":18,"index":373},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\assets\\Grass.png"},{"name":"../../../modules/CEF","loc":{"line":10,"column":20,"index":416},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\MiniGame\\Box\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\CEF.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.BoxGame=void 0;var t=s(require(\"react\"));require(\"./../Provoda/assets/style.less\");var e=require(\"react-draggable\"),o=i(require(\"./../Provoda/assets/mouse.svg\")),n=i(require(\"./assets/Box.png\")),a=i(require(\"./assets/Box2.png\")),r=i(require(\"./assets/Scotch.png\")),c=require(\"./../Success/success\"),l=i(require(\"./assets/Grass.png\")),u=require(\"../../../modules/CEF\");function i(t){return t&&t.__esModule?t:{default:t}}function d(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,o=new WeakMap;return(d=function(t){return t?o:e})(t)}function s(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||\"object\"!=typeof t&&\"function\"!=typeof t)return{default:t};var o=d(e);if(o&&o.has(t))return o.get(t);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if(\"default\"!==r&&{}.hasOwnProperty.call(t,r)){var c=a?Object.getOwnPropertyDescriptor(t,r):null;c&&(c.get||c.set)?Object.defineProperty(n,r,c):n[r]=t[r]}return n.default=t,o&&o.set(t,n),n}function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function m(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?m(Object(o),!0).forEach(function(e){p(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function p(t,e,o){return(e=v(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function g(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function b(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function y(t,e,o){return e&&b(t.prototype,e),o&&b(t,o),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function v(t){var e=E(t,\"string\");return\"symbol\"==f(e)?e:e+\"\"}function E(t,e){if(\"object\"!=f(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||\"default\");if(\"object\"!=f(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}function w(t,e,o){return e=P(e),O(t,S()?Reflect.construct(e,o||[],P(t).constructor):e.apply(t,o))}function O(t,e){if(e&&(\"object\"==f(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return j(t)}function j(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function S(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(S=function(){return!!t})()}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&Y(t,e)}function Y(t,e){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var _=exports.BoxGame=function(i){function d(e){var o;return g(this,d),(o=w(this,d,[e])).successGame=function(){o.props.status(!0),console.log(\"end game\")},o.componentDidMount=function(){for(var t=[],e=[],n=0;n<2;n++)t.push({attached:!1,position:[65+25*Math.random(),10+80*Math.random()],rotate:[0,0,0,360*Math.random()],default:{}});if(1===o.props.type)for(var a=0;a<50+10*Math.random();a++)e.push({position:[30*Math.random(),30*Math.random()],rotate:360*Math.random()});o.setState(h(h({},o.state),{},{scotch:t,grass:e}))},o.handleEvent=function(t,e){var n=o.state.boxes;if(!0!==n[e].attached){switch(e){case 0:if(n[e].rotate[0]<=0-t.deltaY)return;n[e].rotate[0]+=t.deltaY/document.documentElement.clientHeight*720,n[e].default.top+=t.deltaY/document.documentElement.clientHeight*78,n[e].rotate[0]<=90?(n[e].default.left=(n[e].default.left?n[e].default.left:0)-t.deltaY/document.documentElement.clientHeight*16,n[e].scew+=t.deltaY/document.documentElement.clientHeight*80):(n[e].default.left=(n[e].default.left?n[e].default.left:0)+t.deltaY/document.documentElement.clientHeight*16,n[e].scew-=t.deltaY/document.documentElement.clientHeight*80),n[e].rotate[0]>=180&&(n[e].rotate[0]=180,n[e].attached=!0,n[e].scew=0,u.CEF.playSound(\"box3\",.05)),n[e].rotate[0]>=0&&n[e].rotate[0]<=45?n[e].default.top-=t.deltaY/document.documentElement.clientHeight*38:n[e].rotate[0]>45&&n[e].rotate[0]<=90?n[e].default.top+=t.deltaY/document.documentElement.clientHeight*38:n[e].rotate[0]>=90&&n[e].rotate[0]<=135?n[e].default.top+=t.deltaY/document.documentElement.clientHeight*38:n[e].rotate[0]>135&&n[e].rotate[0]<180&&(n[e].default.top-=t.deltaY/document.documentElement.clientHeight*38),n[e].default.top>0&&(n[e].default.top=.01);break;case 2:if(n[e].rotate[0]<=0+t.deltaY)return;n[e].rotate[0]-=t.deltaY/document.documentElement.clientHeight*720,n[e].default.bottom-=t.deltaY/document.documentElement.clientHeight*78,n[e].rotate[0]<=90?(n[e].default.right=(n[e].default.right?n[e].default.right:0)+t.deltaY/document.documentElement.clientHeight*16,n[e].scew-=t.deltaY/document.documentElement.clientHeight*80):(n[e].default.right=(n[e].default.right?n[e].default.right:0)-t.deltaY/document.documentElement.clientHeight*16,n[e].scew+=t.deltaY/document.documentElement.clientHeight*80),n[e].rotate[0]>=0&&n[e].rotate[0]<=45?n[e].default.bottom+=t.deltaY/document.documentElement.clientHeight*38:n[e].rotate[0]>45&&n[e].rotate[0]<=90?n[e].default.bottom-=t.deltaY/document.documentElement.clientHeight*38:n[e].rotate[0]>=90&&n[e].rotate[0]<=135?n[e].default.bottom-=t.deltaY/document.documentElement.clientHeight*38:n[e].rotate[0]>135&&n[e].rotate[0]<=180&&(n[e].default.bottom+=t.deltaY/document.documentElement.clientHeight*38),n[e].rotate[0]>=180&&(n[e].rotate[0]=180,n[e].attached=!0,n[e].scew=0,u.CEF.playSound(\"box3\",.05)),n[e].default.bottom>0&&(n[e].default.bottom=.01);break;case 1:if(n[e].rotate[1]<=0+t.deltaX)return;n[e].rotate[1]-=t.deltaX/document.documentElement.clientWidth*720,n[e].default.right-=t.deltaX/document.documentElement.clientWidth*78,n[e].rotate[1]<=90?n[e].scew+=t.deltaX/document.documentElement.clientWidth*80:n[e].scew-=t.deltaX/document.documentElement.clientWidth*80,n[e].rotate[1]>=0&&n[e].rotate[1]<=45?n[e].default.right+=t.deltaX/document.documentElement.clientWidth*38:n[e].rotate[1]>45&&n[e].rotate[1]<=90?n[e].default.right-=t.deltaX/document.documentElement.clientWidth*38:n[e].rotate[1]>=90&&n[e].rotate[1]<=135?n[e].default.right-=t.deltaX/document.documentElement.clientWidth*38:n[e].rotate[1]>135&&n[e].rotate[1]<=180&&(n[e].default.right+=t.deltaX/document.documentElement.clientWidth*38),n[e].rotate[1]>=180&&(n[e].rotate[1]=180,n[e].attached=!0,n[e].scew=0,u.CEF.playSound(\"box3\",.05)),n[e].default.right>-10&&(n[e].default.right=-10);break;case 3:if(n[e].rotate[1]<=0-t.deltaX)return;n[e].rotate[1]+=t.deltaX/document.documentElement.clientWidth*720,n[e].default.left+=t.deltaX/document.documentElement.clientWidth*78,n[e].rotate[1]<=90?n[e].scew-=t.deltaX/document.documentElement.clientWidth*80:n[e].scew+=t.deltaX/document.documentElement.clientWidth*80,n[e].rotate[1]>=0&&n[e].rotate[1]<=45?n[e].default.left-=t.deltaX/document.documentElement.clientWidth*38:n[e].rotate[1]>45&&n[e].rotate[1]<=90?n[e].default.left+=t.deltaX/document.documentElement.clientWidth*38:n[e].rotate[1]>=90&&n[e].rotate[1]<=135?n[e].default.left+=t.deltaX/document.documentElement.clientWidth*38:n[e].rotate[1]>135&&n[e].rotate[1]<=180&&(n[e].default.left-=t.deltaX/document.documentElement.clientWidth*38),n[e].rotate[1]>=180&&(n[e].rotate[1]=180,n[e].attached=!0,n[e].scew=0,u.CEF.playSound(\"box3\",.05)),n[e].default.left>-10&&(n[e].default.left=-10)}o.setState(h(h({},o.state),{},{boxes:n}))}},o.scotchEvent=function(t,e){var n=o.state.scotch;if(!0!==n[e].attached){if(n[e].position[0]+=t.deltaX/document.documentElement.clientWidth*100,n[e].position[1]+=t.deltaY/document.documentElement.clientHeight*100,o.state.boxes.filter(function(t){return!0===t.attached}).length<o.state.boxes.length)return o.setState(h(h({},o.state),{},{scotch:n}));Math.abs(Math.abs(n[e].position[0])-40)<6&&Math.abs(Math.abs(n[e].position[1])-40)<6&&(n[e].attached=!0),o.setState(h(h({},o.state),{},{scotch:n})),o.state.scotch.filter(function(t){return!0===t.attached}).length>=o.state.scotch.length&&(o.lottieRef.current.setSpeed(.5),o.lottieRef.current.play(),u.CEF.playSound(\"succ\",.05))}},o.addGrass=function(){if(o.state.grass){for(var e=[],n=0;n<o.state.grass.length;n++)e.push(t.default.createElement(\"img\",{key:n,src:l.default,style:{height:\"10vh\",position:\"absolute\",zIndex:998,left:\"\".concat(o.state.grass[n].position[0],\"vh\"),top:\"\".concat(o.state.grass[n].position[1],\"vh\"),transform:\"rotate(\".concat(o.state.grass[n].rotate,\"deg)\")}}));return e}},o.state={boxes:[{attached:!1,position:[0,-60],default:{top:-19.5},rotate:[0,0,0,360],scew:0},{attached:!1,position:[60,0],default:{right:-29.5},rotate:[0,0,1,90],scew:0},{attached:!1,position:[0,60],default:{bottom:-19.5},rotate:[0,0,0,180],scew:0},{attached:!1,position:[-60,0],default:{left:-29.5},rotate:[0,0,1,270],scew:0}],scotch:[]},o.lottieRef=t.default.createRef(),o}return x(d,t.Component),y(d,[{key:\"render\",value:function(){var l=this;return t.default.createElement(t.default.Fragment,null,t.default.createElement(\"div\",{className:\"provoda_browser\",style:{userSelect:\"none\",background:\"radial-gradient(50% 50% at 50% 50%, rgba(71, 48, 31, 0.64) 0%, rgba(31, 24, 18, 0.94) 100%)\"}},t.default.createElement(\"div\",{className:\"provoda_info\"},t.default.createElement(\"div\",null,t.default.createElement(\"h1\",null,\"Упакуйте\"),t.default.createElement(\"h2\",null,\"Коробку\"),t.default.createElement(\"h3\",null,\"Запакуйте коробку, сложите края и заклейте скотчем\")),t.default.createElement(\"div\",{className:\"provoda_bottom\"},t.default.createElement(\"img\",{src:o.default}),t.default.createElement(\"h4\",null,\"Двигайте мышью, чтобы закрыть и заклеить коробку\"))),t.default.createElement(\"div\",{style:{zIndex:this.state.scotch.filter(function(t){return!0===t.attached}).length>=this.state.scotch.length?99999:-1,display:\"flex\",position:\"absolute\",justifyContent:\"center\",width:\"20vh\",height:\"20vh\"}},(0,c.Success)(this.lottieRef,this.successGame)),this.state.scotch.map(function(o,n){return t.default.createElement(e.DraggableCore,{key:\"dr_\".concat(n),grid:[1,1],onStart:function(t,e){return l.scotchEvent(e,n)},onDrag:function(t,e){return l.scotchEvent(e,n)},onStop:function(t,e){return l.scotchEvent(e,n)},disabled:o.attached},t.default.createElement(\"div\",{key:n,style:{left:\"\".concat(o.position[0],\"vw\"),top:\"\".concat(o.position[1],\"vh\"),zIndex:10005+(!0===o.attached?0:1),position:\"absolute\"}},t.default.createElement(\"img\",{src:r.default,style:{width:\"20vh\",transform:\"rotateX(\".concat(o.rotate[0],\"deg) rotateY(\").concat(o.rotate[1],\"deg) rotateZ(\").concat(o.rotate[3],\"deg)\"),pointerEvents:\"none\"}})))}),t.default.createElement(\"div\",{style:{position:\"absolute\",width:\"40vh\",height:\"40vh\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}},t.default.createElement(\"img\",{src:n.default,style:{zIndex:997,position:\"absolute\",width:\"40vh\",height:\"40vh\"}}),1===this.props.type?this.addGrass():null,this.state.boxes.map(function(o,n){return t.default.createElement(e.DraggableCore,{key:\"dr_\".concat(n),grid:[1,1],onStart:function(t,e){return l.handleEvent(e,n)},onDrag:function(t,e){return l.handleEvent(e,n)},onStop:function(t,e){return l.handleEvent(e,n)},disabled:o.attached},t.default.createElement(\"div\",{key:n,style:{top:o.default.top?\"\".concat(o.default.top,\"vh\"):\"auto\",bottom:o.default.bottom?\"\".concat(o.default.bottom,\"vh\"):\"auto\",left:o.default.left?\"\".concat(o.default.left,\"vh\"):\"auto\",right:o.default.right?\"\".concat(o.default.right,\"vh\"):\"auto\",zIndex:9999+n-(!0===o.attached?10:0),position:\"absolute\"}},t.default.createElement(\"img\",{src:a.default,style:{width:\"40vh\",height:\"19.5vh\",transformStyle:\"preserve-3d\",transform:\"rotateX(\".concat(o.rotate[0],\"deg) rotateY(\").concat(o.rotate[1],\"deg) rotateZ(\").concat(o.rotate[3],\"deg) skew(\").concat(o.scew,\"deg)\"),pointerEvents:\"none\"}})))}))))}}])}();"},"sourceMaps":null,"error":null,"hash":"81fbb17c16f2352f9c98dcb650300531","cacheData":{"env":{}}}