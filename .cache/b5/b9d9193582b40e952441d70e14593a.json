{"id":"m9jD","dependencies":[{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\engine.io-client\\package.json","includedInParent":true,"mtime":1695992238890},{"name":"./transports/index","loc":{"line":1,"column":27,"index":27},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\engine.io-client\\lib\\socket.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\engine.io-client\\lib\\transports\\index.js"},{"name":"component-emitter","loc":{"line":2,"column":24,"index":74},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\engine.io-client\\lib\\socket.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\component-emitter\\index.js"},{"name":"debug","loc":{"line":3,"column":22,"index":118},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\engine.io-client\\lib\\socket.js","resolved":"D:\\DETROIT\\server\\node_modules\\debug\\src\\browser.js"},{"name":"engine.io-parser","loc":{"line":4,"column":23,"index":178},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\engine.io-client\\lib\\socket.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\engine.io-parser\\lib\\index.js"},{"name":"parseuri","loc":{"line":5,"column":25,"index":224},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\engine.io-client\\lib\\socket.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\parseuri\\index.js"},{"name":"parseqs","loc":{"line":6,"column":24,"index":261},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\engine.io-client\\lib\\socket.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\parseqs\\index.js"}],"generated":{"js":"const t=require(\"./transports/index\"),e=require(\"component-emitter\"),s=require(\"debug\")(\"engine.io-client:socket\"),r=require(\"engine.io-parser\"),o=require(\"parseuri\"),i=require(\"parseqs\");class n extends e{constructor(t,e={}){super(),t&&\"object\"==typeof t&&(e=t,t=null),t?(t=o(t),e.hostname=t.host,e.secure=\"https\"===t.protocol||\"wss\"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=o(e.host).host),this.secure=null!=e.secure?e.secure:\"undefined\"!=typeof location&&\"https:\"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?\"443\":\"80\"),this.hostname=e.hostname||(\"undefined\"!=typeof location?location.hostname:\"localhost\"),this.port=e.port||(\"undefined\"!=typeof location&&location.port?location.port:this.secure?443:80),this.transports=e.transports||[\"polling\",\"websocket\"],this.readyState=\"\",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:\"/engine.io\",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:\"t\",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},e),this.opts.path=this.opts.path.replace(/\\/$/,\"\")+\"/\",\"string\"==typeof this.opts.query&&(this.opts.query=i.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,\"function\"==typeof addEventListener&&addEventListener(\"beforeunload\",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.open()}createTransport(e){s('creating transport \"%s\"',e);const o=a(this.opts.query);o.EIO=r.protocol,o.transport=e,this.id&&(o.sid=this.id);const i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return s(\"options: %j\",i),new t[e](i)}open(){let t;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf(\"websocket\"))t=\"websocket\";else{if(0===this.transports.length){const t=this;return void setTimeout(function(){t.emit(\"error\",\"No transports available\")},0)}t=this.transports[0]}this.readyState=\"opening\";try{t=this.createTransport(t)}catch(e){return s(\"error while creating transport: %s\",e),this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){s(\"setting transport %s\",t.name);const e=this;this.transport&&(s(\"clearing existing transport %s\",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on(\"drain\",function(){e.onDrain()}).on(\"packet\",function(t){e.onPacket(t)}).on(\"error\",function(t){e.onError(t)}).on(\"close\",function(){e.onClose(\"transport close\")})}probe(t){s('probing transport \"%s\"',t);let e=this.createTransport(t,{probe:1}),r=!1;const o=this;function i(){if(o.onlyBinaryUpgrades){const t=!this.supportsBinary&&o.transport.supportsBinary;r=r||t}r||(s('probe transport \"%s\" opened',t),e.send([{type:\"ping\",data:\"probe\"}]),e.once(\"packet\",function(i){if(!r)if(\"pong\"===i.type&&\"probe\"===i.data){if(s('probe transport \"%s\" pong',t),o.upgrading=!0,o.emit(\"upgrading\",e),!e)return;n.priorWebsocketSuccess=\"websocket\"===e.name,s('pausing current transport \"%s\"',o.transport.name),o.transport.pause(function(){r||\"closed\"!==o.readyState&&(s(\"changing transport and sending upgrade packet\"),l(),o.setTransport(e),e.send([{type:\"upgrade\"}]),o.emit(\"upgrade\",e),e=null,o.upgrading=!1,o.flush())})}else{s('probe transport \"%s\" failed',t);const r=new Error(\"probe error\");r.transport=e.name,o.emit(\"upgradeError\",r)}}))}function a(){r||(r=!0,l(),e.close(),e=null)}function p(r){const i=new Error(\"probe error: \"+r);i.transport=e.name,a(),s('probe transport \"%s\" failed because of error: %s',t,r),o.emit(\"upgradeError\",i)}function h(){p(\"transport closed\")}function c(){p(\"socket closed\")}function u(t){e&&t.name!==e.name&&(s('\"%s\" works - aborting \"%s\"',t.name,e.name),a())}function l(){e.removeListener(\"open\",i),e.removeListener(\"error\",p),e.removeListener(\"close\",h),o.removeListener(\"close\",c),o.removeListener(\"upgrading\",u)}n.priorWebsocketSuccess=!1,e.once(\"open\",i),e.once(\"error\",p),e.once(\"close\",h),this.once(\"close\",c),this.once(\"upgrading\",u),e.open()}onOpen(){if(s(\"socket open\"),this.readyState=\"open\",n.priorWebsocketSuccess=\"websocket\"===this.transport.name,this.emit(\"open\"),this.flush(),\"open\"===this.readyState&&this.opts.upgrade&&this.transport.pause){s(\"starting upgrade probes\");let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState)switch(s('socket receive: type \"%s\", data \"%s\"',t.type,t.data),this.emit(\"packet\",t),this.emit(\"heartbeat\"),t.type){case\"open\":this.onHandshake(JSON.parse(t.data));break;case\"ping\":this.resetPingTimeout(),this.sendPacket(\"pong\"),this.emit(\"pong\");break;case\"error\":const e=new Error(\"server error\");e.code=t.data,this.onError(e);break;case\"message\":this.emit(\"data\",t.data),this.emit(\"message\",t.data)}else s('packet received with socket readyState \"%s\"',this.readyState)}onHandshake(t){this.emit(\"handshake\",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),\"closed\"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose(\"ping timeout\")},this.pingInterval+this.pingTimeout)}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit(\"drain\"):this.flush()}flush(){\"closed\"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s(\"flushing %d packets in socket\",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit(\"flush\"))}write(t,e,s){return this.sendPacket(\"message\",t,e,s),this}send(t,e,s){return this.sendPacket(\"message\",t,e,s),this}sendPacket(t,e,s,r){if(\"function\"==typeof e&&(r=e,e=void 0),\"function\"==typeof s&&(r=s,s=null),\"closing\"===this.readyState||\"closed\"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const o={type:t,data:e,options:s};this.emit(\"packetCreate\",o),this.writeBuffer.push(o),r&&this.once(\"flush\",r),this.flush()}close(){const t=this;function e(){t.onClose(\"forced close\"),s(\"socket closing - telling transport to close\"),t.transport.close()}function r(){t.removeListener(\"upgrade\",r),t.removeListener(\"upgradeError\",r),e()}function o(){t.once(\"upgrade\",r),t.once(\"upgradeError\",r)}return\"opening\"!==this.readyState&&\"open\"!==this.readyState||(this.readyState=\"closing\",this.writeBuffer.length?this.once(\"drain\",function(){this.upgrading?o():e()}):this.upgrading?o():e()),this}onError(t){s(\"socket error %j\",t),n.priorWebsocketSuccess=!1,this.emit(\"error\",t),this.onClose(\"transport error\",t)}onClose(t,e){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState){s('socket close with reason: \"%s\"',t);const r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners(\"close\"),this.transport.close(),this.transport.removeAllListeners(),this.readyState=\"closed\",this.id=null,this.emit(\"close\",t,e),r.writeBuffer=[],r.prevBufferLen=0}}filterUpgrades(t){const e=[];let s=0;const r=t.length;for(;s<r;s++)~this.transports.indexOf(t[s])&&e.push(t[s]);return e}}function a(t){const e={};for(let s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e}n.priorWebsocketSuccess=!1,n.protocol=r.protocol,module.exports=n;"},"sourceMaps":null,"error":null,"hash":"2ab2cfdf5e7a5e0262a84133300f21b1","cacheData":{"env":{}}}