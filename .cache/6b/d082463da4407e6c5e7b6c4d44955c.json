{"id":"z0SP","dependencies":[{"name":"D:\\DETROIT\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":44,"index":44},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react\\index.js"},{"name":"./inventory.less","loc":{"line":2,"column":7,"index":61},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\inventory.less"},{"name":"../../../shared/inventory","loc":{"line":3,"column":233,"index":315},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\inventory.ts"},{"name":"../../modules/CEF","loc":{"line":4,"column":20,"index":365},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\CEF.ts"},{"name":"./images/svg/*.svg","loc":{"line":5,"column":16,"index":403},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\images\\svg\\*.svg"},{"name":"./images/*.png","loc":{"line":6,"column":19,"index":445},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\images\\*.png"},{"name":"../../../shared/icons/*.png","loc":{"line":7,"column":23,"index":487},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\icons\\*.png"},{"name":"../../modules/system","loc":{"line":8,"column":23,"index":542},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\system.ts"},{"name":"../../../shared/system","loc":{"line":9,"column":27,"index":594},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\system.ts"},{"name":"../../modules/custom.event","loc":{"line":10,"column":28,"index":649},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\custom.event.ts"},{"name":"react-draggable","loc":{"line":11,"column":30,"index":710},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react-draggable\\build\\cjs\\cjs.js"},{"name":"./../Dialog/assets/ellipse.svg","loc":{"line":12,"column":20,"index":750},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Dialog\\assets\\ellipse.svg"},{"name":"@material-ui/core","loc":{"line":13,"column":49,"index":834},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\@material-ui\\core\\esm\\index.js"},{"name":"../../../shared/economy","loc":{"line":14,"column":56,"index":912},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\Inventory\\index_new.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\economy.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.InventoryClass=void 0;var e=h(require(\"react\"));require(\"./inventory.less\");var t=require(\"../../../shared/inventory\"),n=require(\"../../modules/CEF\"),a=f(require(\"./images/svg/*.svg\")),r=f(require(\"./images/*.png\")),i=f(require(\"../../../shared/icons/*.png\")),l=require(\"../../modules/system\"),o=require(\"../../../shared/system\"),s=require(\"../../modules/custom.event\"),c=require(\"react-draggable\"),u=f(require(\"./../Dialog/assets/ellipse.svg\")),d=require(\"@material-ui/core\"),m=require(\"../../../shared/economy\");function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(\"default\"!==i&&{}.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}function y(e){return(y=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function E(e){return x(e)||b(e)||v(e)||g()}function g(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function v(e,t){if(e){if(\"string\"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function b(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function x(e){if(Array.isArray(e))return I(e)}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,O(a.key),a)}}function C(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function O(e){var t=T(e,\"string\");return\"symbol\"==y(t)?t:t+\"\"}function T(e,t){if(\"object\"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||\"default\");if(\"object\"!=y(a))return a;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}function R(e,t,n){return t=F(t),D(e,Y()?Reflect.construct(t,n||[],F(e).constructor):t.apply(e,n))}function D(e,t){if(t&&(\"object\"==y(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return P(e)}function P(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Y=function(){return!!e})()}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&W(e,t)}function W(e,t){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var M=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15,n=t.inventoryShared.items.map(function(e,n){return(0,t.convertInventoryItemObjectToArray)({id:n+1,item_id:e.item_id,count:e.default_count||1,serial:\"test\",extra:\"{}\"})}),a=[],r=0;r<e;r++)a.push(o.systemUtil.randomArrayElement(n));return a},L=function(r){function i(n){var a;return N(this,i),(a=R(this,i,[n])).modalResponse=function(e){var t=a.state.split;a.setState(_(_({},a.state),{},{split:0})),0===e&&(a.item.count<2||a.split(t))},a.modal=function(){if(a.state.split)return e.default.createElement(\"div\",{tabIndex:-1,className:\"dialog_main_wrap\",style:{zIndex:2e4,position:\"absolute\"}},e.default.createElement(\"div\",{tabIndex:-1,className:\"dialog_main\",style:{position:\"fixed\",left:0,top:0}},e.default.createElement(\"div\",{tabIndex:-1,className:\"dialog_blur\"}),e.default.createElement(\"div\",{tabIndex:-1,className:\"dialog_grid\"}),e.default.createElement(\"img\",{tabIndex:-1,className:\"dialog_ellipse\",src:u.default}),e.default.createElement(\"div\",{tabIndex:-1,className:\"dialog_box\"},e.default.createElement(\"h1\",null,\"Разделение\"),e.default.createElement(\"p\",null,\"Выберите количество, которое хотите отделить\"),e.default.createElement(\"div\",{tabIndex:-1,className:\"dialog_info\"},a.addSlider(a.state.split,a.item.count-1,function(e){a.setState(_(_({},a.state),{},{split:e}))})),e.default.createElement(\"h5\",null,a.state.split,\"/\",a.item.count-a.state.split),e.default.createElement(\"div\",{tabIndex:-1,className:\"dialog_button\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"dialog_key\",onClick:function(){return a.modalResponse(0)}},\"Далее\"),e.default.createElement(\"div\",{tabIndex:-1,className:\"dialog_key\",onClick:function(){return a.modalResponse(1)}},\"Отмена\")))))},a.addSlider=function(t,n,a){return e.default.createElement(\"div\",{tabIndex:-1,style:{width:\"80%\"}},e.default.createElement(B,{min:1,max:n,step:1,value:t,valueLabelDisplay:\"off\",getAriaValueText:function(e){return\"\".concat(e,\"%\")},onChange:function(e,t){return a(t)}}))},a.startDrag=function(e){a.setState(_(_({},a.state),{},{position:[0,0]}))},a.stopDrag=function(e,n){switch(a.setState(_(_({},a.state),{},{position:[0,0]})),a.inventory.state.containerType){case-1:break;case t.OWNER_TYPES.HOTKEY:if(a.props.ishotkey)break;a.choiceItem({task:\"load_hotkey\",owner_id:a.inventory.state.containerNumber});break;case t.OWNER_TYPES.CLOTHES:a.useItem(e);break;default:if(a.inventory.state.containerType===a.owner_type&&a.inventory.state.containerNumber===a.owner_id)return;a.transfer(a.inventory.state.containerType,a.inventory.state.containerNumber)}a.inventory.currentItem(-1,-1)},a.onDrag=function(e,t){a.props.owner_type!=a.inventory.state.current[0]&&a.props.owner_id!=a.inventory.state.current[1]&&a.inventory.currentItem(a.props.owner_type,a.props.owner_id),a.setState(_(_({},a.state),{},{rightClick:!1,position:[e.clientX/document.documentElement.clientWidth*100,e.clientY/document.documentElement.clientHeight*100]}))},a.div=(0,e.createRef)(),a.state={position:[0,0],split:0},a}return A(i,e.Component),C(i,[{key:\"item\",get:function(){return(0,t.convertInventoryItemArrayToObject)(this.props.item)}},{key:\"itemCfg\",get:function(){return t.inventoryShared.get(this.item.item_id)}},{key:\"weaponCfg\",get:function(){if(this.itemCfg.type===t.ITEM_TYPE.WEAPON)return t.inventoryShared.getWeaponConfigByItemId(this.item.item_id)}},{key:\"owner_type\",get:function(){return this.props.owner_type}},{key:\"owner_id\",get:function(){return this.props.owner_id}},{key:\"blocks\",get:function(){return this.props.inventory.state.blocks}},{key:\"inventory\",get:function(){return this.props.inventory}},{key:\"transfer\",value:function(e,a){var r=this;if(e===t.OWNER_TYPES.WORLD)return this.dropItem();(this.owner_type!==t.OWNER_TYPES.WORLD||e===t.OWNER_TYPES.PLAYER&&a===n.CEF.id)&&this.setState({rightClick:!1},function(){r.choiceItem({task:\"transfer\",target_type:e,target_id:a}),n.CEF.playSound(\"up-inventory\",.05)})}},{key:\"useItem\",value:function(e){var a=this,r=this.weaponCfg?null:t.CONTAINERS_DATA.find(function(e){return e.item_id===a.item.item_id});return(r||this.owner_type==t.OWNER_TYPES.PLAYER)&&(r||this.owner_id==n.CEF.id)?void(this.canUse&&(r&&this.inventory.showBlocks(r.owner_type,this.id,e.pageX,e.pageY),this.setState({rightClick:!1},function(){r||a.choiceItem({task:\"useItem\"}),n.CEF.playSound(\"up-inventory\",.05)}))):this.transfer(t.OWNER_TYPES.PLAYER,n.CEF.id)}},{key:\"weaponMods\",value:function(e){var a=this,r=t.CONTAINERS_DATA.find(function(e){return e.item_id===a.item.item_id});if(!r)return this.useItem(e);this.inventory.showBlocks(r.owner_type,this.id,e.pageX,e.pageY),this.setState({rightClick:!1},function(){n.CEF.playSound(\"up-inventory\",.05)})}},{key:\"split\",value:function(e){var t=this;this.item.count<2||e<1||e>this.item.count-1||this.item.count-e<1||this.setState({rightClick:!1,split:0},function(){t.choiceItem({task:\"split\",target_id:e}),n.CEF.playSound(\"up-inventory\",.05)})}},{key:\"dropItem\",value:function(){var e=this;this.owner_type!==t.OWNER_TYPES.WORLD&&this.setState({rightClick:!1},function(){e.choiceItem({task:\"drop\"}),n.CEF.playSound(\"drop-inventory\",.05)})}},{key:\"addToExchange\",value:function(){t.inventoryShared.get(this.item.item_id).blockMove||s.CustomEvent.triggerServer(\"inventory::exchange::add\",this.props.item[0])}},{key:\"selectToDisplay\",value:function(){this.itemCfg.type===t.ITEM_TYPE.BAGS&&s.CustomEvent.triggerServer(\"inventory:bag:selectDisplay\",this.item.id)}},{key:\"choiceItem\",value:function(e){var t=this;this.setState({rightClick:!1},function(){s.CustomEvent.triggerServer(\"inventory:choiceItem\",_({item:{id:t.item.id},owner_type:t.owner_type,owner_id:t.owner_id},e))})}},{key:\"canUse\",get:function(){var e=this,n=this.itemCfg;return!!t.CONTAINERS_DATA.find(function(t){return t.item_id===e.item.item_id})||n.use&&this.isMyInventory}},{key:\"isMyInventory\",get:function(){return this.owner_type===t.OWNER_TYPES.PLAYER&&this.owner_id===n.CEF.id}},{key:\"hotkeys\",get:function(){return this.props.inventory.state.hotkeys}},{key:\"id\",get:function(){return this.item.id}},{key:\"hotkeySlot\",get:function(){var e=this;return this.hotkeys.findIndex(function(t){return t===e.id})}},{key:\"drawEquipHotkeyChoice\",get:function(){var t=this,n=[];if(this.hotkeys.find(function(e){return e===t.id}))n.push(e.default.createElement(\"li\",{key:\"equip_hotkey_li_unload\",onClick:function(e){e.preventDefault(),t.choiceItem({task:\"unload_hotkey\",owner_id:t.hotkeySlot})}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.use,width:\"24\",height:\"24\",alt:\"\"}),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-14px fw500 dark\"},\"Очистить хоткей \",this.hotkeySlot+1)));else for(var r=function(r){n.push(e.default.createElement(\"li\",{onClick:function(e){e.preventDefault(),t.choiceItem({task:\"load_hotkey\",owner_id:r})},key:\"equip_hotkey_li_\".concat(r)},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.keyboard,width:\"24\",height:\"24\",alt:\"\"}),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-14px fw500 dark\"},\"Назначить на \",r+1,\" слот быстрого доступа\")))},i=0;i<5;i++)r(i);return n}},{key:\"drawTooltip\",get:function(){var r,i=this,l=this.positionTooltip,o=this.itemCfg,s=this.canUse,c=document.getElementById(\"item_continer_draggable_\".concat(this.props.owner_type,\"_\").concat(this.props.owner_id)),u=0,d=0;c&&this.props.isDraggable&&(u=c.offsetLeft-c.offsetWidth/2,d=c.offsetTop-c.offsetHeight,l.left-=u,l.top-=d);var m=this.props.ishotkey?null:(0,t.getItemDesc)(o.item_id);return e.default.createElement(\"div\",{tabIndex:-1,className:\"mini-modal-menu-inventory-body\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"mini-modal-menu-inventory-background\",onClick:function(e){e.preventDefault(),i.setState({rightClick:!1})},onContextMenu:function(e){e.preventDefault(),i.setState({rightClick:!1})}}),e.default.createElement(\"div\",{tabIndex:-1,className:\"mini-modal-menu-inventory\",style:_(_({},l),{},{transform:window.innerHeight/2>l.top?\"\":\"translateY(-22vw)\"}),onClick:function(e){e.preventDefault()}},e.default.createElement(\"div\",{tabIndex:-1,className:\"descr-wrap br4\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px fw500 dark\"},(0,t.getItemName)(this.item)),e.default.createElement(\"div\",{tabIndex:-1,className:\"space-backpack\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"weight-backpack\"},e.default.createElement(\"img\",{tabIndex:-1,src:a.default[\"backpack-dark-04\"],alt:\"\"}),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-12px fw500 dark-04\"},((0,t.getItemWeight)(this.item.item_id,this.item.count)/1e3).toFixed(3),\" кг\"))),m?e.default.createElement(\"div\",{tabIndex:-1,className:\"text-wrap\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"p-14px fw400 dark lh120\",style:{whiteSpace:\"pre-line\"}},m)):e.default.createElement(e.default.Fragment,null)),e.default.createElement(\"ul\",{className:\"mini-modal-menu-wrap br4\"},this.owner_type===t.OWNER_TYPES.WORLD?e.default.createElement(e.default.Fragment,null,e.default.createElement(\"li\",{onClick:function(e){e.preventDefault(),i.transfer(t.OWNER_TYPES.PLAYER,n.CEF.id)}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default[\"pat-pass\"],width:\"24\",height:\"24\",alt:\"\"}),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-14px fw500 dark\"},\"Поднять\")),this.itemCfg.canSplit&&this.item.count>1&&e.default.createElement(\"li\",{onClick:function(e){e.preventDefault(),i.item.count<2||i.setState(_(_({},i.state),{},{rightClick:!1,split:1}))}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.divide,width:\"24\",height:\"24\",alt:\"\"}),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-14px fw500 dark\"},\"Разделить\"))):e.default.createElement(e.default.Fragment,null,this.inventory.state.isExchangeOpened&&e.default.createElement(\"li\",{onClick:function(e){e.preventDefault(),i.addToExchange()}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default[\"throw-away\"],width:\"24\",height:\"24\",alt:\"\"}),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-14px fw500 dark\"},\"Добавить в обмен\")),e.default.createElement(\"li\",{onClick:function(e){e.preventDefault(),i.dropItem()}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default[\"throw-away\"],width:\"24\",height:\"24\",alt:\"\"}),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-14px fw500 dark\"},\"Выбросить\")),this.itemCfg.type===t.ITEM_TYPE.BAGS&&(null===(r=t.CONTAINERS_DATA.find(function(e){return e.item_id===i.item.item_id}))||void 0===r?void 0:r.bag_sync)&&e.default.createElement(\"li\",{onClick:function(e){e.preventDefault(),i.selectToDisplay()}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default[\"throw-away\"],width:\"24\",height:\"24\",alt:\"\"}),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-14px fw500 dark\"},\"Отображать сумку\")),s?e.default.createElement(\"li\",{onClick:function(e){e.preventDefault(),s&&i.useItem(e)}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.use,width:\"24\",height:\"24\",alt:\"\"}),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-14px fw500 dark\"},this.inventory.state.weapons&&this.inventory.state.weapons.id===this.id?\"Снять с экипировки\":this.itemCfg.inHand?\"Взять в руки\":\"Использовать\")):e.default.createElement(e.default.Fragment,null),s&&this.itemCfg.type===t.ITEM_TYPE.WEAPON&&this.weaponCfg&&this.weaponCfg.addons?e.default.createElement(\"li\",{onClick:function(e){e.preventDefault(),s&&i.weaponMods(e)}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.use,width:\"24\",height:\"24\",alt:\"\"}),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-14px fw500 dark\"},\"Модификации\")):e.default.createElement(e.default.Fragment,null),this.itemCfg.canSplit&&this.item.count>1?e.default.createElement(\"li\",{onClick:function(e){e.preventDefault(),i.item.count<2||i.setState(_(_({},i.state),{},{rightClick:!1,split:1}))}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.divide,width:\"24\",height:\"24\",alt:\"\"}),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-14px fw500 dark\"},\"Разделить\")):e.default.createElement(e.default.Fragment,null),this.blocks.filter(function(e){return e.owner_type!==t.OWNER_TYPES.WORLD&&!(e.owner_type===i.owner_type&&e.owner_id===i.owner_id)}).map(function(r){return e.default.createElement(\"li\",{onClick:function(e){e.preventDefault(),i.transfer(r.owner_type,r.owner_id)},key:\"item_choice_\".concat(r.owner_type,\"_\").concat(r.owner_id)},e.default.createElement(\"img\",{tabIndex:-1,src:a.default[\"pat-pass\"],width:\"24\",height:\"24\",alt:\"\"}),r.owner_type===t.OWNER_TYPES.PLAYER&&r.owner_id===n.CEF.id?e.default.createElement(\"p\",{tabIndex:-1,className:\"p-14px fw500 dark\"},\"Взять\"):e.default.createElement(\"p\",{tabIndex:-1,className:\"p-14px fw500 dark\"},r.owner_type===t.OWNER_TYPES.PLAYER?\"Передать игроку\":[t.OWNER_TYPES.VEHICLE,t.OWNER_TYPES.VEHICLE_TEMP].includes(r.owner_type)?\"Положить в багажник\":\"Положить в\",\" \",r.name,\" \",r.desc))}),this.isMyInventory?this.drawEquipHotkeyChoice:e.default.createElement(e.default.Fragment,null)))))}},{key:\"positionTooltip\",get:function(){return{left:this.state.left+10,top:this.state.top+10}}},{key:\"render\",value:function(){var t=this;if(!this.item)return e.default.createElement(e.default.Fragment,null);var n=document.getElementById(\"item_continer_draggable_\".concat(this.props.owner_type,\"_\").concat(this.props.owner_id)),a=0,r=0;return n&&this.props.isDraggable&&(a=n.offsetLeft-n.offsetWidth/2,r=n.offsetTop-n.offsetHeight),e.default.createElement(e.default.Fragment,null,this.modal(),e.default.createElement(c.DraggableCore,{disabled:this.state.rightClick,key:\"\".concat(this.props.owner_type,\"_\").concat(this.props.owner_id,\"_\").concat(this.item.id,\"_\").concat(this.props.keyName),grid:[.5,.5],onStart:function(e,n){return t.startDrag(n)},onDrag:function(e,n){return t.onDrag(e,n)},onStop:function(e,n){return t.stopDrag(e,n)}},e.default.createElement(\"div\",{tabIndex:-1},this.state.rightClick?this.drawTooltip:e.default.createElement(e.default.Fragment,null),e.default.createElement(\"div\",{tabIndex:-1,className:\"inventory-item-main-drag\",style:{position:0!=this.state.position[1]&&0!=this.state.position[0]?\"static\":\"relative\",zIndex:0!=this.state.position[1]&&0!=this.state.position[0]?10006:10004,pointerEvents:0!=this.state.position[1]&&0!=this.state.position[0]?\"none\":\"auto\"}},e.default.createElement(\"div\",{tabIndex:-1,className:\"inventory-item-main-wrap br4\",onContextMenu:function(e){e.preventDefault(),console.log(e.pageY),t.setState({rightClick:!0,left:e.pageX,top:e.pageY})},ref:this.div,key:\"\".concat(this.props.owner_type,\"_\").concat(this.props.owner_id,\"_\").concat(this.item.id,\"_\").concat(this.props.keyName),onClick:function(e){e.preventDefault(),t.state.clickPress?t.useItem(e):t.setState({clickPress:!0},function(){setTimeout(function(){t.setState({clickPress:!1})},550)})},style:{transition:\"none\",top:0!=this.state.position[1]&&0!=this.state.position[0]?\"calc( \".concat((this.props.isDraggable,\"-2.08vw\"),\" + \").concat(this.state.position[1],\"vh - \").concat(r,\"px)\"):\"auto\",zIndex:0!=this.state.position[1]&&0!=this.state.position[0]?10006:10004,left:0!=this.state.position[1]&&0!=this.state.position[0]?\"calc( \".concat((this.props.isDraggable,\"-2.08vw\"),\" + \").concat(this.state.position[0],\"vw - \").concat(a,\"px)\"):\"auto\",position:\"absolute\",boxShadow:0!=this.state.position[1]&&0!=this.state.position[0]?\"24px 24px 24px rgba(0, 0, 0, 0.4)\":null,transform:0!=this.state.position[1]&&0!=this.state.position[0]?\"rotate(15deg)\":null}},e.default.createElement(\"div\",{tabIndex:-1,className:\"in-inventory-item-main-wrap br4\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"img-wrap\"},e.default.createElement(\"img\",{tabIndex:-1,src:\"http://cloud.detroitgta-5.ru/items/Item_\".concat(this.item.item_id,\".png\"),alt:\"\",draggable:\"false\"})),this.props.ishotkey?e.default.createElement(e.default.Fragment,null):e.default.createElement(\"i\",{tabIndex:-1,className:\"count p-14px fw700 upper\"},this.item.count)))))))}}])}(),j=exports.InventoryClass=function(o){function u(e){var a;return N(this,u),(a=R(this,u,[e])).isDragToHotkey=function(){return a.state.current[0]===t.OWNER_TYPES.PLAYER&&n.CEF.id===a.state.current[1]},a.currentItem=function(e,t){a.setState(_(_({},a.state),{},{current:[e,t]}))},a.enterContainer=function(e,t){a.setState(_(_({},a.state),{},{containerType:e,containerNumber:t||0}))},a.updateDragPos=function(e,t,n){if(-1==a.state.current[0]){var r=E(a.state.blocks),i=r.findIndex(function(n){return n.owner_type===e&&n.owner_id===t});i>-1&&(r[i].drag={x:(r[i].drag?r[i].drag.x:0)+n.x,y:(r[i].drag?r[i].drag.y:0)+n.y},a.setState({blocks:r}))}},a._exchangeInputTimer=null,a.state={hotkeys:[null,null,null,null,null],equip:{},containerType:-1,containerNumber:-1,current:[-1,-1]},a.openExchangeEv=s.CustomEvent.register(\"inventory:exchange\",function(e,t,n,r,i,l){a.openExchangeMenu(e,t,n,r,i,l)}),a.updateExchangeEv=s.CustomEvent.register(\"inventory:exchange:update\",function(e){a.setState({exchangeData:e})}),a.openInventoryEv=s.CustomEvent.register(\"inventory:open\",function(e,t,n,r,i){a.openInventory(e,t,n,r,i)}),a.dressEv=s.CustomEvent.register(\"dress:data\",function(e){a.setState({equip:e})}),s.CustomEvent.register(\"inventory:updateSelfBlock\",function(e){var r=a.state.blocks||[],i=r.findIndex(function(e){return e.owner_type==t.OWNER_TYPES.PLAYER&&e.owner_id==n.CEF.id});-1!==i&&r.splice(i,1),r.push(e),a.setState({blocks:r})}),a.updateInventoryEv=s.CustomEvent.register(\"inventory:update\",function(e,r,i,l,o){var s=(a.state.blocks||[]).filter(function(e){return e.show}).map(function(e){return[e.owner_type,e.owner_id,e.left,e.top,e.drag]}),c=a.state.blocks||[];e.map(function(e){var a=c.findIndex(function(t){return t.owner_type==e.owner_type&&t.owner_id==e.owner_id});a>-1?e.owner_type==t.OWNER_TYPES.PLAYER&&e.owner_id==n.CEF.id?(c[a].items=e.items,c[a].weight_max=e.weight_max):c[a]=e:c.push(e)}),c.map(function(e,a){e.owner_type==t.OWNER_TYPES.PLAYER&&e.owner_id==n.CEF.id||e.owner_type!=t.OWNER_TYPES.WORLD&&(r.find(function(t){return t.owner_type==e.owner_type&&t.owner_id==e.owner_id})||c.splice(a,1))}),a.setState({blocks:c,weapons:i,hotkeys:l,inv_level:o},function(){a.setState({blocks:a.state.blocks.map(function(e){var t=s.find(function(t){return t[0]===e.owner_type&&t[1]===e.owner_id});return t?_(_({},e),{},{show:!0,left:t[2],top:t[3],drag:t[4]}):e})})})}),a}return A(u,e.Component),C(u,[{key:\"showBlocks\",value:function(e,t,n,a){var r=E(this.state.blocks),i=r.findIndex(function(n){return n.owner_type===e&&n.owner_id===t});i>-1&&(r[i].show=!0,r[i].left=n,r[i].top=a,this.setState({blocks:r}),this.updateDragPos(e,t,{x:0,y:0}),this.currentItem(-1,-1))}},{key:\"openExchangeMenu\",value:function(e,t,n,a,r,i){this.setState({open:!0,isExchangeOpened:!0,equip:n,weapons:a,hotkeys:r,inv_level:i,exchangeData:t,blocks:[e]})}},{key:\"openInventory\",value:function(e,t,n,a,r){var i=this,l=(this.state.blocks||[]).filter(function(e){return e.show}).map(function(e){return[e.owner_type,e.owner_id,e.left,e.top,e.drag]});this.setState({open:!0,equip:t,blocks:e,weapons:n,hotkeys:a,inv_level:r},function(){i.setState({blocks:i.state.blocks.map(function(e){var t=l.find(function(t){return t[0]===e.owner_type&&t[1]===e.owner_id});return t?_(_({},e),{},{show:!0,left:t[2],top:t[3],drag:t[4]}):e})})})}},{key:\"componentWillMount\",value:function(){var e=this;n.CEF.test&&(this.renderTestBlock(),setTimeout(function(){e.open=!0},100))}},{key:\"componentWillUnmount\",value:function(){this.openInventoryEv&&this.openInventoryEv.destroy(),this.updateInventoryEv&&this.updateInventoryEv.destroy(),this.dressEv&&this.dressEv.destroy(),this.updateExchangeEv&&this.updateExchangeEv.destroy(),this.openExchangeEv&&this.openExchangeEv.destroy()}},{key:\"open\",get:function(){return this.state.open},set:function(e){this.setState({open:e})}},{key:\"getHotkeyItemSlot\",value:function(e){if(!this.state.hotkeys)return null;var t=this.state.hotkeys[e];return t?this.myInventory.items.find(function(e){return e[0]===t}):null}},{key:\"renderTestBlock\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,a=[],r=[(0,t.convertInventoryItemObjectToArray)({item_id:861,id:121,count:1,serial:\"123123\",extra:null}),(0,t.convertInventoryItemObjectToArray)({item_id:500,id:120,count:1,serial:\"123123\",extra:null})].concat(E(M(l.system.getRandomInt(1,2))));r.filter(function(e){return t.CONTAINERS_DATA.find(function(t){return t.item_id===e[1]})}).map(function(e){a.push({owner_id:e[0],owner_type:t.CONTAINERS_DATA.find(function(t){return t.item_id===e[1]}).owner_type,items:r,weight_max:8e4,name:\"Динамический инвентарь\",desc:\"#\".concat(e[0])})}),a.push({owner_id:n.CEF.id,owner_type:t.OWNER_TYPES.PLAYER,items:r,weight_max:8e4,name:\"Мой инвентарь\",desc:\"\"}),a.push({owner_id:0,owner_type:t.OWNER_TYPES.WORLD,items:M(l.system.getRandomInt(10,30)),weight_max:8e4,name:\"Предметы на земле\",desc:\"\"});for(var i=0;i<e;i++){var o=l.system.getRandomInt(1e3,1e4),s=M(l.system.getRandomInt(20,30));a.push({owner_id:o,owner_type:t.OWNER_TYPES.PLAYER,items:s,weight_max:8e4,name:\"Инвентарь игрока\",desc:\"#\".concat(o)})}for(var c=[],u=0;u<5;u++)if(l.system.getRandomInt(1,100)<50)c.push(null);else{var d=l.system.randomArrayElement(r);c.push(d[0])}this.setState({blocks:a,hotkeys:c,weapons:{item_id:500,id:120,ammo:120,serial:\"aqsasd\",max_ammo:100},exchangeData:{myData:{playerName:\"My\",money:0,items:M(l.system.getRandomInt(1,5)),readyStatus:t.ExchangeReadyStatus.NOT_READY},targetData:{playerName:\"Player\",money:0,items:M(l.system.getRandomInt(6,8)),readyStatus:t.ExchangeReadyStatus.NOT_READY}},isExchangeOpened:!0})}},{key:\"myInventory\",get:function(){var e=this.state.blocks.find(function(e){return e.owner_type===t.OWNER_TYPES.PLAYER&&e.owner_id==n.CEF.id}),a=0;return e.items.map(function(e){var n=(0,t.convertInventoryItemArrayToObject)(e);a+=(0,t.getItemWeight)(n.item_id,n.count)}),_(_({},e),{},{weight:a})}},{key:\"drawEmptyItem\",value:function(n,a){var r=this;return n?e.default.createElement(\"div\",{tabIndex:-1,className:\"\".concat(this.isDragToHotkey()&&null!=a?\"in-inventory-item-main-wrap\":\"\",\" inventory-item-main-wrap br4\"),key:n,onMouseEnter:function(){return null!=a?r.enterContainer(t.OWNER_TYPES.HOTKEY,a):null},style:{zIndex:10004},onMouseLeave:function(){return null!=a?r.enterContainer(-1,-1):null}}):e.default.createElement(\"div\",{tabIndex:-1,className:\"\".concat(this.isDragToHotkey()&&null!=a?\"in-inventory-item-main-wrap\":\"\",\" inventory-item-main-wrap br4\"),style:{zIndex:10004},onMouseEnter:function(){return null!=a?r.enterContainer(t.OWNER_TYPES.HOTKEY,a):null},onMouseLeave:function(){return null!=a?r.enterContainer(-1,-1):null}})}},{key:\"drawEmptyString\",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0,n=[],a=0;a<e;a++)n.push(this.drawEmptyItem(\"\".concat(t,\"_\").concat(a)));return n}},{key:\"drawInventoryContainerItems\",value:function(a,r,i){for(var l=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:7,s=(arguments.length>4&&arguments[4],arguments.length>5?arguments[5]:void 0),c=i.length;c>=o;)c-=o;return e.default.createElement(\"div\",{tabIndex:-1,style:{zIndex:10003},onMouseEnter:function(){return l.enterContainer(a,r)},onMouseLeave:function(){return l.enterContainer(-1,-1)},className:\"inventory-item-main-grid fr\".concat(o,\" \").concat(a===t.OWNER_TYPES.PLAYER&&n.CEF.id===r?\"h432\":\"h256\")},i.map(function(t,n){return e.default.createElement(\"div\",{tabIndex:-1,key:n},e.default.createElement(L,{inventory:l,item:t,owner_type:a,owner_id:r,keyName:n,isDraggable:s||null}))}),c?this.drawEmptyString(o-c):this.drawEmptyString(o),a==t.OWNER_TYPES.PLAYER&&n.CEF.id==r?e.default.createElement(e.default.Fragment,null,i.length<4*o?this.drawEmptyString(o):e.default.createElement(e.default.Fragment,null),i.length<3*o?this.drawEmptyString(o):e.default.createElement(e.default.Fragment,null),i.length<2*o?this.drawEmptyString(o):e.default.createElement(e.default.Fragment,null),i.length<1*o?this.drawEmptyString(o):e.default.createElement(e.default.Fragment,null)):e.default.createElement(e.default.Fragment,null))}},{key:\"drawExchangeItems\",value:function(n,a){for(var r=this,o=n.concat(),c=10-n.length,u=0;u<c;u++)o.push(null);return o.map(function(n,o){if(null===n)return e.default.createElement(\"div\",{tabIndex:-1,key:o});var c=null,u=n[0];return e.default.createElement(\"div\",{tabIndex:-1,key:o,className:a?\"\":\"allow-interactions\",onMouseEnter:function(e){var a=e.currentTarget.getBoundingClientRect();r.setState({mouseOnItem:{y:a.top,x:a.left,itemName:(0,t.getItemName)((0,t.convertInventoryItemArrayToObject)(n))}})},onMouseLeave:function(){r.setState({mouseOnItem:null})},onClick:a?function(){}:function(){null===c||l.system.timestampMS>c?c=l.system.timestampMS+700:(c=null,s.CustomEvent.triggerServer(\"inventory::exchange::delete\",u))}},e.default.createElement(\"img\",{tabIndex:-1,src:i.default[\"Item_\".concat(n[1])],alt:\"\"}),e.default.createElement(\"span\",{tabIndex:-1},n[2]))})}},{key:\"drawInventoryContainer\",value:function(n,r,i,l,o,s){var c=this,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:7,d=arguments.length>7&&void 0!==arguments[7]&&arguments[7],m=arguments.length>8?arguments[8]:void 0,f=arguments.length>9?arguments[9]:void 0;if(n===t.OWNER_TYPES.WORLD&&0===o.length)return e.default.createElement(\"div\",{tabIndex:-1,className:\"objects-around-wrapper dashed-border absence br4\",onMouseEnter:function(){return c.enterContainer(n,r)},onMouseLeave:function(){return c.enterContainer(-1,-1)}},e.default.createElement(\"div\",{tabIndex:-1,className:\"absence-wrap\"},e.default.createElement(\"img\",{tabIndex:-1,src:a.default[\"hands-around\"],width:\"24\",height:\"24\",alt:\"\"}),e.default.createElement(\"div\",{tabIndex:-1,className:\"text-wrap\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px fw700 ls-01 upper\"},\"Предметы вокруг вас\"),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px fw500 ls-01 upper fff-06\"},\"Радиус 5 метров\"))));var p=0;return o.map(function(e){var n=(0,t.convertInventoryItemArrayToObject)(e);p+=(0,t.getItemWeight)(n.item_id,n.count)}),e.default.createElement(\"div\",{tabIndex:-1,style:m?{position:\"absolute\",zIndex:10005,transform:\"translate(-50%, -100%)\",left:m.left,top:m.top}:{},className:m?\"storage-wrap noborder-darkbg extra-inventory-item-main-wrap br4\":\"\".concat(5==u?\"storage-wrap noborder-darkbg extra-inventory-item-main-wrap br4\":\"storage-wrap solid-border \".concat(d?\"storage-close\":\"\",\" br4\")),key:\"item_continer_\".concat(n,\"_\").concat(r),id:\"item_continer_\".concat(m?\"draggable\":\"\",\"_\").concat(n,\"_\").concat(r)},e.default.createElement(\"div\",{tabIndex:-1,className:\"topline-storage\"},n===t.OWNER_TYPES.WORLD?e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{tabIndex:-1,className:\"leftside\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px w700 ls-01 upper\"},\"Предметы вокруг вас\")),e.default.createElement(\"div\",{tabIndex:-1,className:\"rightside\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"p p-16px fw500 ls-01 upper fff-06\"},\"Радиус 5 метров\"))):m?e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{tabIndex:-1,className:\"leftside-row\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px w700 ls-01 upper\"},i),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px fw500 ls-01 upper fff-06\"},l)),e.default.createElement(\"div\",{tabIndex:-1,className:\"rightside-row\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px fw700 ls-01 upper fff-04\"},(p/1e3).toFixed(1),\" кг\"),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px fw500 ls-01 upper fff-02\"},\"из \",(s/1e3).toFixed(1),\" кг \",e.default.createElement(\"span\",{tabIndex:-1,onClick:function(e){e.preventDefault();var t=E(c.state.blocks),a=t.findIndex(function(e){return e.owner_type===n&&e.owner_id===r});a>-1&&(t[a].show=!1,c.setState({blocks:t}))}},\"[X]\")))):e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{tabIndex:-1,className:\"leftside\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px w700 ls-01 upper\"},i),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px fw500 ls-01 upper fff-06\"},l)),e.default.createElement(\"div\",{tabIndex:-1,className:\"mini-backpack-level\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"text-wrap\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px fw700 ls-01 upper fff-04\"},(p/1e3).toFixed(1),\" кг\"),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px fw500 ls-01 upper fff-02\"},\"из \",(s/1e3).toFixed(1),\" кг\")),e.default.createElement(\"div\",{tabIndex:-1,className:\"miniLevelBackpack br4\"},e.default.createElement(\"span\",{tabIndex:-1,style:{height:\"\".concat(Math.min(100,p/s*100),\"%\")},className:\"br4\"}))))),d?e.default.createElement(e.default.Fragment,null):this.drawInventoryContainerItems(n,r,o,u,n===t.OWNER_TYPES.WORLD,m?f:null))}},{key:\"updateBlock\",value:function(e){this.setState({blocks:[].concat(E(this.state.blocks),[e])})}},{key:\"removeBlock\",value:function(e,t){var n=E(this.state.blocks);n.splice(n.findIndex(function(n){return n.owner_type===e&&n.owner_id===t}),1),this.setState({blocks:n})}},{key:\"closeInventory\",value:function(){s.CustomEvent.triggerServer(\"inventory:close\"),n.CEF.gui.setGui(null)}},{key:\"setExchangeMyMoney\",value:function(e){var t=this.state.exchangeData;t.myData.money=e,this.setState({exchangeData:t})}},{key:\"handleExchangeInput\",value:function(e){var t=this,n=Number.parseInt(e);Number.isNaN(n)?this.setExchangeMyMoney(0):this.setExchangeMyMoney(n),this._exchangeInputTimer||(this._exchangeInputTimer=setTimeout(function(){s.CustomEvent.triggerServer(\"inventory::exchange::moneyChange\",t.state.exchangeData.myData.money),t._exchangeInputTimer=null},1e3))}},{key:\"getExchangeReadyButtonClass\",value:function(){var e=this.state.exchangeData;return e.myData.readyStatus===t.ExchangeReadyStatus.NOT_READY||e.targetData.readyStatus===t.ExchangeReadyStatus.NOT_READY?\"exchange-forReady\":\"exchange-forConfirm\"}},{key:\"getExchangeReadyButtonImg\",value:function(){var e=this.state.exchangeData;return e.myData.readyStatus>e.targetData.readyStatus?\"loading\":\"mark\"}},{key:\"render\",value:function(){var i=this,o=document.getElementById(\"inventory-main-wrap\")?document.getElementById(\"inventory-main-wrap\").offsetLeft:-1;return this.open?e.default.createElement(\"div\",{tabIndex:-1,className:\"body-inventory\",id:\"body-inventory\"},this.state.mouseOnItem&&e.default.createElement(\"div\",{tabIndex:-1,style:{position:\"absolute\",zIndex:10006,left:this.state.mouseOnItem.x,top:this.state.mouseOnItem.y-10}},this.state.mouseOnItem.itemName),e.default.createElement(\"div\",{tabIndex:-1,className:\"overflow\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"bg-dark\"}),e.default.createElement(\"div\",{tabIndex:-1,className:\"flydet flydet-inventory-man\"}),e.default.createElement(\"div\",{tabIndex:-1,className:this.state.isExchangeOpened?\"inventory-main-wrapper inventory-justify-canceler\":\"inventory-main-wrapper\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"inventory-main-wrap\",id:\"inventory-main-wrap\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"help-buttons-wrapper\",style:{display:-1!==o?\"flex\":\"none\",right:\"\".concat(o,\"px\")}},e.default.createElement(\"div\",{tabIndex:-1,className:\"help-item\"},e.default.createElement(\"img\",{tabIndex:-1,src:a.default[\"mouse-LKM\"],alt:\"\"}),e.default.createElement(\"p\",null,e.default.createElement(\"span\",{tabIndex:-1},\"Левая кнопка мыши\"),\"cнять одежду\")),e.default.createElement(\"div\",{tabIndex:-1,className:\"help-item\"},e.default.createElement(\"img\",{tabIndex:-1,src:a.default[\"mouse-RKM\"],alt:\"\"}),e.default.createElement(\"p\",null,e.default.createElement(\"span\",{tabIndex:-1},\"Правая кнопка мыши\"),\"убрать из быстрого доступа\"))),!this.state.isExchangeOpened&&e.default.createElement(\"div\",{tabIndex:-1,className:\"storage\"},this.state.blocks?this.state.blocks.filter(function(e){return!(e.owner_type===t.OWNER_TYPES.PLAYER&&e.owner_id===n.CEF.id||e.show||t.CONTAINERS_DATA.find(function(t){return t.owner_type===e.owner_type}))}).map(function(e,t){return i.drawInventoryContainer(e.owner_type,e.owner_id,e.name,e.desc,e.items,e.weight_max,7,e.closed,e.show?{left:e.left,top:e.top}:null)}):e.default.createElement(e.default.Fragment,null)),this.state.isExchangeOpened&&e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{tabIndex:-1,className:\"exchange-left\"},e.default.createElement(\"img\",{tabIndex:-1,src:r.default.boxesTop,className:\"exchange-left__boxesTop\",alt:\"\"}),e.default.createElement(\"img\",{tabIndex:-1,src:r.default.boxesBottom,className:\"exchange-left__boxesBottom\",alt:\"\"}),e.default.createElement(\"img\",{tabIndex:-1,src:a.default.exchangeImage,className:\"exchange-left__exchangeImage\",alt:\"\"}),e.default.createElement(\"div\",{tabIndex:-1,className:\"exchange-left-buttons\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"exchange-left-buttons__accept \".concat(this.getExchangeReadyButtonClass()),onClick:function(){s.CustomEvent.triggerServer(\"inventory::exchange::confirm\")}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default[this.getExchangeReadyButtonImg()],alt:\"\"}),e.default.createElement(\"span\",{tabIndex:-1},\"Подтвердить обмен\"),e.default.createElement(\"p\",null,\"Готово\")),e.default.createElement(\"div\",{tabIndex:-1,className:\"exchange-left-buttons__cancel\",onClick:function(){s.CustomEvent.triggerServer(\"inventory::exchange::decline\")}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.close,alt:\"\"}),\"Отказаться\")),e.default.createElement(\"div\",{tabIndex:-1,className:\"exchange-left__h1\"},\"Обмен с \",this.state.exchangeData.targetData.playerName),e.default.createElement(\"div\",{tabIndex:-1,className:\"exchange-left__title\"},\"Вы отдаете\"),e.default.createElement(\"div\",{tabIndex:-1,className:\"exchange-left-slots\"},this.drawExchangeItems(this.state.exchangeData.myData.items,this.state.exchangeData.myData.readyStatus!==t.ExchangeReadyStatus.NOT_READY)),e.default.createElement(\"div\",{tabIndex:-1,className:\"exchange-left-input\"},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.coin,alt:\"\"}),e.default.createElement(\"input\",{type:\"number\",placeholder:\"Введите сумму\",disabled:this.state.exchangeData.myData.readyStatus!==t.ExchangeReadyStatus.NOT_READY,onChange:function(e){return i.handleExchangeInput(e.currentTarget.value)},value:this.state.exchangeData.myData.money})),e.default.createElement(\"div\",{tabIndex:-1,className:\"exchange-left__title\"},\"Вы получаете\"),e.default.createElement(\"div\",{tabIndex:-1,className:\"exchange-left-slots\"},this.drawExchangeItems(this.state.exchangeData.targetData.items,!0)),e.default.createElement(\"div\",{tabIndex:-1,className:\"exchange-left-input\"},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.coin,alt:\"\"}),e.default.createElement(\"span\",{tabIndex:-1},this.state.exchangeData.targetData.money)))),!this.state.isExchangeOpened&&this.state.blocks?this.state.blocks.filter(function(e){return!(e.owner_type===t.OWNER_TYPES.PLAYER&&e.owner_id===n.CEF.id)&&e.show}).map(function(t,n){return e.default.createElement(e.default.Fragment,null,e.default.createElement(c.DraggableCore,{key:\"\".concat(t.owner_type,\"_\").concat(t.owner_id),grid:[.5,.5],onDrag:function(e,n){return i.updateDragPos(t.owner_type,t.owner_id,{x:n.deltaX,y:n.deltaY})},onStop:function(e,n){return i.updateDragPos(t.owner_type,t.owner_id,{x:n.deltaX,y:n.deltaY})}},i.drawInventoryContainer(t.owner_type,t.owner_id,t.name,t.desc,t.items,t.weight_max,7,t.closed,t.show?{left:(t.drag?t.drag.x:0)+t.left,top:(t.drag?t.drag.y:0)+t.top}:null,t.drag)))}):e.default.createElement(e.default.Fragment,null),e.default.createElement(\"div\",{tabIndex:-1,className:\"inventory-wrapper\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"storage-wrap br4\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"db p-16px fw500 ls-01 upper fff-06 tc\"},\"Ваш инвентарь\"),this.drawInventoryContainerItems(t.OWNER_TYPES.PLAYER,n.CEF.id,this.myInventory.items,5,!1)),e.default.createElement(\"div\",{tabIndex:-1,className:\"inventory-battlePass\",onClick:function(){i.closeInventory(),s.CustomEvent.triggerServer(\"battlePass:openInterface\")}},e.default.createElement(\"img\",{tabIndex:-1,src:r.default.battlePass,alt:\"\"}),e.default.createElement(\"div\",{tabIndex:-1,className:\"inventory-battlePass__title\"},\"Battle Pass\"),e.default.createElement(\"div\",{tabIndex:-1,className:\"inventory-battlePass__text\"},\"SUMMER EDITION!\")),this.state.hotkeys?e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{tabIndex:-1,className:\"storage-wrap inventory-quick-access br4\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"db p-16px fw500 ls-01 upper fff-06 tc\"},\"Быстрый доступ\"),e.default.createElement(\"div\",{tabIndex:-1,className:\"inventory-item-main-grid fr5 h80\"},this.state.hotkeys.map(function(a,r){if(!a)return i.drawEmptyItem(\"hotkey_\".concat(r),r);var l=i.getHotkeyItemSlot(r);return l?e.default.createElement(\"div\",{tabIndex:-1,key:\"hotkey_\".concat(r),onMouseEnter:function(){return i.enterContainer(t.OWNER_TYPES.HOTKEY,r)},onMouseLeave:function(){return i.enterContainer(-1,-1)}},e.default.createElement(L,{keyName:\"hotkey_\".concat(r),owner_type:t.OWNER_TYPES.PLAYER,owner_id:n.CEF.id,item:l,inventory:i,ishotkey:!0})):i.drawEmptyItem(\"hotkey_\".concat(r),r)})),e.default.createElement(\"div\",{tabIndex:-1,className:\"keys-quick-access\"},this.state.hotkeys.map(function(t,n){var a=!!t&&!!i.getHotkeyItemSlot(n);return e.default.createElement(\"div\",{tabIndex:-1,className:\"keys-quick-access-item \"+(a?\"active\":\"\"),key:\"hotkey_\".concat(n)},e.default.createElement(\"span\",{tabIndex:-1,className:\"br4\"},e.default.createElement(\"i\",{tabIndex:-1,className:\"br4\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px fw700 dark ls-01 upper tc\"},n+1))))})))):e.default.createElement(e.default.Fragment,null)),e.default.createElement(\"div\",{tabIndex:-1,className:\"capacity-backpack\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"progress-capacity-backpack br4\"},e.default.createElement(\"span\",{tabIndex:-1,className:\"br4\",style:{height:\"\".concat(Math.min(100,this.myInventory.weight/this.myInventory.weight_max*100),\"%\")}})),e.default.createElement(\"div\",{tabIndex:-1,className:\"num-capacity\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"p-18px fw700 fff-04 ls-01 upper\"},(this.myInventory.weight/1e3).toFixed(2)),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-18px fw700 fff-04 ls-01 upper\"},(this.myInventory.weight_max/1e3).toFixed(0),\" кг\")),e.default.createElement(\"div\",{tabIndex:-1,className:\"icon-backpack\"},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.backpack,width:\"24\",height:\"24\",alt:\"\"})),this.state.inv_level&&this.state.inv_level>=t.PLAYER_INVENTORY_MAX_LEVEL?e.default.createElement(e.default.Fragment,null):e.default.createElement(\"button\",{tabIndex:-1,className:\"increase-capacity-backpack br4\",onClick:function(e){e.preventDefault(),i.setState({addModal:!0})}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.add,width:\"24\",height:\"24\",alt:\"\"}))),e.default.createElement(\"div\",{tabIndex:-1,className:\"menu-inventory-wrap\",onMouseEnter:function(){return i.enterContainer(t.OWNER_TYPES.CLOTHES,n.CEF.id)},onMouseLeave:function(){return i.enterContainer(-1,-1)}},this.state.weapons?e.default.createElement(e.default.Fragment,null,e.default.createElement(L,{keyName:\"weapon_\".concat(0),owner_type:t.OWNER_TYPES.PLAYER,owner_id:n.CEF.id,item:this.myInventory.items.find(function(e){return e[0]===i.state.weapons.id}),inventory:this,ishotkey:!0}),e.default.createElement(\"div\",{tabIndex:-1,className:\"inventory-item-main-wrap br4\",onClick:function(e){e.preventDefault(),s.CustomEvent.triggerServer(\"inventory:reload:weapon\"),i.closeInventory()}},e.default.createElement(\"div\",{tabIndex:-1,className:\"in-inventory-item-main-wrap br4\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"img-wrap\"},e.default.createElement(\"img\",{tabIndex:-1,src:\"http://cloud.detroitgta-5.ru/items/Item_\".concat(t.inventoryShared.getWeaponConfigByItemId(this.state.weapons.item_id).ammo_box,\".png\"),alt:\"\",draggable:\"false\"})),e.default.createElement(\"i\",{tabIndex:-1,className:\"count p-14px fw700 upper\"},this.state.weapons.ammo)))):e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{tabIndex:-1,className:\"menu-inventory-item br4\"},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.gun,alt:\"\"})),e.default.createElement(\"div\",{tabIndex:-1,className:\"menu-inventory-item br4\"},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.magazine,alt:\"\"}))),this.drawEquipmentItem(\"armor\",960,\"body-armor\"),this.drawEquipmentItem(\"gloves\",949,\"gloves\"),e.default.createElement(\"div\",{tabIndex:-1,className:\"menu-inventory-item br4 empty\"}),e.default.createElement(\"div\",{tabIndex:-1,className:\"menu-inventory-item br4 empty\"}),this.drawEquipmentItem(\"hat\",954,\"hat\"),this.drawEquipmentItem(\"glasses\",955,\"glasses\"),this.drawEquipmentItem(\"ear\",956,\"earrings\"),this.drawEquipmentItem(\"accessorie\",958,\"tie\"),this.drawEquipmentItem(\"mask\",950,\"mask\"),this.drawEquipmentItem(\"torso\",951,\"clothes\"),this.drawEquipmentItem(\"bracelet\",959,\"bracelet\"),this.drawEquipmentItem(\"leg\",952,\"pants\"),this.drawEquipmentItem(\"watch\",957,\"watch\"),this.drawEquipmentItem(\"foot\",953,\"shoes\")))),this.state.addModal?e.default.createElement(\"div\",{tabIndex:-1,className:\"modal-increasing-capacity-inventory-wrapper active\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"modal-increasing-capacity-inventory-wrap br4\"},e.default.createElement(\"div\",{tabIndex:-1,className:\"close\",onClick:function(e){e.preventDefault(),i.setState({addModal:!1})}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default.close,width:\"24\",height:\"24\",alt:\"\"})),e.default.createElement(\"div\",{tabIndex:-1,className:\"img-wrap\"},e.default.createElement(\"img\",{tabIndex:-1,src:r.default.bag,alt:\"\",draggable:\"false\"})),e.default.createElement(\"div\",{tabIndex:-1,className:\"text-wrap\"},e.default.createElement(\"p\",{tabIndex:-1,className:\"p-44px fw800 fsi upper\"},(0,m.getDonateItemConfig)(7).name),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-18px fw400 lh180\"},(0,m.getDonateItemConfig)(7).desc),e.default.createElement(\"button\",{tabIndex:-1,className:\"br4\",disabled:this.state.inv_level&&this.state.inv_level>=t.PLAYER_INVENTORY_MAX_LEVEL,onClick:function(e){e.preventDefault(),i.setState({addModal:!1},function(){s.CustomEvent.triggerServer(\"mainmenu:buyShop\",7)})}},e.default.createElement(\"img\",{tabIndex:-1,src:a.default[\"shopping-cart\"],width:\"24\",height:\"24\",alt:\"\"}),e.default.createElement(\"p\",{tabIndex:-1,className:\"p-16px fw800 upper\"},l.system.numberFormat((0,m.getDonateItemConfig)(7).price),\" \",m.DONATE_MONEY_NAMES[2]))))):e.default.createElement(e.default.Fragment,null))):e.default.createElement(e.default.Fragment,null)}},{key:\"drawEquipmentItem\",value:function(t,n,r){var l=!!this.state.equip[t];return e.default.createElement(\"div\",{tabIndex:-1,className:\"menu-inventory-item br4\",onClick:function(e){e.preventDefault(),l&&s.CustomEvent.triggerServer(\"inventory:unequip_item\",n)}},e.default.createElement(\"img\",{tabIndex:-1,src:l?i.default[\"Item_\".concat(n)]:a.default[r],alt:\"\"}))}}])}(),q=(0,d.createStyles)({colorPrimary:{color:\"#000000\"},root:{marginTop:5,color:\"#C4C4C4\",height:16},markLabel:{color:\"#FFFFFFaa\",fontSize:\"0.7vw\"},markLabelActive:{color:\"#FFFFFFee\"},thumb:{height:16,width:16,borderRadius:8,backgroundColor:\"#E3256B\",marginTop:-7,\"&:focus, &:hover\":{boxShadow:\"0px 0px 30px #E3256B\"}},track:{backgroundColor:\"#E3256B\",boxShadow:\"0px 0px 3px #E3256B\"}}),B=(0,d.withStyles)(q)(d.Slider);"},"sourceMaps":null,"error":null,"hash":"bdcb8d6285105dc02ebbe8029092c7b8","cacheData":{"env":{}}}