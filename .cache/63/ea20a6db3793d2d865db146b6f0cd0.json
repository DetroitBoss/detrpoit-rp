{"id":"F399","dependencies":[{"name":"C:\\onyx_V2\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":45,"index":45},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\SortGarbage\\SortGarbage.tsx","resolved":"C:\\onyx_V2\\server\\node_modules\\react\\index.js"},{"name":"./style.less","loc":{"line":2,"column":7,"index":62},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\SortGarbage\\SortGarbage.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\SortGarbage\\style.less"},{"name":"./assets/*.png","loc":{"line":3,"column":16,"index":95},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\SortGarbage\\SortGarbage.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\SortGarbage\\assets\\*.png"},{"name":"./assets/*.svg","loc":{"line":4,"column":16,"index":130},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\SortGarbage\\SortGarbage.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\SortGarbage\\assets\\*.svg"},{"name":"./assets/categoryes/*.svg","loc":{"line":5,"column":21,"index":170},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\SortGarbage\\SortGarbage.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\SortGarbage\\assets\\categoryes\\*.svg"},{"name":"react-draggable","loc":{"line":6,"column":22,"index":222},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\SortGarbage\\SortGarbage.tsx","resolved":"C:\\onyx_V2\\server\\node_modules\\react-draggable\\build\\cjs\\cjs.js"},{"name":"../../modules/custom.event","loc":{"line":7,"column":28,"index":270},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\SortGarbage\\SortGarbage.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\modules\\custom.event.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=c(require(\"react\"));require(\"./style.less\");var t,r=i(require(\"./assets/*.png\")),n=i(require(\"./assets/*.svg\")),a=i(require(\"./assets/categoryes/*.svg\")),o=i(require(\"react-draggable\")),l=require(\"../../modules/custom.event\");function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(\"default\"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function s(e){return p(e)||m(e)||g(e)||f()}function f(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function m(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function p(e){if(Array.isArray(e))return b(e)}function d(e,t){return E(e)||v(e,t)||g(e,t)||y()}function y(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function g(e,t){if(e){if(\"string\"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,a,o,l,i=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw a}}return i}}function E(e){if(Array.isArray(e))return e}!function(e){e[e.PAPER=0]=\"PAPER\",e[e.GLASS=1]=\"GLASS\",e[e.CAN=2]=\"CAN\"}(t||(t={}));var A=function(){var i=d((0,e.useState)(null),2),u=i[0],c=i[1],f=d((0,e.useState)(null),2),m=f[0],p=f[1],y=d((0,e.useState)([{img:\"paper0\",position:{x:0,y:0},type:t.PAPER,completed:!1},{img:\"metal0\",position:{x:0,y:0},type:t.CAN,completed:!1},{img:\"paper1\",position:{x:0,y:0},type:t.PAPER,completed:!1},{img:\"glass1\",position:{x:0,y:0},type:t.GLASS,completed:!1},{img:\"paper0\",position:{x:0,y:0},type:t.PAPER,completed:!1},{img:\"metal1\",position:{x:0,y:0},type:t.CAN,completed:!1},{img:\"glass0\",position:{x:0,y:0},type:t.GLASS,completed:!1},{img:\"metal0\",position:{x:0,y:0},type:t.CAN,completed:!1},{img:\"glass0\",position:{x:0,y:0},type:t.GLASS,completed:!1}]),2),g=y[0],b=y[1],v=d((0,e.useState)([{color:\"White\",category:\"paper\",img:\"blueContainer\",imgFront:\"blueContainerFront\",type:t.PAPER},{color:\"White\",category:\"glass\",img:\"greenContainer\",imgFront:\"greenContainerFront\",type:t.GLASS},{color:\"White\",category:\"metal\",img:\"redContainer\",imgFront:\"redContainerFront\",type:t.CAN}]),1)[0],E=(0,e.useCallback)(function(e){c(e)},[]),A=(0,e.useCallback)(function(){0===g.filter(function(e){return!1===e.completed}).length&&l.CustomEvent.triggerServer(\"sanitation:sort:completedGame\")},[]),S=(0,e.useCallback)(function(e,t,r){var n=s(g);null!==m&&(v[m].type===n[r].type&&(n[r].position={x:t.x,y:t.y},n[r].completed=!0,b(n)),c(null),A())},[g,v,m,A]),P=(0,e.useCallback)(function(e){if(p(e),null!==u){var t=g[u],r=s(v);v[e].type===t.type?r[e].color=\"Green\":r[e].color=\"Red\"}},[u]),G=(0,e.useCallback)(function(e){s(v)[e].color=\"White\",p(null)},[]);return e.default.createElement(\"div\",{className:\"sortGarbage\"},e.default.createElement(\"img\",{src:r.default.backgroundImage,className:\"sortGarbage__backgroundImage\",alt:\"\"}),e.default.createElement(\"div\",{className:\"sortGarbage-titleTopLeft\"},e.default.createElement(\"span\",null,\"Рассортируй\",e.default.createElement(\"br\",null),\" мусор\"),e.default.createElement(\"p\",null,\"Хватайте мусор и кладите в мешок\")),e.default.createElement(\"div\",{className:\"sortGarbage-slots\"},g.map(function(t,n){return e.default.createElement(o.default,{key:n,defaultPosition:{x:0,y:0},position:t.position,onStart:function(){return E(n)},onStop:function(e,t){return S(e,t,n)}},e.default.createElement(\"div\",{className:\"sortGarbage-slots__\".concat(n)},e.default.createElement(\"img\",{src:r.default[t.img],alt:\"\"})))})),e.default.createElement(\"div\",{className:\"sortGarbage__bottomLeft\"},e.default.createElement(\"img\",{src:n.default.mouse,alt:\"\"}),\"Удерживайте ЛКМ, \",e.default.createElement(\"br\",null),\"чтобы перетаскивать вещи\"),e.default.createElement(\"div\",{className:\"sortGarbage-containers\"},v.map(function(t,n){return e.default.createElement(\"div\",{className:\"sortGarbage-containers-block\",key:n},e.default.createElement(\"img\",{src:a.default[\"\".concat(t.category).concat(t.color)],alt:\"\",className:\"sortGarbage-containers-block__category\"}),e.default.createElement(\"img\",{src:r.default[t.img],alt:\"\",className:\"sortGarbage-containers-block__container\"}),e.default.createElement(\"img\",{src:r.default[t.imgFront],alt:\"\",className:\"sortGarbage-containers-block__containerFront\"}),e.default.createElement(\"div\",{className:\"sortGarbage-containers-block__drop\",onPointerEnter:function(){return P(n)},onPointerLeave:function(){return G(n)}}))})))},S=exports.default=A;"},"sourceMaps":null,"error":null,"hash":"346ea3bb38c6d20058516f94414ce876","cacheData":{"env":{}}}