{"id":"ygZC","dependencies":[{"name":"C:\\onyx_V2\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"../../system","loc":{"line":1,"column":23,"index":23},"parent":"C:\\onyx_V2\\server\\src\\server\\modules\\advancedNpc\\dialogs\\dialogs.ts","resolved":"C:\\onyx_V2\\server\\src\\server\\modules\\system.ts"},{"name":"../../custom.event","loc":{"line":2,"column":28,"index":68},"parent":"C:\\onyx_V2\\server\\src\\server\\modules\\advancedNpc\\dialogs\\dialogs.ts","resolved":"C:\\onyx_V2\\server\\src\\server\\modules\\custom.event.ts"},{"name":"./converters","loc":{"line":3,"column":35,"index":126},"parent":"C:\\onyx_V2\\server\\src\\server\\modules\\advancedNpc\\dialogs\\dialogs.ts","resolved":"C:\\onyx_V2\\server\\src\\server\\modules\\advancedNpc\\dialogs\\converters.ts"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDialog = getDialog;\nexports.openDialog = openDialog;\nexports.registerDialog = registerDialog;\nvar _system = require(\"../../system\");\nvar _custom = require(\"../../custom.event\");\nvar _converters = require(\"./converters\");\nconst registeredDialogs = new Map();\nfunction registerDialog(dialog) {\n  if (registeredDialogs.has(dialog.id)) {\n    _system.system.debug.error(`Attempt to register dialog with already exist identifier (${dialog.id})`);\n    return;\n  }\n  registeredDialogs.set(dialog.id, dialog);\n}\nfunction getDialog(id) {\n  return registeredDialogs.get(id);\n}\nconst openedPlayerDialogs = new Map();\nfunction openDialog(player, dialog, dialogNpc) {\n  openedPlayerDialogs.set(player, dialog);\n  _custom.CustomEvent.triggerClient(player, 'dialogs:open', dialog.characterName, (0, _converters.mapDialogNodeToDto)(dialog.nodes[0]), dialogNpc.getNpcData());\n}\n_custom.CustomEvent.registerCef('dialogs:answer', (player, nodeId, answerIndex) => {\n  if (!player.user) {\n    return;\n  }\n  const dialog = openedPlayerDialogs.get(player);\n  if (!dialog) {\n    return _system.system.debug.error(`[Dialogs] (dialogs:answer) - not found dialog. ${player.user.id} ${nodeId} ${answerIndex}`);\n  }\n  const node = dialog.nodes.find(node => node.id === nodeId);\n  if (!node) {\n    openedPlayerDialogs.delete(player);\n    return player.user.setGui(null);\n  }\n  const answer = node.answers[answerIndex];\n  if (!answer) {\n    openedPlayerDialogs.delete(player);\n    return player.user.setGui(null);\n  }\n  if (answer.onReply) {\n    answer.onReply.handle(player, dialog);\n  }\n  if (answer.isExit) {\n    return _custom.CustomEvent.triggerClient(player, 'dialogs:close');\n  }\n  const nextNodeId = typeof answer.toNode === \"number\" ? answer.toNode : answer.toNode.getNextNode(player);\n  const nextNode = dialog.nodes.find(node => node.id === nextNodeId);\n  _custom.CustomEvent.triggerCef(player, 'dialogs::setNode', (0, _converters.mapDialogNodeToDto)(nextNode));\n});\nmp.events.add('playerQuit', player => {\n  openedPlayerDialogs.delete(player);\n});"},"sourceMaps":{"js":{"mappings":[{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":9,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":9,"column":4}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":9,"column":11}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":9,"column":14}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":9,"column":21}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":4}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":11}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":14}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":21}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":4}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":15}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":18}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":25}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":7,"column":6},"generated":{"line":12,"column":6}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":7,"column":23},"generated":{"line":12,"column":23}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":7,"column":26},"generated":{"line":12,"column":26}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":7,"column":30},"generated":{"line":12,"column":30}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":7,"column":33},"generated":{"line":12,"column":33}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":7,"column":33},"generated":{"line":12,"column":34}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":7,"column":51},"generated":{"line":12,"column":35}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":8,"column":6},"generated":{"line":13,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":8,"column":16},"generated":{"line":13,"column":9}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":8,"column":30},"generated":{"line":13,"column":23}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":8,"column":31},"generated":{"line":13,"column":24}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":8,"column":45},"generated":{"line":13,"column":30}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":8,"column":45},"generated":{"line":13,"column":32}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":9,"column":4},"generated":{"line":14,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":9,"column":8},"generated":{"line":14,"column":6}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":9,"column":25},"generated":{"line":14,"column":23}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":9,"column":26},"generated":{"line":14,"column":24}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":9,"column":29},"generated":{"line":14,"column":27}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":9,"column":30},"generated":{"line":14,"column":28}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":9,"column":36},"generated":{"line":14,"column":34}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":9,"column":37},"generated":{"line":14,"column":35}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":9,"column":39},"generated":{"line":14,"column":37}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":9,"column":40},"generated":{"line":14,"column":38}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":9,"column":42},"generated":{"line":14,"column":40}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":10,"column":8},"generated":{"line":15,"column":4}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":10,"column":14},"generated":{"line":15,"column":18}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":10,"column":15},"generated":{"line":15,"column":19}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":10,"column":20},"generated":{"line":15,"column":24}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":10,"column":21},"generated":{"line":15,"column":25}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":10,"column":26},"generated":{"line":15,"column":30}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":15,"column":31}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":10,"column":88},"generated":{"line":15,"column":92}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":10,"column":94},"generated":{"line":15,"column":98}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":10,"column":95},"generated":{"line":15,"column":99}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":10,"column":97},"generated":{"line":15,"column":101}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":10,"column":100},"generated":{"line":15,"column":104}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":10,"column":101},"generated":{"line":15,"column":105}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":11,"column":8},"generated":{"line":16,"column":4}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":18,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":14,"column":21},"generated":{"line":18,"column":19}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":14,"column":22},"generated":{"line":18,"column":20}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":14,"column":25},"generated":{"line":18,"column":23}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":14,"column":26},"generated":{"line":18,"column":24}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":14,"column":32},"generated":{"line":18,"column":30}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":14,"column":33},"generated":{"line":18,"column":31}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":14,"column":35},"generated":{"line":18,"column":33}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":14,"column":37},"generated":{"line":18,"column":35}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":14,"column":43},"generated":{"line":18,"column":41}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":18,"column":42}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":19,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":17,"column":6},"generated":{"line":20,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":17,"column":16},"generated":{"line":20,"column":9}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":17,"column":25},"generated":{"line":20,"column":18}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":17,"column":26},"generated":{"line":20,"column":19}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":17,"column":36},"generated":{"line":20,"column":21}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":17,"column":36},"generated":{"line":20,"column":23}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":21,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":18,"column":11},"generated":{"line":21,"column":9}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":18,"column":28},"generated":{"line":21,"column":26}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":18,"column":29},"generated":{"line":21,"column":27}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":18,"column":32},"generated":{"line":21,"column":30}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":18,"column":33},"generated":{"line":21,"column":31}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":18,"column":35},"generated":{"line":21,"column":33}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":18,"column":36},"generated":{"line":21,"column":34}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":22,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":23,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":23,"column":6}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":21,"column":25},"generated":{"line":23,"column":25}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":21,"column":28},"generated":{"line":23,"column":28}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":21,"column":32},"generated":{"line":23,"column":32}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":21,"column":35},"generated":{"line":23,"column":35}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":21,"column":35},"generated":{"line":23,"column":36}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":21,"column":55},"generated":{"line":23,"column":37}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":22,"column":6},"generated":{"line":24,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":22,"column":16},"generated":{"line":24,"column":9}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":22,"column":26},"generated":{"line":24,"column":19}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":22,"column":27},"generated":{"line":24,"column":20}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":22,"column":43},"generated":{"line":24,"column":26}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":22,"column":45},"generated":{"line":24,"column":28}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":22,"column":59},"generated":{"line":24,"column":34}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":22,"column":61},"generated":{"line":24,"column":36}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":22,"column":82},"generated":{"line":24,"column":45}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":22,"column":82},"generated":{"line":24,"column":47}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":25,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":23,"column":23},"generated":{"line":25,"column":21}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":23,"column":24},"generated":{"line":25,"column":22}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":23,"column":27},"generated":{"line":25,"column":25}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":23,"column":28},"generated":{"line":25,"column":26}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":23,"column":34},"generated":{"line":25,"column":32}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":23,"column":36},"generated":{"line":25,"column":34}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":23,"column":42},"generated":{"line":25,"column":40}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":23,"column":43},"generated":{"line":25,"column":41}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":26,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":25,"column":15},"generated":{"line":26,"column":21}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":26,"column":22}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":25,"column":29},"generated":{"line":26,"column":35}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":25,"column":30},"generated":{"line":26,"column":36}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":25,"column":36},"generated":{"line":26,"column":42}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":25,"column":38},"generated":{"line":26,"column":44}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":25,"column":52},"generated":{"line":26,"column":58}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":25,"column":54},"generated":{"line":26,"column":60}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":25,"column":60},"generated":{"line":26,"column":66}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":25,"column":61},"generated":{"line":26,"column":67}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":25,"column":74},"generated":{"line":26,"column":80}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":26,"column":82}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":26,"column":86}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":26},"generated":{"line":26,"column":116}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":27},"generated":{"line":26,"column":118}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":33},"generated":{"line":26,"column":124}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":34},"generated":{"line":26,"column":125}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":39},"generated":{"line":26,"column":130}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":40},"generated":{"line":26,"column":131}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":41},"generated":{"line":26,"column":132}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":42},"generated":{"line":26,"column":133}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":43},"generated":{"line":26,"column":134}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":45},"generated":{"line":26,"column":136}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":54},"generated":{"line":26,"column":145}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":55},"generated":{"line":26,"column":146}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":65},"generated":{"line":26,"column":156}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":65},"generated":{"line":26,"column":157}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":67},"generated":{"line":26,"column":158}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":26,"column":68},"generated":{"line":26,"column":159}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":28,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":11},"generated":{"line":28,"column":19}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":28,"column":20}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":28,"column":31}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":28,"column":32}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":40},"generated":{"line":28,"column":48}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":42},"generated":{"line":28,"column":50}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":43},"generated":{"line":28,"column":51}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":59},"generated":{"line":28,"column":57}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":61},"generated":{"line":28,"column":59}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":75},"generated":{"line":28,"column":65}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":77},"generated":{"line":28,"column":67}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":96},"generated":{"line":28,"column":78}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":29,"column":100},"generated":{"line":28,"column":83}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":29,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":29,"column":6}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":29,"column":7}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":30,"column":15},"generated":{"line":29,"column":13}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":30,"column":16},"generated":{"line":29,"column":14}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":30,"column":20},"generated":{"line":29,"column":18}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":30,"column":22},"generated":{"line":29,"column":20}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":30,"column":4}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":32,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":32,"column":8}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":34,"column":16},"generated":{"line":32,"column":14}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":34,"column":19},"generated":{"line":32,"column":17}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":34,"column":38},"generated":{"line":32,"column":36}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":34,"column":39},"generated":{"line":32,"column":37}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":34,"column":42},"generated":{"line":32,"column":40}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":34,"column":43},"generated":{"line":32,"column":41}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":34,"column":49},"generated":{"line":32,"column":47}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":34,"column":50},"generated":{"line":32,"column":48}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":33,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":33,"column":6}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":33,"column":7}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":35,"column":15},"generated":{"line":33,"column":13}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":35,"column":17},"generated":{"line":33,"column":15}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":34,"column":4}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":15},"generated":{"line":34,"column":11}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":21},"generated":{"line":34,"column":25}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":22},"generated":{"line":34,"column":26}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":27},"generated":{"line":34,"column":31}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":28},"generated":{"line":34,"column":32}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":33},"generated":{"line":34,"column":37}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":34},"generated":{"line":34,"column":38}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":84},"generated":{"line":34,"column":88}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":90},"generated":{"line":34,"column":94}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":91},"generated":{"line":34,"column":95}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":95},"generated":{"line":34,"column":99}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":96},"generated":{"line":34,"column":100}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":98},"generated":{"line":34,"column":102}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":102},"generated":{"line":34,"column":106}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":108},"generated":{"line":34,"column":112}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":112},"generated":{"line":34,"column":116}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":123},"generated":{"line":34,"column":127}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":125},"generated":{"line":34,"column":129}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":36,"column":126},"generated":{"line":34,"column":130}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":36,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":36,"column":8}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":14},"generated":{"line":36,"column":12}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":17},"generated":{"line":36,"column":15}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":23},"generated":{"line":36,"column":21}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":24},"generated":{"line":36,"column":22}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":29},"generated":{"line":36,"column":27}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":30},"generated":{"line":36,"column":28}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":34},"generated":{"line":36,"column":32}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":35},"generated":{"line":36,"column":33}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":39},"generated":{"line":36,"column":37}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":43},"generated":{"line":36,"column":41}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":47},"generated":{"line":36,"column":45}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":48},"generated":{"line":36,"column":46}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":50},"generated":{"line":36,"column":48}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":55},"generated":{"line":36,"column":53}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":61},"generated":{"line":36,"column":59}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":39,"column":62},"generated":{"line":36,"column":60}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":37,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":37,"column":6}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":37,"column":7}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":37,"column":11}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":40,"column":15},"generated":{"line":37,"column":13}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":38,"column":4}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":41,"column":27},"generated":{"line":38,"column":23}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":41,"column":28},"generated":{"line":38,"column":24}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":41,"column":34},"generated":{"line":38,"column":30}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":41,"column":35},"generated":{"line":38,"column":31}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":41,"column":41},"generated":{"line":38,"column":37}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":41,"column":42},"generated":{"line":38,"column":38}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":39,"column":4}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":42,"column":15},"generated":{"line":39,"column":11}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":42,"column":21},"generated":{"line":39,"column":17}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":42,"column":22},"generated":{"line":39,"column":18}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":42,"column":26},"generated":{"line":39,"column":22}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":42,"column":27},"generated":{"line":39,"column":23}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":42,"column":33},"generated":{"line":39,"column":29}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":42,"column":34},"generated":{"line":39,"column":30}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":42,"column":38},"generated":{"line":39,"column":34}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":42,"column":39},"generated":{"line":39,"column":35}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":41,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":45,"column":10},"generated":{"line":41,"column":8}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":45,"column":16},"generated":{"line":41,"column":14}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":45,"column":19},"generated":{"line":41,"column":17}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":45,"column":23},"generated":{"line":41,"column":21}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":45,"column":24},"generated":{"line":41,"column":22}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":45,"column":31},"generated":{"line":41,"column":29}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":45,"column":32},"generated":{"line":41,"column":30}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":45,"column":43},"generated":{"line":41,"column":41}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":45,"column":44},"generated":{"line":41,"column":42}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":42,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":42,"column":6}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":46,"column":9},"generated":{"line":42,"column":7}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":46,"column":15},"generated":{"line":42,"column":13}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":46,"column":17},"generated":{"line":42,"column":15}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":43,"column":4}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":47,"column":27},"generated":{"line":43,"column":23}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":47,"column":28},"generated":{"line":43,"column":24}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":47,"column":34},"generated":{"line":43,"column":30}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":47,"column":35},"generated":{"line":43,"column":31}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":47,"column":41},"generated":{"line":43,"column":37}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":47,"column":42},"generated":{"line":43,"column":38}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":44,"column":4}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":48,"column":15},"generated":{"line":44,"column":11}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":48,"column":21},"generated":{"line":44,"column":17}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":48,"column":22},"generated":{"line":44,"column":18}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":48,"column":26},"generated":{"line":44,"column":22}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":48,"column":27},"generated":{"line":44,"column":23}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":48,"column":33},"generated":{"line":44,"column":29}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":48,"column":34},"generated":{"line":44,"column":30}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":48,"column":38},"generated":{"line":44,"column":34}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":48,"column":39},"generated":{"line":44,"column":35}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":46,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":51,"column":8},"generated":{"line":46,"column":6}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":51,"column":14},"generated":{"line":46,"column":12}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":51,"column":15},"generated":{"line":46,"column":13}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":51,"column":22},"generated":{"line":46,"column":20}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":51,"column":24},"generated":{"line":46,"column":22}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":47,"column":4}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":52,"column":14},"generated":{"line":47,"column":10}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":52,"column":15},"generated":{"line":47,"column":11}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":52,"column":22},"generated":{"line":47,"column":18}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":52,"column":23},"generated":{"line":47,"column":19}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":52,"column":29},"generated":{"line":47,"column":25}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":52,"column":30},"generated":{"line":47,"column":26}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":52,"column":36},"generated":{"line":47,"column":32}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":52,"column":38},"generated":{"line":47,"column":34}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":52,"column":44},"generated":{"line":47,"column":40}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":52,"column":45},"generated":{"line":47,"column":41}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":49,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":49,"column":6}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":55,"column":14},"generated":{"line":49,"column":12}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":55,"column":15},"generated":{"line":49,"column":13}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":55,"column":21},"generated":{"line":49,"column":19}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":55,"column":23},"generated":{"line":49,"column":21}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":56,"column":8},"generated":{"line":50,"column":4}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":56,"column":15},"generated":{"line":50,"column":11}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":56,"column":26},"generated":{"line":50,"column":30}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":56,"column":27},"generated":{"line":50,"column":31}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":56,"column":40},"generated":{"line":50,"column":44}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":56,"column":41},"generated":{"line":50,"column":45}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":56,"column":47},"generated":{"line":50,"column":51}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":56,"column":49},"generated":{"line":50,"column":53}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":56,"column":64},"generated":{"line":50,"column":68}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":56,"column":65},"generated":{"line":50,"column":69}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":52,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":10},"generated":{"line":52,"column":8}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":20},"generated":{"line":52,"column":18}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":23},"generated":{"line":52,"column":21}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":30},"generated":{"line":52,"column":28}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":36},"generated":{"line":52,"column":34}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":37},"generated":{"line":52,"column":35}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":43},"generated":{"line":52,"column":41}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":48},"generated":{"line":52,"column":46}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":56},"generated":{"line":52,"column":54}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":59},"generated":{"line":52,"column":57}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":65},"generated":{"line":52,"column":63}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":66},"generated":{"line":52,"column":64}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":72},"generated":{"line":52,"column":70}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":75},"generated":{"line":52,"column":73}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":81},"generated":{"line":52,"column":79}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":82},"generated":{"line":52,"column":80}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":88},"generated":{"line":52,"column":86}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":89},"generated":{"line":52,"column":87}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":100},"generated":{"line":52,"column":98}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":101},"generated":{"line":52,"column":99}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":107},"generated":{"line":52,"column":105}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":59,"column":108},"generated":{"line":52,"column":106}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":4},"generated":{"line":53,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":10},"generated":{"line":53,"column":8}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":18},"generated":{"line":53,"column":16}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":21},"generated":{"line":53,"column":19}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":27},"generated":{"line":53,"column":25}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":28},"generated":{"line":53,"column":26}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":33},"generated":{"line":53,"column":31}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":34},"generated":{"line":53,"column":32}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":38},"generated":{"line":53,"column":36}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":39},"generated":{"line":53,"column":37}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":43},"generated":{"line":53,"column":41}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":47},"generated":{"line":53,"column":45}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":51},"generated":{"line":53,"column":49}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":52},"generated":{"line":53,"column":50}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":54},"generated":{"line":53,"column":52}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":59},"generated":{"line":53,"column":57}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":69},"generated":{"line":53,"column":67}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":60,"column":70},"generated":{"line":53,"column":68}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":4},"generated":{"line":54,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":15},"generated":{"line":54,"column":21}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":16},"generated":{"line":54,"column":22}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":26},"generated":{"line":54,"column":32}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":27},"generated":{"line":54,"column":33}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":33},"generated":{"line":54,"column":39}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":35},"generated":{"line":54,"column":41}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":53},"generated":{"line":54,"column":59}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":55},"generated":{"line":54,"column":61}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":55},"generated":{"line":54,"column":65}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":73},"generated":{"line":54,"column":95}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":74},"generated":{"line":54,"column":97}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":82},"generated":{"line":54,"column":105}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":83},"generated":{"line":54,"column":106}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":61,"column":84},"generated":{"line":54,"column":107}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":55,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":62,"column":1},"generated":{"line":55,"column":1}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":55,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":64,"column":0},"generated":{"line":56,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":64,"column":2},"generated":{"line":56,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":64,"column":3},"generated":{"line":56,"column":3}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":64,"column":9},"generated":{"line":56,"column":9}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":64,"column":10},"generated":{"line":56,"column":10}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":64,"column":13},"generated":{"line":56,"column":13}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":64,"column":14},"generated":{"line":56,"column":14}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":64,"column":26},"generated":{"line":56,"column":26}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":64,"column":29},"generated":{"line":56,"column":28}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":64,"column":45},"generated":{"line":56,"column":34}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":64,"column":49},"generated":{"line":56,"column":38}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":57,"column":2}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":65,"column":23},"generated":{"line":57,"column":21}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":65,"column":24},"generated":{"line":57,"column":22}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":65,"column":30},"generated":{"line":57,"column":28}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":65,"column":31},"generated":{"line":57,"column":29}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":65,"column":37},"generated":{"line":57,"column":35}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":65,"column":38},"generated":{"line":57,"column":36}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":66,"column":0},"generated":{"line":58,"column":0}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":66,"column":1},"generated":{"line":58,"column":1}},{"source":"modules/advancedNpc/dialogs/dialogs.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":58,"column":2}}],"sources":{"modules/advancedNpc/dialogs/dialogs.ts":"import {system} from \"../../system\";\nimport {Dialog} from \"./interfaces/dialog\";\nimport {IDialogNpc} from \"./interfaces/IDialogNpc\";\nimport {CustomEvent} from \"../../custom.event\";\nimport {mapDialogNodeToDto} from \"./converters\";\n\nconst registeredDialogs = new Map<string, Dialog>();\nexport function registerDialog(dialog: Dialog) {\n    if (registeredDialogs.has(dialog.id)) {\n        system.debug.error(`Attempt to register dialog with already exist identifier (${dialog.id})`);\n        return;\n    }\n\n    registeredDialogs.set(dialog.id, dialog);\n}\n\nexport function getDialog(id: string) {\n    return registeredDialogs.get(id);\n}\n\nconst openedPlayerDialogs = new Map<PlayerMp, Dialog>();\nexport function openDialog(player: PlayerMp, dialog: Dialog, dialogNpc: IDialogNpc) {\n    openedPlayerDialogs.set(player, dialog);\n\n    CustomEvent.triggerClient(player, 'dialogs:open', dialog.characterName,\n        mapDialogNodeToDto(dialog.nodes[0]), dialogNpc.getNpcData());\n}\n\nCustomEvent.registerCef('dialogs:answer', (player: PlayerMp, nodeId: number, answerIndex: number) => {\n    if (!player.user) {\n        return;\n    }\n\n    const dialog = openedPlayerDialogs.get(player);\n    if (!dialog) {\n        return system.debug.error(`[Dialogs] (dialogs:answer) - not found dialog. ${player.user.id} ${nodeId} ${answerIndex}`);\n    }\n\n    const node = dialog.nodes.find(node => node.id === nodeId);\n    if (!node) {\n        openedPlayerDialogs.delete(player);\n        return player.user.setGui(null);\n    }\n\n    const answer = node.answers[answerIndex];\n    if (!answer) {\n        openedPlayerDialogs.delete(player);\n        return player.user.setGui(null);\n    }\n\n    if (answer.onReply) {\n        answer.onReply.handle(player, dialog);\n    }\n\n    if (answer.isExit) {\n        return CustomEvent.triggerClient(player, 'dialogs:close');\n    }\n\n    const nextNodeId = typeof answer.toNode === \"number\" ? answer.toNode : answer.toNode.getNextNode(player);\n    const nextNode = dialog.nodes.find(node => node.id === nextNodeId);\n    CustomEvent.triggerCef(player, 'dialogs::setNode', mapDialogNodeToDto(nextNode));\n});\n\nmp.events.add('playerQuit', (player: PlayerMp) => {\n    openedPlayerDialogs.delete(player);\n});\n\n\n\n"},"lineCount":null}},"error":null,"hash":"26bb9e170546bd8f29a5c241e8a97567","cacheData":{"env":{}}}