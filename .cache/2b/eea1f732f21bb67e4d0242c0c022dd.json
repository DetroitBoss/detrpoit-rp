{"id":"fwiM","dependencies":[{"name":"D:\\DETROIT\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"../ClothShop/style.less","loc":{"line":1,"column":7,"index":7},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\TattooShop\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\ClothShop\\style.less"},{"name":"react","loc":{"line":2,"column":33,"index":68},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\TattooShop\\index.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react\\index.js"},{"name":"../../../shared/system","loc":{"line":3,"column":27,"index":105},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\TattooShop\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\system.ts"},{"name":"../../modules/custom.event","loc":{"line":4,"column":28,"index":160},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\TattooShop\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\custom.event.ts"},{"name":"../../../shared/tattoos","loc":{"line":5,"column":30,"index":221},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\TattooShop\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\tattoos.ts"},{"name":"../../../shared/economy","loc":{"line":6,"column":62,"index":311},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\TattooShop\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\economy.ts"},{"name":"../../modules/CEF","loc":{"line":7,"column":20,"index":359},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\TattooShop\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\CEF.ts"},{"name":"./../Fuel/assets/bg.svg","loc":{"line":8,"column":15,"index":396},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\TattooShop\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\Fuel\\assets\\bg.svg"},{"name":"../ClothShop/assets/lblur.png","loc":{"line":9,"column":17,"index":441},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\TattooShop\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\ClothShop\\assets\\lblur.png"},{"name":"./assets/*.svg","loc":{"line":10,"column":18,"index":493},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\TattooShop\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\TattooShop\\assets\\*.svg"},{"name":"./../ClothShop/assets/check.svg","loc":{"line":11,"column":18,"index":530},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\TattooShop\\index.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\ClothShop\\assets\\check.svg"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.TattooShop=void 0,require(\"../ClothShop/style.less\");var t=d(require(\"react\")),e=require(\"../../../shared/system\"),r=require(\"../../modules/custom.event\"),o=require(\"../../../shared/tattoos\"),a=require(\"../../../shared/economy\"),n=require(\"../../modules/CEF\"),s=u(require(\"./../Fuel/assets/bg.svg\")),i=u(require(\"../ClothShop/assets/lblur.png\")),l=u(require(\"./assets/*.svg\")),c=u(require(\"./../ClothShop/assets/check.svg\"));function u(t){return t&&t.__esModule?t:{default:t}}function f(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(f=function(t){return t?r:e})(t)}function d(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||\"object\"!=typeof t&&\"function\"!=typeof t)return{default:t};var r=f(e);if(r&&r.has(t))return r.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(\"default\"!==n&&Object.prototype.hasOwnProperty.call(t,n)){var s=a?Object.getOwnPropertyDescriptor(t,n):null;s&&(s.get||s.set)?Object.defineProperty(o,n,s):o[n]=t[n]}return o.default=t,r&&r.set(t,o),o}function m(t){return(m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function p(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,y(o.key),o)}}function v(t,e,r){return e&&p(t.prototype,e),r&&p(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function y(t){var e=g(t,\"string\");return\"symbol\"===m(e)?e:String(e)}function g(t,e){if(\"object\"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||\"default\");if(\"object\"!==m(o))return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}function _(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&b(t,e)}function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=O();return function(){var r,o=T(t);if(e){var a=T(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return S(this,r)}}function S(t,e){if(e&&(\"object\"===m(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return C(t)}function C(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function O(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=exports.TattooShop=function(u){_(d,t.Component);var f=E(d);function d(t){var e;return h(this,d),(e=f.call(this,t)).state={selectedSector:\"ZONE_TORSO\",selectedItem:0,name:\"Партак\",type:0,tattoos:n.CEF.test?[[\"mpbusiness_overlays\",\"MP_Buis_M_Chest_001\"],[\"mpbeach_overlays\",\"MP_Bea_M_Back_000\"]]:null,data:n.CEF.test?[{item_id:1,price:1e6},{item_id:2,price:2e4}]:null,donate:0,show:n.CEF.test},e.ev=r.CustomEvent.register(\"cef:tattoo_shop:init\",function(t,r,o,a,n,s){e.setState({selectedItem:0,show:!0,id:t,name:r,type:o,data:a||[],tattoos:n||[],donate:s})}),e}return v(d,[{key:\"componentWillUnmount\",value:function(){this.ev&&this.ev.destroy()}},{key:\"selectTattoo\",value:function(t){if(this.setState({selectedItem:t}),t>=1e5){var e=o.tattoosShared.findTattoo(this.state.tattoos[t-1e5][0],this.state.tattoos[t-1e5][1]);r.CustomEvent.triggerClient(\"tattoo:preview\",JSON.stringify(e))}else r.CustomEvent.triggerClient(\"tattoo:preview\",JSON.stringify(t?o.tattoosShared.getTattoo(t):null))}},{key:\"selectCategory\",value:function(t){this.setState({selectedSector:t}),this.selectTattoo(0),r.CustomEvent.triggerClient(\"tattoo:category\",t)}},{key:\"close\",value:function(){r.CustomEvent.triggerClient(\"tattoo:exit\")}},{key:\"getCurrent\",value:function(){var t=this;if(this.state.selectedItem)return this.state.data.find(function(e){return e.item_id==t.state.selectedItem})}},{key:\"currentTattooExists\",value:function(t){var e=t||this.getCurrent();if(!e)return!1;var r=o.tattoosShared.getTattoo(e.item_id);return!!this.state.tattoos.find(function(t){return t[0]===r.collection&&(t[1]===r.overlay_male||t[1]===r.overlay_female)})}},{key:\"render\",value:function(){var n=this;if(!this.state.show)return t.default.createElement(t.default.Fragment,null);if(!this.state.data)return t.default.createElement(t.default.Fragment,null);if(!this.state.tattoos)return t.default.createElement(t.default.Fragment,null);var u=this.currentTattooExists()||this.state.selectedItem>=1e5,f=0;if(u)if(this.currentTattooExists())f=this.getCurrent()?this.getCurrent().price*a.tattooRemoveCostMultipler:0;else{var d=o.tattoosShared.findTattoo(this.state.tattoos[this.state.selectedItem-1e5][0],this.state.tattoos[this.state.selectedItem-1e5][1]);d&&(f=d.price*a.tattooRemoveCostMultipler)}var m=this.state.data?this.state.data.filter(function(t){return o.tattoosShared.getTattoo(t.item_id)&&o.tattoosShared.getTattoo(t.item_id).zone==n.state.selectedSector}):[];return t.default.createElement(t.default.Fragment,null,t.default.createElement(\"div\",{className:\"clothes_browser\"},t.default.createElement(\"div\",{className:\"clothes_grid\"}),t.default.createElement(\"img\",{src:i.default,style:{position:\"absolute\",left:0,width:\"35vw\",height:\"100vh\"}}),t.default.createElement(\"img\",{src:i.default,style:{transform:\"rotate(180deg)\",position:\"absolute\",right:0,width:\"35vw\",height:\"100vh\"}}),t.default.createElement(\"div\",{className:\"clothes_bg\"},t.default.createElement(\"img\",{src:s.default})),t.default.createElement(\"div\",{className:\"clothes_main\"},t.default.createElement(\"div\",{className:\"clothes_left\"},t.default.createElement(\"h1\",null,\"Тату салон\"),t.default.createElement(\"h2\",null,this.state.name),t.default.createElement(\"div\",{className:\"clothes_items\"},\"used\"==this.state.selectedSector?this.state.tattoos.map(function(e,r){var a=o.tattoosShared.findTattoo(e[0],e[1]);return t.default.createElement(\"div\",{key:r,className:\"clothes_item \".concat(r+1e5==n.state.selectedItem?\"clothes_item_select\":\"\"),onClick:function(){n.selectTattoo(r+1e5)}},a.name)}):m.filter(function(t){return o.tattoosShared.getTattoo(t.item_id)&&!n.state.tattoos.find(function(e){return e[0]===o.tattoosShared.getTattoo(t.item_id).collection&&(e[1]===o.tattoosShared.getTattoo(t.item_id).overlay_male||e[1]===o.tattoosShared.getTattoo(t.item_id).overlay_female)})}).map(function(e,r){return t.default.createElement(\"div\",{key:r,className:\"clothes_item \".concat(e.item_id==n.state.selectedItem?\"clothes_item_select\":\"\"),onClick:function(){n.selectTattoo(e.item_id)}},o.tattoosShared.getTattoo(e.item_id)?o.tattoosShared.getTattoo(e.item_id).name:\"Старая татуировка\")}))),t.default.createElement(\"div\",{className:\"clothes_center\"},this.state.selectedItem?t.default.createElement(t.default.Fragment,null,t.default.createElement(\"h1\",null,this.state.donate?\"\".concat(a.DONATE_MONEY_NAMES[3],\" \"):\"$\",e.systemUtil.numberFormat(u?f:this.getCurrent()?this.getCurrent().price:0)),t.default.createElement(\"p\",null,u?o.tattoosShared.findTattoo(this.state.tattoos[this.state.selectedItem-1e5][0],this.state.tattoos[this.state.selectedItem-1e5][1]).name:o.tattoosShared.getTattoo(this.getCurrent().item_id)?o.tattoosShared.getTattoo(this.getCurrent().item_id).name:\"Старая татуировка\"),t.default.createElement(\"div\",{className:\"clothes_buy\",onClick:function(t){u?r.CustomEvent.triggerServer(\"tattoo:remove\",n.state.id,n.state.selectedItem-1e5,f):r.CustomEvent.triggerServer(\"tattoo:buy\",n.state.id,n.state.selectedItem)}},t.default.createElement(\"img\",{src:c.default}),u?\"Свести\":\"Набить\")):null),t.default.createElement(\"div\",{className:\"clothes_right\"},o.tattoosShared.categorys.map(function(e,r){return t.default.createElement(\"div\",{key:r,className:\"clothes_parts\"},e[0],t.default.createElement(\"img\",{src:l.default[\"p\".concat(e[1])],className:n.state.selectedSector==e[1]?\"clothes_parts_select\":\"\",onClick:function(){return n.selectCategory(e[1])}}))}),t.default.createElement(\"div\",{className:\"clothes_parts\"},\"Набитые тату\",t.default.createElement(\"img\",{src:l.default.tatto,className:\"used\"==this.state.selectedSector?\"clothes_parts_select\":\"\",onClick:function(){return n.selectCategory(\"used\")}}))))))}}]),d}();"},"sourceMaps":null,"error":null,"hash":"20b03ad25dad213b09ce4bdef7980ab9","cacheData":{"env":{}}}