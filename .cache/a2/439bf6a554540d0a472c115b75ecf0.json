{"id":"sDV5","dependencies":[{"name":"C:\\onyx_V2\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":33,"index":33},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\dice.tsx","resolved":"C:\\onyx_V2\\server\\node_modules\\react\\index.js"},{"name":"./buttons.less","loc":{"line":2,"column":7,"index":50},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\dice.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\buttons.less"},{"name":"../../modules/CEF","loc":{"line":3,"column":20,"index":89},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\dice.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\modules\\CEF.ts"},{"name":"./assets/img/*.png","loc":{"line":4,"column":16,"index":127},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\dice.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\assets\\img\\*.png"},{"name":"./assets/img/*.svg","loc":{"line":5,"column":16,"index":166},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\dice.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\assets\\img\\*.svg"},{"name":"../../modules/system","loc":{"line":6,"column":23,"index":212},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\dice.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\modules\\system.ts"},{"name":"../../modules/custom.event","loc":{"line":7,"column":28,"index":265},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\dice.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\modules\\custom.event.ts"},{"name":"../../../shared/system","loc":{"line":8,"column":27,"index":323},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\dice.tsx","resolved":"C:\\onyx_V2\\server\\src\\shared\\system.ts"},{"name":"react-draggable","loc":{"line":9,"column":22,"index":372},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\dice.tsx","resolved":"C:\\onyx_V2\\server\\node_modules\\react-draggable\\build\\cjs\\cjs.js"},{"name":"../../../shared/casino/dice","loc":{"line":10,"column":109,"index":501},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\dice.tsx","resolved":"C:\\onyx_V2\\server\\src\\shared\\casino\\dice.ts"},{"name":"../SocketSync","loc":{"line":11,"column":27,"index":560},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\CasinoRoulette\\dice.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\SocketSync\\index.tsx"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ROLL_SIDES=exports.CasinoDice=void 0;var e=m(require(\"react\"));require(\"./buttons.less\");var t=require(\"../../modules/CEF\"),a=o(require(\"./assets/img/*.png\")),n=o(require(\"./assets/img/*.svg\")),r=require(\"../../modules/system\"),l=require(\"../../modules/custom.event\"),s=require(\"../../../shared/system\"),i=o(require(\"react-draggable\")),c=require(\"../../../shared/casino/dice\"),u=require(\"../SocketSync\");function o(e){return e&&e.__esModule?e:{default:e}}function d(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(\"default\"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=r?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(n,l,s):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}function f(e){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function p(e){return b(e)||v(e)||y(e)||E()}function E(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function y(e,t){if(e){if(\"string\"==typeof e)return h(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===a&&e.constructor&&(a=e.constructor.name),\"Map\"===a||\"Set\"===a?Array.from(e):\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(e,t):void 0}}function v(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function b(e){if(Array.isArray(e))return h(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach(function(t){N(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function N(e,t,a){return(t=O(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function C(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function S(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function F(e,t,a){return t&&S(e.prototype,t),a&&S(e,a),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function O(e){var t=_(e,\"string\");return\"symbol\"===f(t)?t:String(t)}function _(e,t){if(\"object\"!==f(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||\"default\");if(\"object\"!==f(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}function D(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&P(e,t)}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=T();return function(){var a,n=A(e);if(t){var r=A(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return I(this,a)}}function I(e,t){if(t&&(\"object\"===f(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return j(e)}function j(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function T(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=exports.ROLL_SIDES=[\"front\",\"top\",\"left\",\"right\",\"bottom\",\"back\"],R=exports.CasinoDice=function(o){D(m,e.Component);var d=k(m);function m(e){var a;return C(this,m),(a=d.call(this,e)).state={selectedBet:0,roll:{delay:!1,count:0,res:0,prev:\"front\",curr:\"front\",same:!1,score:[0,0]},showwin:0,showwinCr:0,seconds:t.CEF.test?100:0,data:t.CEF.test?{players:[{name:\"Xander Test\",id:11,stage:\"wait\"},null,{name:\"Xander Second\",id:1,stage:\"dice\",time:c.DICE_PLAY_TIME},{name:\"Xander Test\",id:3,stage:\"ok\"}],id:0,stage:\"dice\",bet:1e3,betsum:1e3}:null,show:t.CEF.test,ready:t.CEF.test,player:!0},a.ev=l.CustomEvent.register(\"casino:dice:data\",function(e,t){a.setState({data:e,show:!0,player:t})}),a.ev2=l.CustomEvent.register(\"casino:dice:win\",function(e,t,n){a.notifyWin(e,t,n)}),a.ev3=l.CustomEvent.register(\"casino:dice:crRew\",function(e){a.notifyWinCr(e)}),a.ev4=l.CustomEvent.register(\"casino:dice:ready\",function(){a.setState({ready:!0})}),a.int=setInterval(function(){a.state.seconds>0&&a.setState({seconds:a.state.seconds-1});var e=a.state.data;e.players.map(function(e){e&&\"dice\"==e.stage&&e.time>0&&e.time--}),a.setState({data:e})},1e3),t.CEF.test&&setTimeout(function(){a.notifyWin(1e4,\"Xander Test\",!0)},5e3),a}return F(m,[{key:\"drawPlayerData\",value:function(s,i){var c=this;return e.default.createElement(\"div\",{className:\"dice-player-item seat-\".concat(i,\" \").concat(s?\"dpi-\".concat(s.stage):\"\"),key:\"dice_player_\".concat(i)},s?e.default.createElement(e.default.Fragment,null,\"dice\"===s.stage?e.default.createElement(\"div\",{className:\"dpi-timer\"},e.default.createElement(\"div\",null,\"Бросает кубик\"),e.default.createElement(\"div\",null,r.system.secondsToString(s.time))):e.default.createElement(e.default.Fragment,null),\"wait\"!==s.stage?e.default.createElement(\"div\",{className:\"dpi-bid animated fadeInUp\"},e.default.createElement(\"div\",{className:\"casino-chips small mb40\"},e.default.createElement(\"img\",{src:a.default.chip,alt:\"\"}),e.default.createElement(\"p\",null,r.system.numberFormat(this.state.data.bet)))):e.default.createElement(e.default.Fragment,null),e.default.createElement(\"div\",{className:\"dpi-name mb24\"},s.name.split(\" \")[0],e.default.createElement(\"br\",null),s.name.split(\" \")[1]),e.default.createElement(\"p\",{className:\"casino-mini-font mb40\"},\"ID \",s.id),s.scoreArr&&s.scoreArr.length>0?e.default.createElement(\"div\",{className:\"dpi-enter\"},s.scoreArr.map(function(t,a){return e.default.createElement(\"div\",{className:\"dice-my-img\",key:\"player_\".concat(s.id,\"_roll_res_\").concat(a)},e.default.createElement(\"img\",{src:n.default[\"dice-\"+t],alt:\"\"}))})):e.default.createElement(\"div\",{className:\"dpi-enter\"},t.CEF.id===s.id?e.default.createElement(e.default.Fragment,null,\"wait\"===s.stage&&\"wait\"===this.state.data.stage?e.default.createElement(e.default.Fragment,null,\"wait\"===this.state.data.stage?e.default.createElement(\"button\",{className:\"dpi-button\",onClick:function(e){e.preventDefault(),l.CustomEvent.triggerServer(\"casino:dice:bet\",c.state.data.id)}},e.default.createElement(\"p\",null,\"Поставить\")):e.default.createElement(e.default.Fragment,null)):e.default.createElement(e.default.Fragment,null),\"wait\"===s.stage&&\"wait\"!==this.state.data.stage?e.default.createElement(\"button\",{className:\"dpi-button border\",disabled:!0},e.default.createElement(\"p\",null,\"Не участвуете\")):e.default.createElement(e.default.Fragment,null),\"ready\"===s.stage?e.default.createElement(e.default.Fragment,null,[\"wait\",\"ready\"].includes(this.state.data.stage)?e.default.createElement(\"button\",{className:\"dpi-button border\",onClick:function(e){e.preventDefault(),l.CustomEvent.triggerServer(\"casino:dice:betCancel\",c.state.data.id)}},e.default.createElement(\"p\",null,\"Отмена\")):e.default.createElement(\"button\",{className:\"dpi-button border\"},e.default.createElement(\"p\",null,\"Ожидание\"))):e.default.createElement(e.default.Fragment,null)):e.default.createElement(e.default.Fragment,null,\"wait\"===s.stage?e.default.createElement(e.default.Fragment,null,\"wait\"===this.state.data.stage?e.default.createElement(\"button\",{className:\"dpi-button border\",disabled:!0},e.default.createElement(\"p\",null,\"Не готов\")):e.default.createElement(\"button\",{className:\"dpi-button border\",disabled:!0},e.default.createElement(\"p\",null,\"Не участвует\"))):e.default.createElement(e.default.Fragment,null),\"ready\"===s.stage?e.default.createElement(\"button\",{className:\"dpi-button border\",disabled:!0},e.default.createElement(\"p\",null,\"Ожидание\")):e.default.createElement(e.default.Fragment,null),\"ok\"===s.stage?e.default.createElement(\"button\",{className:\"dpi-button border to-success\",disabled:!0},e.default.createElement(\"img\",{src:n.default.success,alt:\"\"}),e.default.createElement(\"p\",null,\"Ожидание\")):e.default.createElement(e.default.Fragment,null)))):e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"dpi-enter\"},e.default.createElement(\"button\",{className:\"dpi-button border\",disabled:!0},e.default.createElement(\"p\",null,\"Свободное место\")))))}},{key:\"rollDice\",value:function(e){var t=this,a=L[e-1],n=this.state.roll.curr,r=this.state.roll.score;r.push(e),this.setState({roll:{delay:this.state.roll.delay,count:this.state.roll.count+1,res:this.state.roll.res+e,prev:n,curr:a,same:n==a&&!this.state.roll.same,score:r}},function(){var a,n;null!==(a=t.myData)&&void 0!==a&&a.time&&\"dice\"===(null===(n=t.myData)||void 0===n?void 0:n.stage)&&(t.state.roll.count>c.DICE_PLAY_COUNT||(t.state.roll.count===c.DICE_PLAY_COUNT&&(t.setState({roll:w(w({},t.state.roll),{},{delay:!0})}),setTimeout(function(){t.setState({roll:w(w({},t.state.roll),{},{delay:!1})})},4e3)),l.CustomEvent.triggerServer(\"casino:dice:roll\",t.state.data.id,e)))})}},{key:\"clearRoll\",value:function(){this.setState({roll:{delay:!1,count:0,res:0,prev:\"front\",curr:\"front\",same:!1,score:[]}})}},{key:\"rollGen\",value:function(){this.rollDice(r.system.getRandomInt(1,6))}},{key:\"notifyWin\",value:function(e,t,a){var n=this;this.int2&&clearTimeout(this.int2),this.setState({showwin:e,showwinname:t,showwinme:a}),this.int2=setTimeout(function(){n.setState({showwin:0})},5e3)}},{key:\"notifyWinCr\",value:function(e){var t=this;this.int3&&clearTimeout(this.int3),this.setState({showwinCr:e}),this.int3=setTimeout(function(){t.setState({showwinCr:0})},5e3)}},{key:\"table\",get:function(){var e;return c.DICE_TABLES_LIST[null===(e=this.state.data)||void 0===e?void 0:e.id]}},{key:\"myData\",get:function(){var e;return null===(e=this.state.data)||void 0===e?void 0:e.players.find(function(e){return(null==e?void 0:e.id)===t.CEF.id})}},{key:\"componentWillUnmount\",value:function(){this.ev&&this.ev.destroy(),this.ev2&&this.ev2.destroy(),this.ev3&&this.ev3.destroy(),this.ev4&&this.ev4.destroy(),this.int&&clearInterval(this.int),this.int2&&clearTimeout(this.int2),this.int3&&clearTimeout(this.int3)}},{key:\"updateData\",value:function(e){var a=this,n=this.state.data,r=w({},e);\"ready\"===r.stage&&\"wait\"==n.stage&&(this.setState({seconds:c.DICE_PLAY_START_TIME}),this.clearRoll()),r.players.map(function(e,l){if(e){var s=n.players[l];if(s){var i=e.stage,u=s.stage;[\"ready\",\"wait\"].includes(r.stage)&&(e.score=0,e.scoreArr=[]),\"dice\"===i&&\"ready\"===u?(e.time=c.DICE_PLAY_TIME*c.DICE_PLAY_COUNT,e.id===t.CEF.id&&a.clearRoll()):\"dice\"==i&&\"dice\"===u&&(e.time=s.time)}}}),this.setState({data:r,show:!0,selectedBet:\"wait\"===r.stage?this.state.selectedBet:0})}},{key:\"renderCroupier\",value:function(){var n=this;return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"cg1-buttons-grid-left animated fadeInLeft waiteone\"},e.default.createElement(\"div\",{className:\"casino-button-info-item\"},e.default.createElement(\"p\",{className:\"cg1-keyboard mr24\"},\"ESC\"),e.default.createElement(\"p\",null,\"Уйти\"))),e.default.createElement(\"div\",{className:\"casino-balance\"},e.default.createElement(\"p\",{className:\"casino-mini-font mb24\"},\"Баланс\"),e.default.createElement(\"div\",{className:\"casino-chips large mb24\"},e.default.createElement(\"img\",{src:a.default.chip,alt:\"\"}),e.default.createElement(\"p\",null,s.systemUtil.numberFormat(t.CEF.user.chips))),e.default.createElement(\"p\",{className:\"cgc-count-buy\"},\"$\",s.systemUtil.numberFormat(t.CEF.user.money))),this.state.seconds?e.default.createElement(\"div\",{className:\"animated zoomIn\"},e.default.createElement(\"div\",{className:\"cg-timer\"},e.default.createElement(\"p\",{className:\"casino-mini-font mb8\"},\"До начала игры\"),e.default.createElement(\"p\",{className:\"casino-timer-font\"},r.system.secondsToString(this.state.seconds)))):e.default.createElement(e.default.Fragment,null),e.default.createElement(\"div\",{className:\"dice-players\"},e.default.createElement(\"i\",{className:\"fly-dice-shadow\"}),p(this.state.data.players).reverse().map(function(e,t){return n.drawPlayerData(e,t)})),\"wait\"===this.state.data.stage?e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"croupier-enter-bid-wrapper\"},e.default.createElement(\"p\",{className:\"casino-mini-font mb40\"},\"Выберите ставку\"),e.default.createElement(\"div\",{className:\"croupier-enter-bid-grid mb40\"},c.DICE_TABLES_LIST[this.state.data.id].betsSum.map(function(s){return e.default.createElement(\"button\",{key:\"dice_bet_list_\".concat(s),className:\"\".concat(n.state.selectedBet===s?\"bid-enter\":\"\"),onClick:function(e){return e.preventDefault(),\"wait\"!==n.state.data.stage?t.CEF.alert.setAlert(\"error\",\"Игра уже запущена\"):n.state.data.players.find(function(e){return e&&\"wait\"!==e.stage})?t.CEF.alert.setAlert(\"error\",\"Нельзя сменить ставку пока кто то из игроков уже её сделал\"):(n.setState({selectedBet:s}),void l.CustomEvent.triggerServer(\"casino:dice:setBet\",n.state.data.id,s))}},e.default.createElement(\"div\",{className:\"casino-chips\"},e.default.createElement(\"img\",{src:a.default[(0,c.getDiceBetClassName)(s)],alt:\"\"}),e.default.createElement(\"p\",null,r.system.numberFormat(s))))})),e.default.createElement(\"button\",{className:\"dpi-button\",onClick:function(e){return e.preventDefault(),n.state.selectedBet?n.state.data.players.filter(function(e){return e}).length<2?t.CEF.alert.setAlert(\"error\",\"Недостаточно участников\"):0===n.state.data.players.filter(function(e){return e&&\"ready\"===e.stage}).length?t.CEF.alert.setAlert(\"error\",\"Не все участники готовы\"):void l.CustomEvent.triggerServer(\"casino:dice:start\",n.state.data.id):t.CEF.alert.setAlert(\"error\",\"Ставка не выбрана\")}},e.default.createElement(\"p\",null,\"Начать игру\")))):e.default.createElement(e.default.Fragment,null),this.state.showwinCr?e.default.createElement(\"div\",{className:\"croupier-chips\"},e.default.createElement(\"p\",{className:\"casino-mini-font mb8\"},\"Вы заработали\"),e.default.createElement(\"div\",{className:\"casino-chips\"},e.default.createElement(\"img\",{src:a.default.chip,alt:\"\"}),e.default.createElement(\"p\",null,r.system.numberFormat(this.state.showwinCr)))):e.default.createElement(e.default.Fragment,null))}},{key:\"renderPlayer\",value:function(){var n,l,i=this;return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"cg1-buttons-grid-left animated fadeInLeft waiteone\"},e.default.createElement(\"div\",{className:\"casino-button-info-item\"},e.default.createElement(\"p\",{className:\"cg1-keyboard mr24\"},\"ESC\"),e.default.createElement(\"p\",null,\"Уйти\")),e.default.createElement(\"div\",{className:\"casino-button-info-item\"},e.default.createElement(\"p\",{className:\"cg1-keyboard\"},\"ЛКМ\"),e.default.createElement(\"p\",null,\"Бросок\"))),e.default.createElement(\"div\",{className:\"casino-balance\"},e.default.createElement(\"p\",{className:\"casino-mini-font mb24\"},\"Баланс\"),e.default.createElement(\"div\",{className:\"casino-chips large mb24\"},e.default.createElement(\"img\",{src:a.default.chip,alt:\"\"}),e.default.createElement(\"p\",null,s.systemUtil.numberFormat(t.CEF.user.chips))),e.default.createElement(\"p\",{className:\"cgc-count-buy\"},\"$\",s.systemUtil.numberFormat(t.CEF.user.money))),this.state.seconds?e.default.createElement(\"div\",{className:\"animated zoomIn\"},e.default.createElement(\"div\",{className:\"cg-timer\"},e.default.createElement(\"p\",{className:\"casino-mini-font mb8\"},\"До начала игры\"),e.default.createElement(\"p\",{className:\"casino-timer-font\"},r.system.secondsToString(this.state.seconds)))):e.default.createElement(e.default.Fragment,null),[\"dice\"].includes(null===(n=this.myData)||void 0===n?void 0:n.stage)?e.default.createElement(\"div\",{className:\"cg-timer cg-dice-z animated fadeIn\"},e.default.createElement(\"p\",{className:\"casino-mini-font mb8\"},\"Осталось бросков\"),e.default.createElement(\"p\",{className:\"casino-timer-font\"},c.DICE_PLAY_COUNT-this.state.roll.count,\" / \",c.DICE_PLAY_COUNT)):e.default.createElement(e.default.Fragment,null),this.state.data.bet?e.default.createElement(\"div\",{className:\"dice-bid\"},e.default.createElement(\"p\",{className:\"casino-mini-font mb8\"},\"Ставка\"),e.default.createElement(\"div\",{className:\"casino-chips\"},e.default.createElement(\"img\",{src:a.default.chip,alt:\"\"}),e.default.createElement(\"p\",null,r.system.numberFormat(this.state.data.bet)))):e.default.createElement(e.default.Fragment,null),e.default.createElement(\"div\",{className:\"dice-players\"},e.default.createElement(\"i\",{className:\"fly-dice-shadow\"}),this.state.data.players.map(function(e,t){return i.drawPlayerData(e,t)})),[\"dice\"].includes(null===(l=this.myData)||void 0===l?void 0:l.stage)||this.state.roll.delay?e.default.createElement(e.default.Fragment,null,this.rollItem):e.default.createElement(e.default.Fragment,null))}},{key:\"rollItem\",get:function(){var t,a=this;return e.default.createElement(\"div\",{className:\"dice_roll_shadow animated fadeIn\"},e.default.createElement(i.default,{key:\"dice_roll_item\",positionOffset:{x:\"\".concat(45,\"%\"),y:\"47%\"},disabled:\"ok\"===(null===(t=this.myData)||void 0===t?void 0:t.stage),onStop:function(e){var t,n;null!==(t=a.myData)&&void 0!==t&&t.time&&\"dice\"===(null===(n=a.myData)||void 0===n?void 0:n.stage)&&(a.state.roll.count>=c.DICE_PLAY_COUNT||a.rollGen())}},e.default.createElement(\"div\",{className:\"dice-cast-wrapper\"},e.default.createElement(\"section\",{className:\"dice-container\"},e.default.createElement(\"div\",{className:\"dice-item show-\".concat(this.state.roll.curr).concat(this.state.roll.same?\" show-same\":\"\")},e.default.createElement(\"figure\",{className:\"front\"}),e.default.createElement(\"figure\",{className:\"back\"}),e.default.createElement(\"figure\",{className:\"right\"}),e.default.createElement(\"figure\",{className:\"left\"}),e.default.createElement(\"figure\",{className:\"top\"}),e.default.createElement(\"figure\",{className:\"bottom\"}))))))}},{key:\"render\",value:function(){var t=this;return this.state.data?e.default.createElement(u.SocketSync,{path:\"dice_\".concat(this.state.data.id),data:function(e){if(e){var a=JSON.parse(e);a&&t.updateData(a)}}},this.state.show&&this.state.ready?e.default.createElement(\"section\",{className:\"dice-section-wrapper \".concat(this.state.player?\"\":\"croupier-wrapper\",\" animated fadeIn\")},this.state.player?this.renderPlayer():this.renderCroupier(),e.default.createElement(\"div\",{className:\"dice-wintask-wrapper animated \".concat(this.state.showwin?\"zoomIn\":\"zoomOut\")},e.default.createElement(\"i\",{className:\"fly-win-lines\"},e.default.createElement(\"img\",{src:n.default[\"win-lines\"],alt:\"\"})),e.default.createElement(\"div\",{className:\"dice-wintask \".concat(!this.state.showwinme&&this.state.player?\"lose\":\"\")},e.default.createElement(\"p\",{className:\"dice-win-title\"},\"Победил\",e.default.createElement(\"br\",null),e.default.createElement(\"span\",null,this.state.showwinname)),e.default.createElement(\"div\",{className:\"dice-win-size\"},e.default.createElement(\"div\",{className:\"casino-chips\"},e.default.createElement(\"img\",{src:a.default.chip,alt:\"\"}),e.default.createElement(\"p\",null,r.system.numberFormat(this.state.showwin))))))):e.default.createElement(e.default.Fragment,null)):e.default.createElement(e.default.Fragment,null)}}]),m}();"},"sourceMaps":null,"error":null,"hash":"0ce1791f800fbe21e35784fd6b302bd7","cacheData":{"env":{}}}