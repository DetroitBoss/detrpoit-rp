{"id":"rgkz","dependencies":[{"name":"C:\\onyx_V2\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":33,"index":33},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\node_modules\\react\\index.js"},{"name":"./style.less","loc":{"line":2,"column":7,"index":50},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\style.less"},{"name":"../../../shared/anim","loc":{"line":3,"column":71,"index":138},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\shared\\anim.ts"},{"name":"./assets/closeIcon.svg","loc":{"line":4,"column":22,"index":185},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\assets\\closeIcon.svg"},{"name":"./assets/favorite.svg","loc":{"line":5,"column":22,"index":234},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\assets\\favorite.svg"},{"name":"./assets/social.svg","loc":{"line":6,"column":19,"index":279},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\assets\\social.svg"},{"name":"./assets/services.svg","loc":{"line":7,"column":21,"index":324},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\assets\\services.svg"},{"name":"./assets/dance.svg","loc":{"line":8,"column":18,"index":368},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\assets\\dance.svg"},{"name":"./assets/poses.svg","loc":{"line":9,"column":18,"index":409},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\assets\\poses.svg"},{"name":"./assets/sit.svg","loc":{"line":10,"column":16,"index":448},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\assets\\sit.svg"},{"name":"./assets/speach.svg","loc":{"line":11,"column":19,"index":488},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\assets\\speach.svg"},{"name":"./assets/joy.svg","loc":{"line":12,"column":16,"index":528},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\assets\\joy.svg"},{"name":"./assets/searchIcon.svg","loc":{"line":13,"column":23,"index":572},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\assets\\searchIcon.svg"},{"name":"./assets/favoriteO.svg","loc":{"line":14,"column":26,"index":626},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\assets\\favoriteO.svg"},{"name":"../../modules/custom.event","loc":{"line":15,"column":28,"index":681},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\modules\\custom.event.ts"},{"name":"../../modules/CEF","loc":{"line":16,"column":20,"index":732},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\modules\\CEF.ts"},{"name":"classnames","loc":{"line":17,"column":23,"index":777},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\Animations\\Animations.tsx","resolved":"C:\\onyx_V2\\server\\node_modules\\classnames\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Animations=void 0;var e=h(require(\"react\"));require(\"./style.less\");var t=require(\"../../../shared/anim\"),n=p(require(\"./assets/closeIcon.svg\")),a=p(require(\"./assets/favorite.svg\")),r=p(require(\"./assets/social.svg\")),i=p(require(\"./assets/services.svg\")),o=p(require(\"./assets/dance.svg\")),c=p(require(\"./assets/poses.svg\")),l=p(require(\"./assets/sit.svg\")),u=p(require(\"./assets/speach.svg\")),s=p(require(\"./assets/joy.svg\")),f=p(require(\"./assets/searchIcon.svg\")),m=p(require(\"./assets/favoriteO.svg\")),v=require(\"../../modules/custom.event\"),d=require(\"../../modules/CEF\"),y=p(require(\"classnames\"));function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(\"default\"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}function b(e){return(b=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function E(e,t){return j(e)||_(e,t)||C(e,t)||k()}function k(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function C(e,t){if(e){if(\"string\"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i,o,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return c}}function j(e){if(Array.isArray(e))return e}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(e,t,n){return(t=F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function A(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,F(a.key),a)}}function q(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function F(e){var t=I(e,\"string\");return\"symbol\"===b(t)?t:String(t)}function I(e,t){if(\"object\"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||\"default\");if(\"object\"!==b(a))return a;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}function L(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=x();return function(){var n,a=D(e);if(t){var r=D(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&(\"object\"===b(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return W(e)}function W(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function x(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=exports.Animations=function(p){L(h,e.Component);var g=T(h);function h(t){var n;return S(this,h),(n=g.call(this,t)).input=e.default.createRef(),n.state={activeCat:1,catName:\"Социальные\",array:[],favourite:[{name:\"Играть в гольф\",category:\"Развлечение\"}],purchased:[]},v.CustomEvent.register(\"anim:setFavourite\",function(e){n.setState(w(w({},n.state),{},{favourite:e}))}),v.CustomEvent.callServer(\"anim:getPurchased\").then(function(e){e&&n.setState({purchased:e})}),n}return q(h,[{key:\"componentDidMount\",value:function(){this.getList()}},{key:\"changeCat\",value:function(e,t){this.setState({activeCat:e,catName:t}),8!==e&&this.getList(t)}},{key:\"getList\",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=[],r=void 0===n?this.state.catName:n;if(\"Избранное\"===r)this.state.favourite.map(function(t){e.isFavourite(t.name)&&a.push({key:t.name,value:t.category})});else if(\"\"===this.input.current.value)for(var i=0,o=Object.entries(t.ANIM_LIST[r]);i<o.length;i++){var c=E(o[i],2),l=c[0],u=c[1];a.push({key:l,value:u})}else{for(var s in t.ANIM_LIST)for(var f in t.ANIM_LIST[s])a.push({key:f,value:t.ANIM_LIST[s][f]});a=a.filter(function(t){return t.key.toLowerCase().includes(e.input.current.value.toLowerCase())})}this.setState({array:a})}},{key:\"startAnim\",value:function(e){var t=this.state.favourite.find(function(t){return t.name===e});t?v.CustomEvent.triggerClient(\"anim:play\",t.category,e):v.CustomEvent.triggerClient(\"anim:play\",this.state.catName,e)}},{key:\"changeWalkingStyle\",value:function(e){v.CustomEvent.triggerServer(\"anim:changeWalkingStyle\",e)}},{key:\"setFavourite\",value:function(e){v.CustomEvent.triggerClient(\"anim:switchFavourite\",this.state.catName,e)}},{key:\"close\",value:function(){d.CEF.gui.setGui(null)}},{key:\"stopAnim\",value:function(){v.CustomEvent.triggerClient(\"anim:stopPlaying\")}},{key:\"isFavourite\",value:function(e){var n=(0,t.getPurchaseableModelForAnim)(e);return n?this.state.favourite.some(function(t){return t.name===e})&&this.state.purchased.includes(n.id):this.state.favourite.some(function(t){return t.name===e})}},{key:\"isAnimAvailable\",value:function(e){var n=(0,t.getPurchaseableModelForAnim)(e);return!n||this.state.purchased.includes(n.id)}},{key:\"getAnimationsPage\",value:function(){var t=this;return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"animation-right__search\"},e.default.createElement(\"img\",{src:f.default,alt:\"\"}),e.default.createElement(\"input\",{type:\"text\",ref:this.input,onChange:function(){return t.getList()},placeholder:\"Поиск ...\"})),e.default.createElement(\"div\",{className:\"animation-right-content\"},this.state.array.map(function(n,r){return e.default.createElement(\"div\",{className:(0,y.default)(\"animation-right-content-block\",{\"animation-right-content-block__blocked\":!t.isAnimAvailable(n.key)}),key:r},!t.isAnimAvailable(n.key)&&e.default.createElement(\"div\",{className:\"animation-right-content-block__blocked-text\"},\"Анимация доступна в боевом пропуске\"),e.default.createElement(\"img\",{src:d.CEF.getAnimsURL(n.key),alt:\"\",loading:\"lazy\",className:\"animation-right-content-block__stop\",onClick:function(){return t.startAnim(n.key)},style:{pointerEvents:\"all\"}}),e.default.createElement(\"img\",{src:t.isFavourite(n.key)?a.default:m.default,alt:\"\",style:{pointerEvents:\"all\"},onClick:function(){return t.setFavourite(n.key)}}),e.default.createElement(\"span\",null,n.key))})))}},{key:\"getWalkingStylesPage\",value:function(){var n=this;return e.default.createElement(e.default.Fragment,null,e.default.createElement(\"div\",{className:\"animation-right-content\"},t.WALKING_STYLES.map(function(t,a){return e.default.createElement(\"div\",{className:\"animation-right-content-block\",key:a},e.default.createElement(\"img\",{src:d.CEF.getAnimsURL(t.name),alt:\"\",loading:\"lazy\",className:\"animation-right-content-block__stop\",onClick:function(){return n.changeWalkingStyle(a)},style:{pointerEvents:\"all\"}}),e.default.createElement(\"span\",null,t.name))})))}},{key:\"render\",value:function(){var t=this;return e.default.createElement(\"div\",{className:\"animation\"},e.default.createElement(\"div\",{className:\"closeButton\",onClick:function(){return t.close()}},e.default.createElement(\"div\",null,e.default.createElement(\"img\",{src:n.default,alt:\"\"})),\"Закрыть\"),e.default.createElement(\"div\",{className:\"stopButton\",onClick:function(){return t.stopAnim()}},e.default.createElement(\"div\",null,\"F10\"),\"Остановить анимацию\"),e.default.createElement(\"div\",{className:\"animation-left\"},e.default.createElement(\"div\",{className:\"animation-left__button \".concat(0===this.state.activeCat?\"animation-active\":\"\"),onClick:function(){return t.changeCat(0,\"Избранное\")}},e.default.createElement(\"img\",{src:a.default,alt:\"\"}),\"Избранное\"),e.default.createElement(\"div\",{className:\"animation-left__button \".concat(1===this.state.activeCat?\"animation-active\":\"\"),onClick:function(){return t.changeCat(1,\"Социальные\")}},e.default.createElement(\"img\",{src:r.default,alt:\"\"}),\"Социальные\"),e.default.createElement(\"div\",{className:\"animation-left__button \".concat(2===this.state.activeCat?\"animation-active\":\"\"),onClick:function(){return t.changeCat(2,\"Служебные\")}},e.default.createElement(\"img\",{src:i.default,alt:\"\"}),\"Служебные\"),e.default.createElement(\"div\",{className:\"animation-left__button \".concat(3===this.state.activeCat?\"animation-active\":\"\"),onClick:function(){return t.changeCat(3,\"Танцы\")}},e.default.createElement(\"img\",{src:o.default,alt:\"\"}),\"Танцы\"),e.default.createElement(\"div\",{className:\"animation-left__button \".concat(4===this.state.activeCat?\"animation-active\":\"\"),onClick:function(){return t.changeCat(4,\"Позы\")}},e.default.createElement(\"img\",{src:c.default,alt:\"\"}),\"Позы\"),e.default.createElement(\"div\",{className:\"animation-left__button \".concat(5===this.state.activeCat?\"animation-active\":\"\"),onClick:function(){return t.changeCat(5,\"Сидеть\")}},e.default.createElement(\"img\",{src:l.default,alt:\"\"}),\"Сидеть\"),e.default.createElement(\"div\",{className:\"animation-left__button \".concat(6===this.state.activeCat?\"animation-active\":\"\"),onClick:function(){return t.changeCat(6,\"Монологи\")}},e.default.createElement(\"img\",{src:u.default,alt:\"\"}),\"Монологи\"),e.default.createElement(\"div\",{className:\"animation-left__button \".concat(7===this.state.activeCat?\"animation-active\":\"\"),onClick:function(){return t.changeCat(7,\"Развлечение\")}},e.default.createElement(\"img\",{src:s.default,alt:\"\"}),\"Развлечение\"),e.default.createElement(\"div\",{className:\"animation-left__button \".concat(8===this.state.activeCat?\"animation-active\":\"\"),onClick:function(){return t.changeCat(8,\"Стили походок\")}},e.default.createElement(\"img\",{src:c.default,alt:\"\"}),\"Стили походок\")),e.default.createElement(\"div\",{className:\"animation-right\"},8===this.state.activeCat?this.getWalkingStylesPage():this.getAnimationsPage()))}}]),h}();"},"sourceMaps":null,"error":null,"hash":"e7bd44b8b37e1bc9c4500b67b39f8275","cacheData":{"env":{}}}