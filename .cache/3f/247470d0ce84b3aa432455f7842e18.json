{"id":"abqW","dependencies":[{"name":"D:\\DETROIT\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":33,"index":33},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\new-phone\\components\\messenger\\messenger.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\react\\index.js"},{"name":"./assets/*.png","loc":{"line":2,"column":18,"index":61},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\new-phone\\components\\messenger\\messenger.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\new-phone\\components\\messenger\\assets\\*.png"},{"name":"./messenger.less","loc":{"line":3,"column":7,"index":87},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\new-phone\\components\\messenger\\messenger.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\new-phone\\components\\messenger\\messenger.less"},{"name":"./enums/messenger.enums","loc":{"line":4,"column":31,"index":139},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\new-phone\\components\\messenger\\messenger.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\new-phone\\components\\messenger\\enums\\messenger.enums.ts"},{"name":"./components/MessengerChat","loc":{"line":5,"column":30,"index":197},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\new-phone\\components\\messenger\\messenger.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\components\\new-phone\\components\\messenger\\components\\MessengerChat\\index.ts"},{"name":"classnames","loc":{"line":6,"column":23,"index":251},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\new-phone\\components\\messenger\\messenger.tsx","resolved":"D:\\DETROIT\\server\\node_modules\\classnames\\index.js"},{"name":"../../../../modules/CEF","loc":{"line":7,"column":20,"index":286},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\new-phone\\components\\messenger\\messenger.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\CEF.ts"},{"name":"../../../../modules/custom.event","loc":{"line":8,"column":28,"index":342},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\new-phone\\components\\messenger\\messenger.tsx","resolved":"D:\\DETROIT\\server\\src\\cef\\modules\\custom.event.ts"},{"name":"../../../../../shared/system","loc":{"line":9,"column":27,"index":406},"parent":"D:\\DETROIT\\server\\src\\cef\\components\\new-phone\\components\\messenger\\messenger.tsx","resolved":"D:\\DETROIT\\server\\src\\shared\\system.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Messenger=void 0;var e=l(require(\"react\")),t=i(require(\"./assets/*.png\"));require(\"./messenger.less\");var r=require(\"./enums/messenger.enums\"),n=require(\"./components/MessengerChat\"),s=i(require(\"classnames\")),a=require(\"../../../../modules/CEF\"),o=require(\"../../../../modules/custom.event\"),u=require(\"../../../../../shared/system\");function i(e){return e&&e.__esModule?e:{default:e}}function c(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function m(e){return(m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function g(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function d(e){var t=h(e,\"string\");return\"symbol\"===m(t)?t:String(t)}function h(e,t){if(\"object\"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||\"default\");if(\"object\"!==m(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}function y(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=M();return function(){var r,n=w(e);if(t){var s=w(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return C(this,r)}}function C(e,t){if(t&&(\"object\"===m(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return N(e)}function N(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function M(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=exports.Messenger=function(i){y(l,e.Component);var c=v(l);function l(e){var t;return f(this,l),(t=c.call(this,e)).getDialogsFromServer=function(){o.CustomEvent.callServer(\"phone:messenger:getDialogs\",t.props.phoneId,t.props.phoneNumber).then(function(e){t.setState({chatList:e.map(function(e){return{number:e.number,photo:void 0,time:u.systemUtil.timeStampStringTime(e.time),lastMessage:e.lastMessage,unreadMessages:e.unreadMessages,userName:e.contactName}})})})},t.closeChat=function(){t.getDialogsFromServer(),t.setState({page:r.MessengerPages.MAIN,selectChat:0})},t.state={page:e.targetNumber?r.MessengerPages.CHAT:r.MessengerPages.MAIN,chatList:a.CEF.test?[{userName:\"Steve Jobs\",lastMessage:\"Под айфон косите?\",unreadMessages:!0,time:\"09:41\",number:2222},{userName:\"Jony Ive\",lastMessage:\"За дизайны нужно платить!\",unreadMessages:!0,time:\"09:41\",number:2222},{userName:\"Sanya\",lastMessage:\"За что уволили?\",unreadMessages:!1,time:\"22:45\",number:2222}]:[],selectChat:0},t.props.targetNumber?t.setState({page:r.MessengerPages.CHAT}):t.getDialogsFromServer(),t}return g(l,[{key:\"render\",value:function(){var a=this;return e.default.createElement(e.default.Fragment,null,this.state.page===r.MessengerPages.MAIN&&e.default.createElement(\"div\",{className:\"np-component\"},e.default.createElement(\"div\",{className:\"np-messenger\"},e.default.createElement(\"div\",{className:\"np-messenger-title-wrap\"},e.default.createElement(\"div\",{className:\"np-messenger-title\"},\"Сообщения\")),e.default.createElement(\"div\",{className:\"np-messenger-search-bar\"},e.default.createElement(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},e.default.createElement(\"path\",{d:\"M21.4073 19.7527L16.9969 15.3422C18.0587 13.9286 18.6319 12.208 18.63 10.44C18.63 5.92406 14.9559 2.25 10.44 2.25C5.92406 2.25 2.25 5.92406 2.25 10.44C2.25 14.9559 5.92406 18.63 10.44 18.63C12.208 18.6319 13.9286 18.0587 15.3422 16.9969L19.7527 21.4073C19.9759 21.6069 20.2671 21.7135 20.5664 21.7051C20.8658 21.6967 21.1506 21.574 21.3623 21.3623C21.574 21.1506 21.6967 20.8658 21.7051 20.5664C21.7135 20.2671 21.6069 19.9759 21.4073 19.7527ZM4.59 10.44C4.59 9.28298 4.9331 8.15194 5.5759 7.18991C6.21871 6.22789 7.13235 5.47808 8.2013 5.03531C9.27025 4.59253 10.4465 4.47668 11.5813 4.70241C12.7161 4.92813 13.7584 5.48529 14.5766 6.30343C15.3947 7.12156 15.9519 8.16393 16.1776 9.29872C16.4033 10.4335 16.2875 11.6098 15.8447 12.6787C15.4019 13.7476 14.6521 14.6613 13.6901 15.3041C12.7281 15.9469 11.597 16.29 10.44 16.29C8.88906 16.2881 7.40217 15.6712 6.30548 14.5745C5.2088 13.4778 4.59186 11.9909 4.59 10.44Z\",fill:\"#343435\",fillOpacity:\"0.4\"})),e.default.createElement(\"input\",{type:\"text\",placeholder:\"Поиск\"})),e.default.createElement(\"div\",{className:\"np-messenger-chat-list\"},this.state.chatList.map(function(n,o){return e.default.createElement(\"div\",{onClick:function(){a.setState({page:r.MessengerPages.CHAT,selectChat:o})},className:(0,s.default)(\"np-messenger-chat\",{\"np-messenger-chat-active\":n.unreadMessages}),key:o},e.default.createElement(\"div\",{className:\"np-messenger-chat-photo\"},e.default.createElement(\"img\",{src:t.default.empty,alt:\"\"})),e.default.createElement(\"div\",{className:\"np-messenger-chat-info\"},e.default.createElement(\"div\",{className:\"np-messenger-chat-name\"},n.userName,e.default.createElement(\"div\",{className:\"np-messenger-chat-name__new\"}),e.default.createElement(\"div\",{className:\"np-messenger-chat-name-time\"},n.time)),e.default.createElement(\"div\",{className:\"np-messenger-chat-last-message\"},n.lastMessage)))})))),this.state.page===r.MessengerPages.CHAT&&e.default.createElement(n.MessengerChat,{returnBack:this.closeChat,myNumber:this.props.phoneNumber,myPhoneId:this.props.phoneId,targetName:this.props.targetNumber?this.props.targetName:this.state.chatList[this.state.selectChat].userName,targetNumber:this.props.targetNumber?this.props.targetNumber:this.state.chatList[this.state.selectChat].number}))}}]),l}();"},"sourceMaps":null,"error":null,"hash":"6d0f3ef9bce132701dde2f21162b4d99","cacheData":{"env":{}}}