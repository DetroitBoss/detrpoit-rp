{"id":"O2Tt","dependencies":[{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\package.json","includedInParent":true,"mtime":1727618728003},{"name":"component-emitter","loc":{"line":4,"column":24,"index":185},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\dist\\index.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\component-emitter\\index.js"},{"name":"./binary","loc":{"line":5,"column":25,"index":232},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\dist\\index.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\dist\\binary.js"},{"name":"./is-binary","loc":{"line":6,"column":28,"index":273},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\dist\\index.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\dist\\is-binary.js"},{"name":"debug","loc":{"line":7,"column":22,"index":311},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\dist\\index.js","resolved":"D:\\DETROIT\\server\\node_modules\\debug\\src\\browser.js"}],"generated":{"js":"\"use strict\";function t(t,r,o){return r=u(r),e(t,n()?Reflect.construct(r,o||[],u(t).constructor):r.apply(t,o))}function e(t,e){if(e&&(\"object\"==f(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return r(t)}function r(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function n(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(n=function(){return!!t})()}function o(t,e,r,n){var o=i(u(1&n?t.prototype:t),e,r);return 2&n&&\"function\"==typeof o?function(t){return o.apply(r,t)}:o}function i(){return(i=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=c(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(null,arguments)}function c(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function y(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function h(t){var e=d(t,\"string\");return\"symbol\"==f(e)?e:e+\"\"}function d(t,e){if(\"object\"!=f(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||\"default\");if(\"object\"!=f(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Decoder=exports.Encoder=exports.PacketType=exports.protocol=void 0;var b,N=require(\"component-emitter\"),v=require(\"./binary\"),E=require(\"./is-binary\"),A=require(\"debug\")(\"socket.io-parser\");exports.protocol=5,function(t){t[t.CONNECT=0]=\"CONNECT\",t[t.DISCONNECT=1]=\"DISCONNECT\",t[t.EVENT=2]=\"EVENT\",t[t.ACK=3]=\"ACK\",t[t.CONNECT_ERROR=4]=\"CONNECT_ERROR\",t[t.BINARY_EVENT=5]=\"BINARY_EVENT\",t[t.BINARY_ACK=6]=\"BINARY_ACK\"}(b=exports.PacketType||(exports.PacketType={}));var g=function(){return y(function t(){p(this,t)},[{key:\"encode\",value:function(t){return A(\"encoding packet %j\",t),t.type!==b.EVENT&&t.type!==b.ACK||!E.hasBinary(t)?[this.encodeAsString(t)]:(t.type=t.type===b.EVENT?b.BINARY_EVENT:b.BINARY_ACK,this.encodeAsBinary(t))}},{key:\"encodeAsString\",value:function(t){var e=\"\"+t.type;return t.type!==b.BINARY_EVENT&&t.type!==b.BINARY_ACK||(e+=t.attachments+\"-\"),t.nsp&&\"/\"!==t.nsp&&(e+=t.nsp+\",\"),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),A(\"encoded %j as %s\",t,e),e}},{key:\"encodeAsBinary\",value:function(t){var e=v.deconstructPacket(t),r=this.encodeAsString(e.packet),n=e.buffers;return n.unshift(r),n}}])}();exports.Encoder=g;var k=function(e){function r(){return p(this,r),t(this,r)}return a(r,N),y(r,[{key:\"add\",value:function(t){var e;if(\"string\"==typeof t){if(this.reconstructor)throw new Error(\"got plaintext data when reconstructing a packet\");(e=this.decodeString(t)).type===b.BINARY_EVENT||e.type===b.BINARY_ACK?(this.reconstructor=new w(e),0===e.attachments&&o(r,\"emit\",this,3)([\"decoded\",e])):o(r,\"emit\",this,3)([\"decoded\",e])}else{if(!E.isBinary(t)&&!t.base64)throw new Error(\"Unknown type: \"+t);if(!this.reconstructor)throw new Error(\"got binary data when not reconstructing a packet\");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,o(r,\"emit\",this,3)([\"decoded\",e]))}}},{key:\"decodeString\",value:function(t){var e=0,n={type:Number(t.charAt(0))};if(void 0===b[n.type])throw new Error(\"unknown packet type \"+n.type);if(n.type===b.BINARY_EVENT||n.type===b.BINARY_ACK){for(var o=e+1;\"-\"!==t.charAt(++e)&&e!=t.length;);var i=t.substring(o,e);if(i!=Number(i)||\"-\"!==t.charAt(e))throw new Error(\"Illegal attachments\");n.attachments=Number(i)}if(\"/\"===t.charAt(e+1)){for(var c=e+1;++e;){if(\",\"===t.charAt(e))break;if(e===t.length)break}n.nsp=t.substring(c,e)}else n.nsp=\"/\";var u=t.charAt(e+1);if(\"\"!==u&&Number(u)==u){for(var a=e+1;++e;){var s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}n.id=Number(t.substring(a,e+1))}if(t.charAt(++e)){var f=m(t.substr(e));if(!r.isPayloadValid(n.type,f))throw new Error(\"invalid payload\");n.data=f}return A(\"decoded %s as %j\",t,n),n}},{key:\"destroy\",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:\"isPayloadValid\",value:function(t,e){switch(t){case b.CONNECT:return\"object\"===f(e);case b.DISCONNECT:return void 0===e;case b.CONNECT_ERROR:return\"string\"==typeof e||\"object\"===f(e);case b.EVENT:case b.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case b.ACK:case b.BINARY_ACK:return Array.isArray(e)}}}])}();function m(t){try{return JSON.parse(t)}catch(e){return!1}}exports.Decoder=k;var w=function(){return y(function t(e){p(this,t),this.packet=e,this.buffers=[],this.reconPack=e},[{key:\"takeBinaryData\",value:function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=v.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}},{key:\"finishedReconstruction\",value:function(){this.reconPack=null,this.buffers=[]}}])}();"},"sourceMaps":null,"error":null,"hash":"28d3cf6a32aca55d73cbcb4ee9798d4d","cacheData":{"env":{}}}