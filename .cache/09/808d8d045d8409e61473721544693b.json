{"id":"O2Tt","dependencies":[{"name":"D:\\DETROIT\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"D:\\DETROIT\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\package.json","includedInParent":true,"mtime":1695992244152},{"name":"component-emitter","loc":{"line":4,"column":24,"index":185},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\dist\\index.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\component-emitter\\index.js"},{"name":"./binary","loc":{"line":5,"column":25,"index":232},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\dist\\index.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\dist\\binary.js"},{"name":"./is-binary","loc":{"line":6,"column":28,"index":273},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\dist\\index.js","resolved":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\dist\\is-binary.js"},{"name":"debug","loc":{"line":7,"column":22,"index":311},"parent":"D:\\DETROIT\\server\\node_modules\\socket.io-client\\node_modules\\socket.io-parser\\dist\\index.js","resolved":"D:\\DETROIT\\server\\node_modules\\debug\\src\\browser.js"}],"generated":{"js":"\"use strict\";function t(){return(t=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,r,n){var o=e(t,r);if(o){var i=Object.getOwnPropertyDescriptor(o,r);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function e(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=a();return function(){var r,n=u(t);if(e){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return i(this,r)}}function i(t,e){if(e&&(\"object\"===s(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return c(t)}function c(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function a(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function p(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function y(t){var e=h(t,\"string\");return\"symbol\"===s(e)?e:String(e)}function h(t,e){if(\"object\"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||\"default\");if(\"object\"!==s(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Decoder=exports.Encoder=exports.PacketType=exports.protocol=void 0;var d,b=require(\"component-emitter\"),v=require(\"./binary\"),N=require(\"./is-binary\"),E=require(\"debug\")(\"socket.io-parser\");exports.protocol=5,function(t){t[t.CONNECT=0]=\"CONNECT\",t[t.DISCONNECT=1]=\"DISCONNECT\",t[t.EVENT=2]=\"EVENT\",t[t.ACK=3]=\"ACK\",t[t.CONNECT_ERROR=4]=\"CONNECT_ERROR\",t[t.BINARY_EVENT=5]=\"BINARY_EVENT\",t[t.BINARY_ACK=6]=\"BINARY_ACK\"}(d=exports.PacketType||(exports.PacketType={}));var A=function(){function t(){f(this,t)}return p(t,[{key:\"encode\",value:function(t){return E(\"encoding packet %j\",t),t.type!==d.EVENT&&t.type!==d.ACK||!N.hasBinary(t)?[this.encodeAsString(t)]:(t.type=t.type===d.EVENT?d.BINARY_EVENT:d.BINARY_ACK,this.encodeAsBinary(t))}},{key:\"encodeAsString\",value:function(t){var e=\"\"+t.type;return t.type!==d.BINARY_EVENT&&t.type!==d.BINARY_ACK||(e+=t.attachments+\"-\"),t.nsp&&\"/\"!==t.nsp&&(e+=t.nsp+\",\"),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),E(\"encoded %j as %s\",t,e),e}},{key:\"encodeAsBinary\",value:function(t){var e=v.deconstructPacket(t),r=this.encodeAsString(e.packet),n=e.buffers;return n.unshift(r),n}}]),t}();exports.Encoder=A;var g=function(e){r(i,b);var n=o(i);function i(){return f(this,i),n.call(this)}return p(i,[{key:\"add\",value:function(e){var r;if(\"string\"==typeof e){if(this.reconstructor)throw new Error(\"got plaintext data when reconstructing a packet\");(r=this.decodeString(e)).type===d.BINARY_EVENT||r.type===d.BINARY_ACK?(this.reconstructor=new R(r),0===r.attachments&&t(u(i.prototype),\"emit\",this).call(this,\"decoded\",r)):t(u(i.prototype),\"emit\",this).call(this,\"decoded\",r)}else{if(!N.isBinary(e)&&!e.base64)throw new Error(\"Unknown type: \"+e);if(!this.reconstructor)throw new Error(\"got binary data when not reconstructing a packet\");(r=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,t(u(i.prototype),\"emit\",this).call(this,\"decoded\",r))}}},{key:\"decodeString\",value:function(t){var e=0,r={type:Number(t.charAt(0))};if(void 0===d[r.type])throw new Error(\"unknown packet type \"+r.type);if(r.type===d.BINARY_EVENT||r.type===d.BINARY_ACK){for(var n=e+1;\"-\"!==t.charAt(++e)&&e!=t.length;);var o=t.substring(n,e);if(o!=Number(o)||\"-\"!==t.charAt(e))throw new Error(\"Illegal attachments\");r.attachments=Number(o)}if(\"/\"===t.charAt(e+1)){for(var c=e+1;++e;){if(\",\"===t.charAt(e))break;if(e===t.length)break}r.nsp=t.substring(c,e)}else r.nsp=\"/\";var a=t.charAt(e+1);if(\"\"!==a&&Number(a)==a){for(var u=e+1;++e;){var s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}r.id=Number(t.substring(u,e+1))}if(t.charAt(++e)){var f=m(t.substr(e));if(!i.isPayloadValid(r.type,f))throw new Error(\"invalid payload\");r.data=f}return E(\"decoded %s as %j\",t,r),r}},{key:\"destroy\",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:\"isPayloadValid\",value:function(t,e){switch(t){case d.CONNECT:return\"object\"===s(e);case d.DISCONNECT:return void 0===e;case d.CONNECT_ERROR:return\"string\"==typeof e||\"object\"===s(e);case d.EVENT:case d.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case d.ACK:case d.BINARY_ACK:return Array.isArray(e)}}}]),i}();function m(t){try{return JSON.parse(t)}catch(e){return!1}}exports.Decoder=g;var R=function(){function t(e){f(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return p(t,[{key:\"takeBinaryData\",value:function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=v.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}},{key:\"finishedReconstruction\",value:function(){this.reconPack=null,this.buffers=[]}}]),t}();"},"sourceMaps":null,"error":null,"hash":"54e5feda1818e9ff77b8bc3e426ed391","cacheData":{"env":{}}}