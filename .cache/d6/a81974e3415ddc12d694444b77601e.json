{"id":"axF4","dependencies":[{"name":"C:\\onyx_V2\\server\\tsconfig.json","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\.babelrc","includedInParent":true,"mtime":1660943058000},{"name":"C:\\onyx_V2\\server\\package.json","includedInParent":true,"mtime":1697927911090},{"name":"react","loc":{"line":1,"column":33,"index":33},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"C:\\onyx_V2\\server\\node_modules\\react\\index.js"},{"name":"./../Provoda/assets/style.less","loc":{"line":2,"column":7,"index":50},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Provoda\\assets\\style.less"},{"name":"react-draggable","loc":{"line":3,"column":30,"index":115},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"C:\\onyx_V2\\server\\node_modules\\react-draggable\\build\\cjs\\cjs.js"},{"name":"./../Provoda/assets/mouse.svg","loc":{"line":4,"column":18,"index":153},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Provoda\\assets\\mouse.svg"},{"name":"./assets/drill.png","loc":{"line":5,"column":18,"index":205},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\assets\\drill.png"},{"name":"./assets/sverlo1.png","loc":{"line":6,"column":20,"index":248},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\assets\\sverlo1.png"},{"name":"./assets/sverlo2.png","loc":{"line":7,"column":20,"index":293},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\assets\\sverlo2.png"},{"name":"./assets/wood.png","loc":{"line":8,"column":17,"index":335},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\assets\\wood.png"},{"name":"./../Success/success","loc":{"line":9,"column":24,"index":381},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Success\\success.tsx"},{"name":"../../../modules/CEF","loc":{"line":10,"column":20,"index":426},"parent":"C:\\onyx_V2\\server\\src\\cef\\components\\MiniGame\\Drill\\index.tsx","resolved":"C:\\onyx_V2\\server\\src\\cef\\modules\\CEF.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DrillGame=void 0;var t=f(require(\"react\"));require(\"./../Provoda/assets/style.less\");var e=require(\"react-draggable\"),n=c(require(\"./../Provoda/assets/mouse.svg\")),r=c(require(\"./assets/drill.png\")),o=c(require(\"./assets/sverlo1.png\")),i=c(require(\"./assets/sverlo2.png\")),a=c(require(\"./assets/wood.png\")),l=require(\"./../Success/success\"),u=require(\"../../../modules/CEF\");function c(t){return t&&t.__esModule?t:{default:t}}function s(t){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}function f(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||\"object\"!=typeof t&&\"function\"!=typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(\"default\"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function d(t){return(d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){m(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function m(t,e,n){return(e=g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function b(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function g(t){var e=w(t,\"string\");return\"symbol\"===d(e)?e:String(e)}function w(t,e){if(\"object\"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||\"default\");if(\"object\"!==d(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}function O(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&E(t,e)}function E(t,e){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=_();return function(){var n,r=x(t);if(e){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(t,e){if(e&&(\"object\"===d(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return S(t)}function S(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function _(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M={min:4,max:8},D=exports.DrillGame=function(c){O(f,t.Component);var s=j(f);function f(e){var n;return v(this,f),(n=s.call(this,e)).successGame=function(){n.props.status(!0),console.log(\"end game\")},n.timerGame=function(){n.state.time<=1&&clearInterval(n.intervalID),n.setState(h(h({},n.state),{},{time:n.state.time-1}))},n.successPoint=function(){console.log(n.state.point.filter(function(t){return!0===t.attached}).length,n.state.point.length),n.state.point.filter(function(t){return!0===t.attached}).length>=n.state.point.length&&n.successGame()},n.componentDidMount=function(){for(var e=M.min+Math.floor(Math.random()*Math.floor(M.max-M.min)),r=[],o=0;o<e;o++)r.push({attached:!1,position:[0,10+8*o+4*Math.random()],width:[0,10],lottie:t.default.createRef()});n.setState(h(h({},n.state),{},{point:r}))},n.handleEvent=function(t){var e=n.state.drill,r=n.state.point,o=t.deltaX/document.documentElement.clientWidth*100,i=t.deltaY/document.documentElement.clientHeight*100,a=n.state.sound,l=[e.position[0]-o,e.position[1]+i];if(e.position[0]<0){var c=!1;if(n.state.point.map(function(t,n){Math.abs(t.position[1]-4.5-e.position[1])<1&&(t.width[0]<t.width[1]||l[0]>-10)&&(c=!0,l[1]=t.position[1]-4.5,t.width[0]+=o/5,null===a[0]&&(a[0]=u.CEF.playSound(\"drel\",.05)),l[0]=e.position[0]-o/5,!1===r[n].attached&&t.width[0]>=t.width[1]&&(r[n].attached=!0,r[n].lottie.current.play()))}),o<0)l[1]=e.position[1];else if(!1===c)return}else if(o<0&&null!==a[0]&&null===a[1]){a[1]=.05;var s=setInterval(function(){a[1]-=.005,a[1]<=.005?(a[0].pause(),a[0].unload(),a[0]=null,a[1]=null,clearInterval(s)):a[0].volume(a[1]),n.setState(h(h({},n.state),{},{sound:a}))},100)}e.position[0]=l[0],e.position[1]=l[1],n.setState(h(h({},n.state),{},{drill:e,point:r,sound:a}))},n.PrefInt=function(t,e){return t.length<e?\"0\"+t:t},n.state={time:20,drill:{position:[30,50]},point:[],sound:[null,null]},n.intervalID=setInterval(n.timerGame,1e3),n}return b(f,[{key:\"render\",value:function(){var u=this;return t.default.createElement(t.default.Fragment,null,t.default.createElement(\"div\",{className:\"provoda_browser\",style:{mixBlendMode:\"normal\",background:\"radial-gradient(50% 50% at 50% 50%, rgba(58, 71, 31, 0.64) 0%, rgba(25, 31, 18, 0.94) 100%)\"}},t.default.createElement(\"div\",{className:\"provoda_info\"},t.default.createElement(\"div\",null,t.default.createElement(\"h1\",null,\"Просверлите\"),t.default.createElement(\"h2\",null,\"Отверстия\"),t.default.createElement(\"h3\",null,\"Сверилте отверстия на метках\")),t.default.createElement(\"div\",{className:\"provoda_bottom\"},t.default.createElement(\"img\",{src:n.default}),t.default.createElement(\"h4\",null,\"Двигайте мышью, чтобы управлять дрелью\"))),t.default.createElement(\"img\",{src:a.default,style:{zIndex:9999,mixBlendMode:\"normal\",isolation:\"isolate\",position:\"absolute\",right:0,width:\"30vh\",height:\"100vh\"}}),this.state.point.map(function(e){return t.default.createElement(t.default.Fragment,null,t.default.createElement(\"div\",{style:{zIndex:1e4,mixBlendMode:\"normal\",position:\"absolute\",right:\"20vh\",width:\"\".concat(e.width[1],\"vh\"),height:\"1.2vh\",top:\"\".concat(e.position[1],\"vh\"),opacity:.9,backgroundColor:e.attached?\"rgb(25, 31, 18)\":\"#FFFFFFFF\",borderRadius:\"0 1vh 1vh 0\"}}),t.default.createElement(\"div\",{style:{zIndex:!0===e.attached?99999:-1,display:\"flex\",right:\"10vh\",position:\"absolute\",justifyContent:\"center\",width:\"5vh\",height:\"5vh\",top:\"\".concat(e.position[1]-2.5,\"vh\")}},(0,l.Success)(e.lottie,u.successPoint)))}),t.default.createElement(e.DraggableCore,{key:\"dr_\".concat(1),grid:[.5,.5],onStart:function(t,e){return u.handleEvent(e)},onDrag:function(t,e){return u.handleEvent(e)},onStop:function(t,e){return u.handleEvent(e)}},t.default.createElement(\"div\",{style:{top:\"\".concat(this.state.drill.position[1],\"vh\"),zIndex:10001,display:\"flex\",right:\"calc( \".concat(this.state.drill.position[0],\"vh + 30vh )\"),position:\"absolute\"}},t.default.createElement(\"img\",{src:r.default,style:{minWidth:\"50vh\",minHeight:\"50vh\",width:\"50vh\",height:\"50vh\",zIndex:10002,pointerEvents:\"none\"}}),t.default.createElement(\"div\",{style:{marginBottom:\"40vh\",height:\"10vh\",width:\"30vh\",marginLeft:\"-10vh\",overflow:\"hidden\"}},t.default.createElement(\"img\",{className:\"drillgame_sverlo\",src:o.default,style:{width:\"100%\",height:\"100%\",pointerEvents:\"none\"}})),t.default.createElement(\"img\",{src:i.default,style:{marginBottom:\"40vh\",height:\"10vh\",width:\"1vh\",pointerEvents:\"none\"}})))))}}]),f}();"},"sourceMaps":null,"error":null,"hash":"2652f13dcc0adff99c9e27fd36f47462","cacheData":{"env":{}}}